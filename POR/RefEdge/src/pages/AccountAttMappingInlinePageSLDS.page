<!-- 
 * ReferenceEdge
 * 
 * Point of Reference, Inc. - Copyright 2014 All rights reserved.
 *
 * @company : Point of Reference, Inc.
 * @website : www.point-of-reference.com
 *
 * Disclaimer: THIS SOFTWARE IS PROVIDED "AS-IS" BY POINT OF REFERENCE ("POR"), 
 * WITH NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF THE SOFTWARE, 
 * EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES 
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. 
 * POR SHALL NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, 
 * MODIFYING OR DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES. POR IS NOT LIABLE FOR, 
 * AND MAKES NO REPRESENTATIONS OR WARRANTIES REGARDING, THE ACTIONS OR OMISSIONS OF 
 * ANY THIRD PARTIES (OR THE PRODUCTS OR SERVICES OFFERED BY ANY THIRD PARTIES) INCLUDING, 
 * WITHOUT LIMIATION, SALESFORCE.COM. COPY, USE OR DISTRIBUTION PROHIBITED WITHOUT EXPRESS 
 * WRITTEN CONSENT FROM COMPANY. 
 -->
<apex:page standardController="Account" showheader="false" sidebar="false" extensions="SLDSAccountAttMappingExtension" applybodytag="false" doctype="html-5.0" applyhtmltag="false">
<html ng-app="myApp" ng-controller="myCtrl"  ng-cloak="ng-cloak">
   <head>
    <style type="text/css">
            table td div {
                white-space: normal !important;
            } 
            table td:nth-child(1) {
                width: 200px;
            }

            table th:nth-child(2) {
                width: 200px;
            }

            table td:nth-child(2) {
                width: 200px;
            }

            table th:nth-child(3) {
                width: 200px;
            }
            
            table td:nth-child(3) {
                width: 150px;
            }
            
            table th:nth-child(4) {
                width: 150px;
            }
            
            table td:nth-child(4) {
                width: 150px;
            }
            
            table th:nth-child(5) {
                width: 150px;
            }
            
            table td:nth-child(5) {
                width: 150px;
            }
            
            table th:nth-child(6) {
                width: 150px;
            }
            
            table td:nth-child(6) {
                width: 150px;
            }
            
            table th:nth-child(7) {
                width: 150px;
            }
            
            table td:nth-child(7) {
                width: 150px;
            }
            
            table th:nth-child(8) {
                width: 150px;
            }
            
            table td:nth-child(8) {
                width: 150px;
            } 
            table td:nth-child(9) {
                width: 150px;
            } 
            .slds-theme--shade.custom {
                display: block;
                width: 100px;
                text-align: left;
            }
            
            a {
                color: #000000 !important;
            }
           th , td {
              font-size : 9px !important;
             }
             @media (max-width: 48em){
                  th , td {
              font-size : 12px !important;
             }
             }

    </style>
    <script src="{!URLFOR($Resource.AngularJS)}"></script>
    <apex:stylesheet value="{!URLFOR($Resource.LightningCSS, 'assets/styles/salesforce-lightning-design-system-vf.css')}" />
    <script>
                var myApp = angular.module('myApp', []); 
                myApp.controller('myCtrl', function ($scope, $window) {
                     $scope.requestObject = []; 
                     $scope.mappingCount=0;
                     $scope.init = function () { 
                      $scope.requestObject = [];
                         Visualforce.remoting.Manager.invokeAction(
                           '{!$RemoteAction.SLDSAccountAttMappingExtension.getAccountAttMappingList}', 
                           function(result, event) {
                               if (result != null) {  
                                   $scope.requestObject= result ; 
                                   mappingCount=result.count; 
                                   $scope.$apply(); 
                               }
                           },
                           {escape: true}
                       ); 
                     }
                 });
     </script>

</head>
<body class="slds">
 <span ng-hide="{!isFullLicenseAccessible}"> {!$Label.User_License}</span>  
    <form ng-show="{!isFullLicenseAccessible}">       
         <div ng-init="init();" ng-show="true" >
               <table cellpadding="1" class="slds-table slds-table--bordered slds-max-medium-table--stacked-horizontal"
                                        cellspacing="1" width="100%" border="0"
                                        style="border-collapse: collapse; border-spacing: 1px">
                   <thead>
                        <tr class="slds-text-heading--label">
                              <th class="slds-is-sortable" scope="col">
                                       <div >{!$Label.Name}</div>
                              </th>
                              <th  class="slds-is-sortable" scope="col">
                                        <div >{!$Label.T_Mapped_Field}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                       <div >{!$Label.T_Associated_Filter}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                         <div >{!$Label.T_Associated_Attribute}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                         <div >{!$Label.T_Inheritable}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                         <div >{!$Label.T_Auto_Update}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                          <div >{!$Label.T_Auto_Populate}</div>
                              </th>
                              <th class="slds-is-sortable"  scope="col">
                                          <div >{!$Label.T_Auto_Delete}</div>
                              </th>
                              <th class="slds-is-sortable" scope="col">
                                           <div >{!$Label.T_Auto_Add}</div>
                              </th>
                              <th class="slds-cell-shrink"></th>
                             </tr>
                       </thead>
                       <tbody>
                           <tr class="slds-hint-parent" ng-repeat="field in requestObject" >
                              <td   data-label="{!$Label.Name}">
                                      <div><a href="/{{field.Id}}" target="_blank">{{field.Name}}</a></div> 
                              </td>
                              <td  data-label="{!$Label.T_Mapped_Field}"> 
                                      <div><span>{{field.Mapped_Field}}</span> 
                                          </div>
                              </td>
                              <td  data-label="{!$Label.T_Associated_Filter}"> 
                                      <div><span>{{field.Associated_Filter}}</span>
                                           </div>
                              </td>                
                              <td  data-label="{!$Label.T_Associated_Attribute}"> 
                                      <div><span>{{field.Associated_Attribute}}</span>
                                            </div>
                              </td>
                              <td  data-label="{!$Label.T_Inheritable}">
                                       <div> <input type="checkbox" disabled="true" ng-checked='field.Inheritable == true' />
                                             </div> 
                              </td>
                              <td  data-label="{!$Label.T_Auto_Update}">
                                       <div><input type="checkbox" disabled="true" ng-checked='field.Auto_Update== true' />
                                               </div>
                              </td>
                              <td  data-label="{!$Label.T_Auto_Populate}">
                                        <div>
                                               <input type="checkbox" disabled="true" ng-checked='field.Auto_Populate == true' /> 
                                        </div>
                              </td>
                              <td  data-label="{!$Label.T_Auto_Delete}">
                                        <div>
                                                <input type="checkbox" disabled="true" ng-checked='field.Auto_Delete == true' /> 
                                        </div>
                              </td>
                              <td  data-label="{!$Label.T_Auto_Add}">
                                        <div>
                                                <input type="checkbox" disabled="true" ng-checked='field.Auto_Add== true' /> 
                                        </div>
                              </td>
                            </tr> 
                        </tbody>
                     </table>   
          </div>
          <span ng-show="requestObject.length==0"> {!$Label.No_Records_Found}</span>  
    </form>
  </body>
</html>
</apex:page>