<apex:component controller="GlobalController">
   <div class="content">
                <div class="col-lg-2 col-md-2 sidePanel" ng-class="{'deActice-SidePanel' : CustomerOrderModel.isWizardMode}">
                    <div class="orderNumber row">
                        <span>ORDER #:  
                            <span>{{CustomerOrderModel.coHeaderDetails.OrderName}}</span>
                        
                        </span>
                    </div>
                    <div class="sidepaneluserinfo row">
            
                        <div class="userNameblock">
                            <p> 
                                <span ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'"> 
                                <a  ng-mouseover="CustomerOrderModel.showCustomerInfoOverlay($event, CustomerOrderModel.Customer.Value);" 
                                    ng-mouseleave="CustomerOrderModel.hideCustomerInfoOverlay();" id="CO_workflow_sidepanel_cust_name_link" >
                                {{CustomerOrderModel.Customer.Name}} 
                                </a>
                                </span>
                                <span class="customerName" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale' || CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'"> 
                                {{CustomerOrderModel.Customer.Name}} 
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row statusRow">
                        <span class="userStatus"></span>
                        <span class="userStatus"></span>
                        <span class="divider"></span>
                    </div>
                    <div class="leftPanelLinks">
                        <a class="row T10 mainSectionLink" ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#CustomerSection'}" 
                            href="#CustomerSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'Customer')" ><span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Info}}</span>Info</a>                        
                        <div ng-show = "CustomerOrderModel.DealInfo !=undefined && CustomerOrderModel.DealInfo != null &&  
                        	CustomerOrderModel.DealInfo.length != 0 && 
                        	CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal') > -1 && 
                        	CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale'" >
	                        <a class="row T10 mainSectionLink"   ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#DealSection'}" 
	                        	href="#DealSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'Deal')" 
	                        	ng-show = "CustomerOrderModel.DealInfo !=undefined && CustomerOrderModel.DealInfo != null &&  
	                        	CustomerOrderModel.DealInfo.length != 0 && 
	                        	CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal') > -1 && 
	                        	CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale'" >
	                        	<span class="alphabetLetter">
	                        		{{CustomerOrderModel.LeftSideHeadingLables.Deal}}
	                        	</span>
	                        	Deal</a> 
	                        <a class="row T10 subSectionLink" href="#DealSection" ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale' && CustomerOrderModel.DealItemList.length > 0"
	                            ng-class="{'active' : CustomerOrderModel.activeSidepanelink == DealItem.SectionID}"  
	                            ng-click="CustomerOrderModel.sidepanelLink($event, 'Deal')" >
	                        	<span class="alphabetLetter">
	                        	</span>
	                        	Info
	                        </a>
	                         <a class="row T10 subSectionLink" ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale' && CustomerOrderModel.DealUnresolvedFulfillmentList.length>0 "
	                            ng-class="{'active' : CustomerOrderModel.activeSidepanelink == '#UnresolvedFulfillmentSection'}"  
	                            ng-click="CustomerOrderModel.sidepanelLink($event, 'UnresolvedFulfillmentSection')" 
	                            href="#UnresolvedFulfillmentSection">
	                        	<span class="alphabetLetter"></span>
	                        	Unresolved Fulfillments</a>
	                        <div class="row T10" ng-repeat="DealItem in CustomerOrderModel.DealItemList" ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale'">
	                            <a class="row T10 subSectionLink" href="#DealUnitSection{{$index}}" 
	                                ng-class="{'active' : CustomerOrderModel.activeSidepanelink == DealItem.SectionID}"  
	                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Deal',null,null,'dealUnitSection')" >
	                            <span class="alphabetLetter"></span>Unit{{$index + 1}} <span ng-if="DealItem.DealItemObj.UnitNumber != null">-</span> {{DealItem.DealItemObj.UnitNumber}}
	                            </a>
	                            <a class="row T10 subSectionLink" href="#DealOptionAndFeesUnitSection{{$index}}" 
	                                ng-class="{'active' : CustomerOrderModel.activeSidepanelink == DealItem.SectionID}"  
	                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Deal',null,null,'dealUnitSection')" >
	                            <span class="alphabetLetter"></span>Unit{{$index + 1}} Options &amp; Fees
	                            </a>
	                        </div>
	                        <div class="row T10" ng-repeat="DealItem in CustomerOrderModel.DealTradeInList" ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale'">
	                            <a class="row T10 subSectionLink" href="#DealTradeInSection{{$index}}" 
	                                ng-class="{'active' : CustomerOrderModel.activeSidepanelink == DealItem.SectionID}"  
	                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Deal',null,null,'dealUnitSection')" >
	                            <span class="alphabetLetter"></span>Trade{{$index + 1}}
	                            </a>
	                        </div>
	                        <a class="row T10 subSectionLink" ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale' && 
	                        	CustomerOrderModel.DealItemList.length > 0 && CustomerOrderModel.DealInfo.DealStatus != 'Quotation' && GroupOnlyPermissions['Deal']['create/modify']"
	                            ng-class="{'active' : CustomerOrderModel.activeSidepanelink == '#DepositsAndPaymentsSection'}"  
	                            ng-click="CustomerOrderModel.sidepanelLink($event, 'DepositsAndPaymentsSection',null,null,'dealUnitSection')" 
	                            href="#DepositsAndPaymentsSection">
	                        <span class="alphabetLetter"></span>Deposits &amp; Payments</a>
                        </div>
                        <div ng-show="CustomerOrderModel.IsLoadFinancingSection && CustomerOrderModel.DealInfo.DealType == 'Financed' && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal') > -1 && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale'">
                        <a class="row T10 mainSectionLink" ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#DealFinancingSection'}" 
                        href="#DealFinancingSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'Financing')" >
                            <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Financing}}</span>Financing</a>        
                        <a class="row T10 subSectionLink" href="#DealFinancingSection" 
                            ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale' && CustomerOrderModel.DealItemList.length > 0"
                            ng-click="CustomerOrderModel.sidepanelLink($event, 'Financing')" >
                            <span class="alphabetLetter"></span>Summary
                        </a>
                        <a class="row T10 subSectionLink" href="#FAndIProductsSection" 
                            ng-show = "CustomerOrderModel.coHeaderDetails.SellingGroup != 'Cash Sale' && CustomerOrderModel.DealItemList.length > 0" 
                            ng-click="CustomerOrderModel.sidepanelLink($event, 'Financing' ,null,null,'dealUnitSection')" >
                            <span class="alphabetLetter"></span>F&amp;I Products
                        </a> 
                        </div>       
                        <a class="row T10 mainSectionLink" ng-show="(CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection' 
                        || CustomerOrderModel.DealMerchandiseList.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1" 
                        ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection'}" 
                        href="#DealMerchandiseSection" 
                        ng-click="CustomerOrderModel.sidepanelLink($event, 'DealMerchandise')" >
                        <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.DealMerchandise}}</span>Deal Merchandise</a>                    
                        <a class="row T10 subSectionLink" ng-show="(CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection' || CustomerOrderModel.DealMerchandiseList.length > 0) 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1" 
                        href="#DealMerchandiseSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'DealMerchandise')" >
                        <span class="alphabetLetter"></span>Items</a>
                        <div ng-show="CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_ServiceOrder')>-1" ng-repeat="serviceOrder in CustomerOrderModel.serviceOrderList ">
                            <a class="row T10 mainSectionLink" href="{{serviceOrder.SectionID}}" 
                                ng-class="{'active' : CustomerOrderModel.activeSidepanelink ==serviceOrder.SectionID}"  
                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Customer')" >
                            <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables['ServiceOrder'+$index]}}</span>{{serviceOrder.Name}}
                            </a>
                            <a class="row T10 subSectionLink subSectionwc" href="#ServiceInfoSection{{$index}}" 
                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Customer', true, false)" >
                            <span class="Servicegray">Work :</span> 
                            <span class="userStatus feeuserstatus ng-scope">
                            {{CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus}}
                            </span>
                            </a>
                            <a  class="row T10 subSectionLink subSectionwc" href="#ServiceInfoSection{{$index}}"
                                ng-if="CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType == 'Third-Party'"
                                ng-click="CustomerOrderModel.sidepanelLink($event, 'Customer', false, true)" >
                            <span class="Servicegray">Claim :</span>
                            <span class="userStatus feeuserstatus ng-scope" style="color:#E80000">
                            {{CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.ClaimStatus}}
                            </span>
                            </a>
                            <a class="row T10 subSectionLink"   href="#ServiceItemSection{{$index}}" ng-click="CustomerOrderModel.sidepanelLink($event, 'Checkout',null,null,'ServiceOrderItems')"
                                ng-show="CustomerOrderModel.SOHeaderList[$index].SOGridItems.length > 0 || CustomerOrderModel.SOHeaderList[$index].ShowItemsGrid == true">
                                <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                <span class="alphabetLetter"></span>Items
                            </a>
                            <a class="row T10 subSectionLink"   href="#ServiceHLSection{{$index}}" ng-click="CustomerOrderModel.sidepanelLink($event, 'Checkout' ,null,null,'HoursLogged')"
                                ng-show="CustomerOrderModel.SOHeaderList[$index].HoursLoggedList.length > 0 || CustomerOrderModel.SOHeaderList[$index].ShowHoursLoggedGrid == true">
                                <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                <span class="alphabetLetter"></span>Hours Logged
                            </a>
                            <a class="row T10 subSectionLink"   href="#ServiceCustomerApprovalSection{{$index}}" ng-click="CustomerOrderModel.sidepanelLink($event, 'Checkout' ,null,null,'CustomerApprovals')"
                                ng-show="CustomerOrderModel.SOHeaderList[$index].CustomerApprovalList.length > 0 || CustomerOrderModel.SOHeaderList[$index].ShowApprovalsGrid == true">
                                <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                <span class="alphabetLetter"></span>Customer Approvals
                            </a>
                            <!-- START: Added by Kajal - #178 - 01/10/2016 -->
                            <a class="row T10 subSectionLink" href="#ServiceAttachmentsSection{{$index}}" ng-click="CustomerOrderModel.sidepanelLink($event, 'Checkout',null,null,'Attachments')"
                                ng-show="CustomerOrderModel.SOHeaderList[$index].AttachmentList.length > 0 "> 
                            <span class="alphabetLetter"></span>Attachments</a>
                            <!-- END: Added by Kajal - #178 - 01/10/2016 -->
                        </div>
                        <!-- END: kajal 12/19/2016 -->
                        <!-- Edited by kajal 11/09/2016 -->
                        <a class="row T10 mainSectionLink" ng-show="((CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1) || ((CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale') && CustomerOrderModel.hideMerchandiseSection == false)" ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#MerchandiseSection'}" 
                            href="#MerchandiseSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'Merchandise')" ><span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Merchandise}}</span>Merchandise</a>                    
                        <a class="row T10 subSectionLink" ng-show="((CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1) || ((CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale') && CustomerOrderModel.hideMerchandiseSection == false)" href="#MerchandiseSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'Merchandise')">
                        <span class="alphabetLetter"></span>Items</a><!-- Edited by Kajal - 14th june 2017 #2344 -->
                        <a class="row T10 mainSectionLink" ng-show="CustomerOrderModel.SpecialOrder.length > 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Special_Orders')>-1" ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#SpecialOrderSection'}" 
                            href="#SpecialOrderSection" ng-click="CustomerOrderModel.sidepanelLink($event, 'SpecialOrder')" ><span class="alphabetLetter"> {{CustomerOrderModel.LeftSideHeadingLables.Special_Orders}}</span>Special Orders</a>
                        <a class="row T10 mainSectionLink"   ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#DepositSection'}" 
                            href="#DepositSection" ng-click="CustomerOrderModel.showPermissionSection('Deposit');CustomerOrderModel.sidepanelLink($event, 'Deposit')" 
                            ng-show = "CustomerOrderModel.Customer.Name !=null &&  CustomerOrderModel.displayCODepositeSection()"><!-- ng-show edited by kajal 7th april, 2017 -->
                            <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Deposits}}</span>Deposits</a><!-- Edited 15th march kajal 2017 -->
                        <div ng-show="CustomerOrderModel.showCheckoutSection == true && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' 
                        && GroupOnlyPermissions['Customer invoicing']['create/modify']"><!-- Added by kajal 03/03/2017 #1590 -->
                        <a class="row T10 mainSectionLink" ng-show="CustomerOrderModel.CheckOutItems.length > 0 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1" 
                        ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#CheckoutSection'}" 
                            href="#CheckoutSection" ng-click="CustomerOrderModel.checkoutRightArrowClick();CustomerOrderModel.sidepanelLink($event, 'Checkout')" >
                            <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Checkout}}</span>Checkout</a><!-- Edited 15th march kajal 2017 -->
                        <a class="row T10 subSectionLink"  
                        ng-show="CustomerOrderModel.CheckOutItems.length > 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1"  
                        href="#CheckoutSection" ng-click="CustomerOrderModel.checkoutRightArrowClick();CustomerOrderModel.sidepanelLink($event, 'Checkout')">
                        <span class="alphabetLetter"></span>Items</a><!-- Edited 15th march kajal 2017 -->
                        <a class="row T10 subSectionLink" ng-show="CustomerOrderModel.CheckOutItems.length > 0 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1
                        && CustomerOrderModel.checkOutMode != 'Internal'
                        && CustomerOrderModel.checkOutMode != 'Third-Party' 
                        && CustomerOrderModel.checkOutMode != 'Deal'"  href="#CheckoutFinalizeSection" 
                        ng-click="CustomerOrderModel.checkoutRightArrowClick();CustomerOrderModel.sidepanelLink($event, 'Checkout')"><!-- 17th april, 2017 kajal -->
                        <span class="alphabetLetter"></span>Payments</a><!-- Edited 15th march kajal 2017 -->
                        <a class="row T10 subSectionLink" ng-show="CustomerOrderModel.CheckOutItems.length > 0 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1
                        && (CustomerOrderModel.checkOutMode == 'Internal' || CustomerOrderModel.checkOutMode == 'Deal' || CustomerOrderModel.checkOutMode == 'Third-Party')"  
                        href="#CheckoutFinalizeSection" 
                        ng-click="CustomerOrderModel.checkoutRightArrowClick();CustomerOrderModel.sidepanelLink($event, 'Checkout')"><!-- 17th april, 2017 kajal -->
                        <span class="alphabetLetter"></span>Finalize Order</a><!-- Edited 15th march kajal 2017 --><!-- Edited 13th april, 2017 by kajal #1895 -->
                        </div><!-- Added by kajal 03/03/2017 #1590 -->
                        <a class="row T10 mainSectionLink" ng-show="CustomerOrderModel.InvoiceHistory.length > 0" ng-class="{'active' : CustomerOrderModel.activeSidepanelink =='#InvoiceHistory'}" 
                            href="#InvoiceHistory" ng-click="CustomerOrderModel.sidepanelLink($event, 'InvoiceHistory')" >
                        <span class="alphabetLetter">{{CustomerOrderModel.LeftSideHeadingLables.Invoice_History}}</span>Invoice History</a>
                    </div>
                    <!-- Section Totals -->
                    <div class="sideBarTotals">
                        <div class="C1 orderleftPanelLinks"> 
                            <div class="ordertotal">
                                <span class= "left T10 subSectionLink"><strong>Order Total</strong></span>
                                <span class= "right T10 subSectionLink text-right">{{CustomerOrderModel.coHeaderDetails.OrderTotal | currency}}</span>
                            </div>
                            <div class="ordertotal" >
                                <span class= "left T10 subSectionLink">INVOICED</span>
                                <span class= "right T10 subSectionLink text-right">{{CustomerOrderModel.coHeaderDetails.InvoicedAmount | currency}}</span>
                            </div>
                            <div class="ordertotal">
                                <span class= "left T10 subSectionLink">UNINVOICED</span>
                                <span class= "right T10 subSectionLink text-right">{{CustomerOrderModel.coHeaderDetails.UninvoicedAmount | currency}}</span>
                            </div>
                            <!-- Start: Ticket#102: Added by pooja 06-09-2016 -->
                            <div class="ordertotal">
                                <span class= "left T10 subSectionLink">Payments</span>
                                <span class= "right T10 subSectionLink text-right">{{CustomerOrderModel.calculateTotalPaymentsandDeposits() | currency}}</span>
                            </div>
                            <!-- End: Ticket#102: Added by pooja 06-09-2016 -->
                        </div>
                        <div class="mainSectionLink totalDue C1">
                            <span class="T2 left">BALANCE DUE:</span>
                            <span class="T2 right text-right" ng-if="(CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || 
                                            ((CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service') && (CustomerOrderModel.coHeaderDetails.OrderStatus != 'Closed'))"> 
                                {{CustomerOrderModel.coHeaderDetails.UninvoicedAmount - CustomerOrderModel.calculateTotalPaymentsandDeposits() | currency}}
                            </span>
                            <!-- <span class="T2 text-right" ng-if="">
                            {{CustomerOrderModel.calculateLeftPanelTotalDue() >= 0 ? '$' :'-$'}}
                            {{CustomerOrderModel.calculateLeftPanelTotalDue() >= 0 ? CustomerOrderModel.calculateLeftPanelTotalDue() : -1 * CustomerOrderModel.calculateLeftPanelTotalDue()}}
                            {{CustomerOrderModel.calculateLeftPanelTotalDue() | currency}}edited 7th march, 2017 by kajal #1587
                            </span> -->
                            <span class="T2 text-right" ng-if="((CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service') && (CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'))"> 
                            {{0 | currency}} </span><!-- $0.00 edited 7th march, 2017 by kajal #1587 -->
                        </div>
                    </div> 
                </div>
                <div class="col-lg-10 col-md-10 mainSection">
                    <div class=" sectionHeader row fixedRow" ng-class="{'deActice-Header' : CustomerOrderModel.isWizardMode}">
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.activeSidepanelink =='#CustomerSection'">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right iconadjust" ng-show="!CustomerOrderModel.displaySections.Customer"
                                    ng-Click="CustomerOrderModel.displaySections.Customer = true">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;"
                                    ng-show="CustomerOrderModel.displaySections.Customer"
                                    ng-Click="CustomerOrderModel.displaySections.Customer = false">
                                </i> 
                                <span class="divider">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Info}}</span>
                                <span class="T2">Info</span>
                                </span>
                                <span class="ActionIcons pull-left"
                                    ng-show="CustomerOrderModel.showDeleteCustomerOrderLink()"> 
                                    <div class="dropdown selectDropdown checkboxDropdown">
                                        <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Actions
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a ng-click="CustomerOrderModel.deleteCustomerOrder()">Delete Order</a>
                                            </li>
                                        </ul>
                                    </div>
                                </span>  
                            </div>
                        </div>
                        
                        <!--  Ankit start -->
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.activeSidepanelink =='#DealSection' && CustomerOrderModel.DealInfo.length != 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right adjusticon"
                                     style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}"
                                    ng-show="!CustomerOrderModel.displaySections.Deal"
                                    ng-click = "CustomerOrderModel.showPermissionSection('Deal')">
                                </i> 
                                <i class="fa fa-angle-down width10" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}"
                                    ng-show="CustomerOrderModel.displaySections.Deal"
                                    ng-click = "CustomerOrderModel.showPermissionSection('Deal')">
                                </i> 
                                <span class="divider">|</span>
                                <span class ="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Deal}}</span>
                                <span class="T2"> Deal</span>
                                </span>
                                <span class="ActionIcons pull-left ">
                                    <div class="dropdown selectDropdown checkboxDropdown">
                                       <button class="btn dropdown-toggle" type="button" data-toggle="dropdown" ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced' || !GroupOnlyPermissions['Deal']['create/modify']">Actions
                                        <span class="caret"></span></button>
                                        <ul class="dropdown-menu">
                                           <li ng-repeat="dealAction in CustomerOrderModel.DealInfoLoadData.AvailableOptions">
                                                    <a ng-if = "dealAction == 'Commit Units to Deal' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click = "CustomerOrderModel.commitUnitsToDeal()">{{dealAction}}</a>
                                                    <a class = "mutedgray" ng-if = "dealAction ==  'Commit Units to Deal' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation'">{{dealAction}}</a>
                                                    <a ng-if = "dealAction == 'Add Additional Unit' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click = "CustomerOrderModel.UpdateDealSection(0)">{{dealAction}}</a><!-- $event removed By kajal 10/24/2016 -->
                                                     <a class = "mutedgray"  ng-if = "dealAction == 'Add Additional Unit' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation'" >{{dealAction}}</a><!-- $event removed By kajal 10/24/2016 -->
                                                    <a ng-if = "dealAction == 'Add a Trade-In' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation' " ng-click = " CustomerOrderModel.UpdateTradeInSection(0)">{{dealAction}}</a> <!-- Edited by kajal 11/10/2016 -->
                                                    <a class = "mutedgray" ng-if = "dealAction == 'Add a Trade-In' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation' " >{{dealAction}}</a> <!-- Edited by kajal 11/10/2016 -->
                                                    
                                                     <a class = "mutedgray" ng-if = "dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList == undefined ">{{dealAction}}</a>
                                                    <a ng-if = "dealAction == 'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined && CustomerOrderModel.DealInfo.DealStatus =='In Progress' && CustomerOrderModel.DealItemList[0].DealItemObj.OptionAndFeeStatus == 'Uncommitted' && CustomerOrderModel.DealInfo.UnitStatus == 'Committed'" ng-click = "CustomerOrderModel.createDealMerchAndServiceSetion()">{{dealAction}}</a>
                                                     <a class = "mutedgray" ng-if = "(dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined && CustomerOrderModel.DealInfo.DealStatus == 'Quotation' )  || (dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined  && CustomerOrderModel.DealItemList[0].DealItemObj.OptionAndFeeStatus != 'Uncommitted' || (dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealInfo.DealStatus !='In Progress' ) )">{{dealAction}}</a> 
                                                    <a ng-if = "dealAction ==  'Remove Deal' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click="CustomerOrderModel.removeDeal(CustomerOrderModel.DealInfo.Id)">{{dealAction}}</a> 
                                                	<a ng-if = "dealAction == 'Set as a Quote' && CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote()"
	                                                						ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; CustomerOrderModel.setCOStatusAsQuote()">
	                                                						{{dealAction}}</a>
                                                	<a ng-if = "dealAction == 'Activate Quote' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
	                                                						CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'"
	                                                						 ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true;
	                                                						 CustomerOrderModel.openActivateQuoteConfirmModal()">
	                                                						 {{dealAction}}</a>
	                                               	<a ng-if = "dealAction == 'Delete Quote' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
	                                                						CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'"
	                                                						 ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; 
	                                                						 CustomerOrderModel.openDeleteQuoteConfirmModal();">{{dealAction}}</a>
	                                                <a ng-if = "dealAction == 'Send Text to Customer' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && CustomerOrderModel.getSMSPhone() != ''"
	                                                						 ng-click="CustomerOrderModel.openMessagePopUp();">{{dealAction}}</a>
	                                                <a class = "mutedgray" ng-if = "(dealAction == 'Send Text to Customer' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' 
	                                                	&& (CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() ==''))">{{dealAction}}</a> 
                                                    
                                                </li> 
                                            <li ng-show="CustomerOrderModel.DealInfoLoadData.AvailableOptions.length == 0"><a>No Action Available</a></li>
                                        </ul>
                                    </div>
                                </span>
                                <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}">  
                                        <i class="fa fa-print"
                                            ng-click="CustomerOrderModel.PrintDealInfo(CustomerOrderModel.DealInfo.Id)">
                                    </i>
                                </span>
                                <span class="T3  pull-right total">
                                <a id="Deal_block_total_price_row_h3_a" ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" ng-mouseover="CustomerOrderModel.calculateDealSummaryOverlay($event)"> {{CustomerOrderModel.DealSummaryObj.Total | currency}}</a>
                                </span>
                            </div>
                        </div>
                        <!-- Ankit end -->
                        <!-- START: kajal 12/19/2016 SO movement -->
                        <!-- Added by kajal - 11/24/2016 - #1321 -->
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.IsLoadFinancingSection && CustomerOrderModel.activeSidepanelink =='#DealFinancingSection' && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1 && CustomerOrderModel.DealInfo.DealType == 'Financed'">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                    ng-show="!CustomerOrderModel.displaySections.Financing"
                                    ng-Click="CustomerOrderModel.displaySections.Financing = true">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;"
                                    ng-show="CustomerOrderModel.displaySections.Financing"
                                    ng-Click="CustomerOrderModel.displaySections.Financing = false">
                                </i> 
                                <span class="divider ">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Financing}}</span>
                                <span class="T2">Financing</span>
                                </span>
                                <span class="ActionIcons pull-left">
                                    <div class="dropdown selectDropdown checkboxDropdown">
                                        <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Actions
                                       <span class="caret"></span>
                                 </button>
                                 <ul class="dropdown-menu">
                                     <li>
                                       <a ng-if = "CustomerOrderModel.DealInfo.DealStatus != 'Quotation' && CustomerOrderModel.DealFinanceList.Id != null && CustomerOrderModel.DealFinanceList.FinanceCompanyId != null && CustomerOrderModel.DealFinanceList.Status == 'Quotation'" ng-click = "CustomerOrderModel.updateDealFinanceStatus('Submitted')">Submitted </a>
                                       <a class = "mutedgray" ng-if = "CustomerOrderModel.DealInfo.DealStatus == 'Quotation' || CustomerOrderModel.DealFinanceList.Id == null ||  CustomerOrderModel.DealFinanceList.FinanceCompanyId == null || CustomerOrderModel.DealFinanceList.Status == 'Submitted' || CustomerOrderModel.DealFinanceList.Status == 'Approved'">Submitted</a>
                                       <a ng-if = "CustomerOrderModel.DealInfo.DealStatus != 'Quotation' && CustomerOrderModel.DealFinanceList.Id != null && CustomerOrderModel.DealFinanceList.FinanceCompanyId != null &&  CustomerOrderModel.DealFinanceList.Status == 'Submitted'" ng-click = "CustomerOrderModel.updateDealFinanceStatus('Approved')">Approved </a>
                                       <a class = "mutedgray" ng-if = "CustomerOrderModel.DealInfo.DealStatus == 'Quotation' || CustomerOrderModel.DealFinanceList.Id == null || CustomerOrderModel.DealFinanceList.FinanceCompanyId == null || CustomerOrderModel.DealFinanceList.Status != 'Submitted'">Approved</a>
                                    </li>
                                 </ul>
                                    </div>
                                </span> 
                                <span class="T3  pull-right total" >
                                <a id="CO_Merchandise_total_price_row_h3_a" 
                                     >{{((CustomerOrderModel.DealSummaryObj.Total + CustomerOrderModel.calculateFIProductTotal()) - CustomerOrderModel.DealFinanceList.DownPayment) | currency}}</a>
            
                                </span>
                            </div>
                        </div>
                        <!-- START: Added by kv 12/22/2016 -->
                        <div class="col-lg-6 col-md-6" ng-show="(CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection' && CustomerOrderModel.DealMerchandiseList.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1">
            
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                    ng-show="!CustomerOrderModel.displaySections.DealMerchandise"
                                    ng-Click="CustomerOrderModel.showPermissionSection('DealMerchandise')">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;"
                                    ng-show="CustomerOrderModel.displaySections.DealMerchandise" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                    ng-Click="CustomerOrderModel.showPermissionSection('DealMerchandise')">
                                </i> 
                                <span class="divider ">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.DealMerchandise}}</span>
                                <span class="T2">Deal Merchandise</span>
                                </span>
                                <span class="ActionIcons pull-left">
                                </span> 
                                <span class="T3  pull-right total" >
                                <!-- Edited by kajal 11/09/2016 -->
                                <a id="CO_Merchandise_total_price_row_h3_a" 
                                    ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, CustomerOrderModel.DealInfo.Id, 'dealMerchandise')" 
                                    ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" >${{CustomerOrderModel.DealMerchandiseTotal | number:2}} </a> <!-- Edited by kajal 11/09/2016 -->
                                </span>
                            </div>
                        </div>
                        <!-- END: Added by kv 12/22/2016 -->
                        <!-- Added by kajal - 11/24/2016 - #1321 -->
                        <div class="col-lg-6 col-md-6" ng-repeat="serviceOrder in CustomerOrderModel.serviceOrderList"
                            ng-init="serviceOrderHeaderIndex = $index" 
                            ng-show="CustomerOrderModel.activeSidepanelink ==serviceOrder.SectionID ">
                            <!-- && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_ServiceOrder')>-1 -->
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"
                                    ng-show="!CustomerOrderModel.displaySections.ServiceOrder[$index].display"
                                    ng-Click = "CustomerOrderModel.showPermissionSection('ServiceOrder',$index)">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"
                                    ng-show="CustomerOrderModel.displaySections.ServiceOrder[$index].display"
                                    ng-Click = "CustomerOrderModel.showPermissionSection('ServiceOrder',$index)">
                                </i> 
                                <span class="divider">|</span>
                                <span class="headdingFirstText"> {{CustomerOrderModel.LeftSideHeadingLables['ServiceOrder'+$index]}} </span>
                                <span title="{{CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Name}}"   class="T2 edittext" ng-click="CustomerOrderModel.showSONameEditMode($index,'HeaderList')"  ng-show="!CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.isSONameEdit">{{CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Name}}</span>
                                <input type="text" id="SO_Header_Name_Edit_{{$index}}" ng-blur="CustomerOrderModel.UpdateSOName($index)"  ng-show="CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.isSONameEdit"
                                    ng-model="CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Name" ng-focus="CustomerOrderModel.selectalltext($index,'HeaderList')" class="serviceLabeledit"/>
                                </span>
                                <!--START: Added by Kajal - #181 - 09/29/2016 -->
                                <span class="ActionIcons pull-left">
                                    <div class="dropdown selectDropdown checkboxDropdown jobAction">
                                        <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                                        ng-disabled = "(!GroupOnlyPermissions['Service job']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || 
                                        (!GroupOnlyPermissions['Internal Service']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))">Job Actions
                                        <span class="caret"></span></button>
                                        <ul class="dropdown-menu jobActionDropdown">
                                            <li>
                                                <span class="T3 jobActionSubDropdownHeader">Job Info</span>
                                                <ul class="jobActionSubDropdown">
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out'" 
                                                            ng-click="CustomerOrderModel.showGridsInServiceSection('ShowItemsGrid', $index, 'ServiceItemSection')"
                                                            href-dir="ServiceItemSection{{$index}}"
                                                           >Add Parts &amp; Labor</a> <!-- $event removed by kajal - #1179 - 10/22/2016 -->
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                            <!-- signed out Added by Kajal 04/10/2016 -->
                                                            Add Parts &amp; Labor
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" 
                                                        	ng-click="CustomerOrderModel.createLogHoursPopup(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Id, $index);" href-dir="ServiceHLSection{{$index}}"> 
                                                            Log Technician Time </a>
                                                        <a class="subSectionLink mutedgray" ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" href-dir="ServiceHLSection{{$index}}"> 
                                                        	Log Technician Time </a> 
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                        	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out')" 
                                                            ng-click="CustomerOrderModel.openAddAttachmentPopup($index);">Add Attachments</a>
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                        	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced'||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                            <!-- signed out Added by Kajal 04/10/2016 --><!-- complete Added by Kajal - #1208 - 6th Oct, 2016 -->
                                                            Add Attachments
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-click="CustomerOrderModel.openCustomerApproval($index)" 
                                                            ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out'">Get Customer Approval</a>
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                        	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced'||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                            Get Customer Approval
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" 
                                                        	ng-click="CustomerOrderModel.openCustomerMileage('showMilege', $index, 'ServiceOrderOdometerSection')">
                                                            Record Unit Mileage</a> 
                                                       <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                                            Record Unit Mileage</a> 
                                                    </li>
                                                    <!-- Edited by kajal 09/30/2016 -->
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" 
                                                        	ng-click="CustomerOrderModel.showGridsInServiceSection('ShowNotesForCustomer', $index, 'ServiceNotesSection')">
                                                            Add Notes for Customer</a>
                                                         <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" >
                                                            Add Notes for Customer</a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                        	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType != 'Third-Party')"
                                                            ng-click="CustomerOrderModel.showGridsInServiceSection('ShowCauseConcernCorrection', $index, 'sectionForCauseConcernCorrection')"
                                                            >Enter Cause/Correction</a><!-- href="#sectionForCauseConcernCorrection{{$index}}" -->
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                        	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out' ||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType == 'Third-Party'">
                                                            Enter Cause/Correction
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                        	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'New' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Ready' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'In Progress' ||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'On Hold')" 
                                                            ng-click="CustomerOrderModel.showGridsInServiceSection('ShowScheduleJob', $index, 'sectionForScheduleJob')"
                                                             ><!-- ng-click = "CustomerOrderModel.ScheduleJob($index)" by kajal 18th may, 2017 -->
                                                        Schedule Job 
                                                        </a>
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                        	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'New' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Ready' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'In Progress' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'On Hold'">
                                                        Schedule Job
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                        	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'New' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Ready' || 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'In Progress' ||
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'On Hold')" 
                                                            ng-click="CustomerOrderModel.openWorkPicklist('hideStatusPicklistValue', $index, 'WorkPicklistStatusId')" >
                                                        Set Job Status
                                                        </a>
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
                                                        	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'New' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Ready' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'In Progress' &&
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'On Hold') ">
                                                        Set Job Status
                                                        </a>
                                                    </li>  
                                                    <li ng-if = "CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote();">
                                                      <a class="subSectionLink"  ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; 
	                                                						CustomerOrderModel.setCOStatusAsQuote()">
	                                                						Set as a Quote</a>
                                                  	</li>
                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" >
                                                      <a class="subSectionLink"  ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true;
	                                                				CustomerOrderModel.openActivateQuoteConfirmModal()">
	                                                				Activate Quote</a>
                                                  	</li>
                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" >
                                                      <a class="subSectionLink" ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; 
                                                      			CustomerOrderModel.openDeleteQuoteConfirmModal();">Delete Quote</a>
                                                  	</li> 
                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
		                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.getSMSPhone() != ''"
                                                                  ng-click="CustomerOrderModel.openMessagePopUp();" >
                                                              Send Text to Customer
                                                              </a>
                                                              <a class="subSectionLink mutedgray" ng-if = "(CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() =='')">
                                                              Send Text to Customer
                                                              </a>
                                                              
		                                           </li>
                                                </ul>
                                            </li>
                                            <li ng-if = "CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced'">
                                                <span class="T3 jobActionSubDropdownHeader">Work Status</span>
                                                <ul class="jobActionSubDropdown">
                                                    <li ng-repeat="workStatus in CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.AvailableWorkStatusList">
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
	                                                        	CustomerOrderModel.workStatusCheck(workStatus.AvailableStatus,serviceOrderHeaderIndex )" 
	                                                        	ng-click="CustomerOrderModel.changeWorkStatus(workStatus,serviceOrderHeaderIndex)">{{workStatus.AvailableStatus}}</a>
                                                        <a class="subSectionLink mutedgray" ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
                                                        				!CustomerOrderModel.workStatusCheck(workStatus.AvailableStatus,serviceOrderHeaderIndex)">
                                                        									{{workStatus.AvailableStatus}}</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li ng-if="CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType == 'Third-Party'">
                                                <span class="T3 jobActionSubDropdownHeader">Claim Status</span>
                                                <ul class="jobActionSubDropdown">
                                                    <li ng-repeat="claimStatus in CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.AvailableClaimStatusList">
                                                        <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' 
                                                          && CustomerOrderModel.claimStatusCheck(claimStatus.AvailableStatus,serviceOrderHeaderIndex)" ng-click="CustomerOrderModel.changeClaimStatus(claimStatus,serviceOrderHeaderIndex)">{{claimStatus.AvailableStatus}}</a>
                                                        <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' 
                                                          || !CustomerOrderModel.claimStatusCheck(claimStatus.AvailableStatus,serviceOrderHeaderIndex)">{{claimStatus.AvailableStatus}}</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <!-- Added by subhrant  #1241-->
                                            <!-- Modified by Nidhi -->
                                            <li ng-if = "(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' && 
                                                            CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out')">
                                                            <a  ng-click="CustomerOrderModel.deleteSoHeaderInfo(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Id)">Remove Service Job</a>
                                            </li>
                                            <li ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Closed'">
                                            	<a  ng-click="CustomerOrderModel.createSOHeader()">+ADD New Job To Order</a>
                                            </li>
                                        </ul>
                                    </div>
                                </span>
                                <!--END: Added by Kajal - #181 - 09/29/2016 -->
                                <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Service job']['view']}" >
                                <i class="fa fa-print"
                                    ng-click="CustomerOrderModel.PrintServiceWorkSheet(CustomerOrderModel.coHeaderDetails.COHeaderId)">
                                </i>
                                </span> 
                                <span class="T3  pull-right total" >
                                <a id="CO_active_Services_Payments_total_balance_due_h3_a"
                                    ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Id, 'serviceOrder')" 
                                    ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" >
                                ${{CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Total| number:2}}
                                </a>
                                </span>
                            </div>
                        </div>
                        <!-- END: kajal 12/19/2016 SO movement -->
                        <div class="col-lg-6 col-md-6"  ng-show="CustomerOrderModel.activeSidepanelink =='#MerchandiseSection' && CustomerOrderModel.hideMerchandiseSection == false"><!-- Edited by Kajal - 14th june 2017 #2344 -->
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                    ng-show="!CustomerOrderModel.displaySections.Merchandise"
                                    ng-Click = "CustomerOrderModel.showPermissionSection('Merchandise')">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                    ng-show="CustomerOrderModel.displaySections.Merchandise"
                                    ng-Click = "CustomerOrderModel.showPermissionSection('Merchandise')">
                                </i> 
                                <span class="divider ">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Merchandise}}</span>
                                <span class="T2">Merchandise</span>
                                </span>
                                <!-- START: Added by Kajal - 14th june 2017 #2344 -->
                                <span class="ActionIcons pull-left">
                                    <div class="dropdown selectDropdown checkboxDropdown jobAction">
                                        <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                                        ng-disabled = "!GroupOnlyPermissions['Merchandise']['create/modify']">Actions
                                        <span class="caret"></span></button>
                                        <ul class="dropdown-menu merchActionDropdown">
                                            <li>
                                                <a ng-click="CustomerOrderModel.removeMerchandiseSection(CustomerOrderModel.coHeaderId)"
                                                ng-class="{'mutedgray':CustomerOrderModel.MerchandiseItems.length > 0}">Remove Merchandise</a>
                                            </li>
                                            <li ng-if = "CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote()">
                                               <a ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; CustomerOrderModel.setCOStatusAsQuote()">Set as a Quote</a>
                                           </li>
                                           <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
                                               		CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                               <a ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true; CustomerOrderModel.openActivateQuoteConfirmModal()">Activate Quote</a>
                                           </li>
                                           <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
                                               		CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                               <a ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; CustomerOrderModel.openDeleteQuoteConfirmModal();">
                                               			Delete Quote</a>
                                           </li>
                                           <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.getSMSPhone() != ''"
                                                    ng-click="CustomerOrderModel.openMessagePopUp();" >
                                                Send Text to Customer
                                                </a>
                                                <a class="subSectionLink mutedgray" ng-if = "(CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() =='')">
                                                Send Text to Customer
                                                </a>
                                                            
                                           </li>
                                        </ul>
                                    </div>
                                </span>
                                <!-- END: Added by Kajal - 14th june 2017 #2344 -->
                                <!-- START: Added by kajal 12th april,2017 #1877 -->
                                <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}">

                                    <i class="fa fa-print" ng-click="CustomerOrderModel.PrintPriviewMerchandise(CustomerOrderModel.coHeaderId)">
                                    </i>
                                </span>
                                <!-- END: Added by kajal 12th april,2017 #1877 -->
                                <span class="T3  pull-right total" >
                                <a id="CO_Merchandise_total_price_row_h3_a" 
                                    ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, null, 'merchandise')" 
                                    ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" >${{CustomerOrderModel.MerchandiseTotal}} </a>
                                </span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.activeSidepanelink =='#SpecialOrderSection' ">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                    ng-show="!CustomerOrderModel.displaySections.SpecialOrder"
                                    ng-Click="CustomerOrderModel.displaySections.SpecialOrder = true">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;"
                                    ng-show="CustomerOrderModel.displaySections.SpecialOrder"
                                    ng-Click="CustomerOrderModel.displaySections.SpecialOrder = false">
                                </i> 
                                <span class="divider">|</span>
                                <span class ="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Special_Orders}}</span>
                                <span class="T2"> Special Orders</span>
                                </span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.activeSidepanelink =='#DepositSection' 
                        										&& CustomerOrderModel.displayCODepositeSection()"><!-- ng-show edited by kajal 7th april, 2017 -->
                        <!-- 7th march, 2017 by kajal #1587 -->
                             <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                    ng-show="!CustomerOrderModel.displaySections.Deposit || CustomerOrderModel.collapseDepositSection == true"
                                    ng-Click="CustomerOrderModel.showPermissionSection('Deposit')">  <!-- ng-click: ; CustomerOrderModel.collapseDepositSection = false;: Added By Pooja 1 Mar. 2017 -->
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                    ng-show="CustomerOrderModel.displaySections.Deposit && CustomerOrderModel.collapseDepositSection == false"
                                    ng-Click="CustomerOrderModel.showPermissionSection('Deposit'); CustomerOrderModel.collapseDepositSection = true;CustomerOrderModel.selectedOption = 'Please Select';CustomerOrderModel.isRefundDepositBtnClicked = false;;CustomerOrderModel.deposit_Amount = '';"> <!-- ng-click: ; CustomerOrderModel.isPaymentDropdownOpen = false; CustomerOrderModel.collapseDepositSection = true;": Added By Pooja 1 Mar. 2017 -->
                                </i> 
                                <!-- START: EDited by kajal 02/24/2017 #1587 -->
                                <div ng-show = "CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.collapseDepositSection == false" class="hideDepositBtn"> <!-- ng-show: CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.displaySections.Deposit == true -> 
                                                                                                                                                                        CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.collapseDepositSection == false: 
                                                                                                                                                                        Changed By Pooja 1 Mar. 2017 -->
                                <span class="divider">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Deposits}}</span>

                                <span class="T2"> Deposits</span>
                                </div>
                                <div ng-show = "CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.collapseDepositSection == true"  class="addADepositBtnInGrid adddepositeHeaderSection"> 
                                                                                                                                <!--  ng-show:  CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.displaySections.Deposit == false->
                                                                                                                                CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.collapseDepositSection == true
                                                                                                                                : Changed By Pooja 1 Mar. 2017-->
                                    <div>
                                        <button class="btn btn-default editDepositBtn text-uppercase" 
                                            ng-click="CustomerOrderModel.expandDepositSection()" 
                                            ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Add A Deposit
                                        </button>
                                    </div>
                                </div>
                                <!-- END: EDited by kajal 02/24/2017 #1587 -->
                                </span>
                    <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}">
                                    <i class="fa fa-print" 
                                        ng-click="CustomerOrderModel.PrintCODeposits(CustomerOrderModel.coHeaderDetails.COHeaderId)">
                                    </i>
                                </span> 
                    <!-- 
                    <span class="T3  pull-right total" >
                                <a id="CO_Deposits_block_total_price_row_h3_a" ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()"
                                    ng-mouseover="CustomerOrderModel.calculateDepositTotalOverlay($event)" class="ng-binding"> ${{CustomerOrderModel.calculateDepositTotal()}}</a>
                                </span> EDited by kajal 02/24/2017 #1587-->
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 CheckoutSectionClass" 
                        ng-show="CustomerOrderModel.activeSidepanelink =='#CheckoutSection' && CustomerOrderModel.showCheckoutSection == true
                        && CustomerOrderModel.CheckOutItems.length > 0 
						        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1 
						        && GroupOnlyPermissions['Customer invoicing']['create/modify']"><!-- 7th march, 2017 by kajal #1587 -->
                        <!-- Edited by kajal 03/03/2017 #1590 --> <!-- class: CheckoutSectionClass: Added By Pooja 3 Mar. 2017 -->
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                    ng-show="!CustomerOrderModel.displaySections.Checkout || CustomerOrderModel.collapseCheckoutSection == true"
                                    ng-Click="CustomerOrderModel.checkoutRightArrowClick()">
                                </i>  <!-- ng-show: || CustomerOrderModel.collapseCheckoutSection == true: 
                                            ng-click: CustomerOrderModel.displaySections.Checkout = true; -> CustomerOrderModel.checkoutRightArrowClick()
                                            Added and Changed By Pooja 3 Mar. 2017 -->
                                                    
                                                    
                                <i class="fa fa-angle-down" style="width:10px;"
                                    ng-show="CustomerOrderModel.displaySections.Checkout && CustomerOrderModel.collapseCheckoutSection == false"
                                    ng-Click="CustomerOrderModel.checkoutDownArrowClick()">
                                </i> <!--  ng-show: && CustomerOrderModel.collapseCheckoutSection == false;
                                                ng-click: CustomerOrderModel.displaySections.Checkout = false -> CustomerOrderModel.checkoutDownArrowClick():
                                                Added and Changed By Pooja 3 Mar. 2017 -->
                                                
                                <div class="hideDepositBtn" ng-show="CustomerOrderModel.Payment.length>0 || CustomerOrderModel.collapseCheckoutSection == false"><!-- Added by kajal 03/03/2017 #1590 -->
                                <span class="divider">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Checkout}}</span>
                                <span class="T2">Checkout</span>
                                </div><!-- Added by kajal 03/03/2017 #1590 -->
                                <div ng-show="CustomerOrderModel.Payment.length == 0 && CustomerOrderModel.collapseCheckoutSection == true" class="addADepositBtnInGrid deposit_checkout_mh"> 
                                    <div>
                                        <button class="btn btn-default editDepositBtn text-uppercase addCheckoutBtn"  
                                            ng-click="CustomerOrderModel.expandCheckoutSection($event)" 
                                            ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Checkout
                                        </button> <!-- Class: addCheckoutBtn: Added By Pooja 3 Mar. 2017 -->
                                    </div>
                                </div>
                                <!-- END: EDited by kajal 03/03/2017 #1590 -->
                                </span>
                                
                                <!-- START: Ticket#1984: Added by Pooja 3 May 2017 -->
                                <span class="ActionIcons service_order_print_icon pull-left " ng-if="CustomerOrderModel.isPrintInvoiceBtnVisible == true">
                                    <i class="fa fa-print" ng-click="CustomerOrderModel.invoicePrintPriviewBeforeFinalize()">
                                    </i>
                                </span>
                                <!-- End: Ticket#1984: Added by Pooja 3 May 2017 -->
                                
                                <!-- START: Commented by kajal 03/03/2017 #1590 -->
                                <!-- <span class="ActionIcons pull-left">
                                    <div class="dropdown selectDropdown checkboxDropdown">
                                    </div>
                                </span>
                                <span class="T3  pull-right total" >
                                <a id="CO_active_invoice_Payments_total_balance_due_h3_a" 
                                    ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" 
                                    ng-mouseover="CustomerOrderModel.calculateBalanceDueTotalOverlay($event)">
                                {{CustomerOrderModel.calculateBalanceDue() >= 0 ? '$' :'-$'}}
                                {{CustomerOrderModel.calculateBalanceDue() >= 0 ? CustomerOrderModel.calculateBalanceDue() : -1 * CustomerOrderModel.calculateBalanceDue()}}
                                </a>
                                </span> -->
                                <!-- END: Commented by kajal 03/03/2017 #1590 -->
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6" ng-show="CustomerOrderModel.activeSidepanelink =='#InvoiceHistory' && CustomerOrderModel.InvoiceHistory.length > 0">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                    ng-show="!CustomerOrderModel.displaySections.InvoiceHistory"
                                    ng-Click="CustomerOrderModel.showPermissionSection('InvoiceHistory')">
                                </i> 
                                <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                    ng-show="CustomerOrderModel.displaySections.InvoiceHistory"
                                    ng-Click="CustomerOrderModel.showPermissionSection('InvoiceHistory')">
                                </i> 
                                <span class="divider">|</span>
                                <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Invoice_History}}</span>
                                <span class="T2"> Invoice History</span>
                                </span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 fixedContent">
                            <div class="fa-icons">
                            <i class="fa fa-refresh fa-2x fa-fw pull-left"
                                ng-class="{'fa-spin' : CustomerOrderModel.isrefresh}"
                                ng-click="CustomerOrderModel.refreshCustomerOrder();"></i> 
                             </div>
                            <div class="col-lg-10 col-md-9 searchToAdd pull-left">
                                <div class="input-group" ng-class="{'activeSearchDiv' : CustomerOrderModel.searchDivActive}">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn C5 LabelBtn">
                                        <span class="T5" style="color: #939CA9;">TO:</span>
                                        <span style="color: #FFFFFF;">{{CustomerOrderModel.SelectedSection.item}}</span>
                                        </button>
                                        <button type="button" class="btn C5 dropdown-toggle caretBtn searchToAddCaret" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="section in CustomerOrderModel.SectionList" ng-click="CustomerOrderModel.UpdateSelectedSection($event,$index)">
                                                <a  ng-if = "section.item == 'Deposit' && CustomerOrderModel.Customer.Name !=null  && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deposits')>-1
                                                &&(((CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1) || CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale' || 
                         CustomerOrderModel.showDepositeSection() )">{{section.item}}</a>
                                                <a  ng-if = "section.item != 'Deposit'">{{section.item}}</a>
                                            </li>
                                             <!-- <li role="separator" class="divider"></li> -->
                                            <!-- <li><a >ADVANCED SEARCH</a></li> -->
                                        </ul>
                                    </div>
                                    <!-- /btn-group -->
                                    <div class="inner-addon right-addon" ng-show="!CustomerOrderModel.isSearchToAddVisible()">
                                        <i class="fa fa-search fa-flip-horizontal"></i>
                                        <input type="text" placeholder="Search To add" ng-disabled = "!CustomerOrderModel.isSearchToAddVisible()"
                                            style="height: 30px; width: 100%; border: none; padding-left: 5px; outline: none; font-size: 12px;"/>
                                    </div>
                                    <div class="inner-addon right-addon" ng-show="CustomerOrderModel.isSearchToAddVisible()">
                                        <i class="fa fa-search fa-flip-horizontal"></i>
                                        <angucomplete id="CO_SearchToAdd" placeholder="Search To add" pause="200"  
                                            selectedobject="CustomerOrderModel"   searchfields="Name" titlefield="Name" descriptionField="Info" 
                                            otherdesc="Description" minlength="2" inputclass="form-control form-control-small" matchclass="highlight" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="contentWrapper" ng-show="!CustomerOrderModel.isWizardMode" style="margin-top: 60px;">
                        <div id="CustomerSection" >
                            <div class="main_section row" ng-show="CustomerOrderModel.displaySections.Customer">
                                <div class="row rowGeneral" >
                                    <div class="content ">
                                        <div class="col-lg-12 col-md-12 Pl24 MB48"  >
                                            <!-- Nidhi : Started here -->
                                            <div class="col-lg-8 col-md-8 Plr12">
                                                <p class="T3 MB24 F12 FC2"> Customer</p>
                                                <div class="col-md-7 Plr0">
                                                    <div class="col-md-10 padding0">
                                                        <div class="lightbox width_auto minheight blackborder fullwidth pull-left">
                                                            <div class="unitimagediv">
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/profile_default.jpg" width="80%" height="80%" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'"/>
                                                                <!-- <div class="sprite profile_default pull-left profile_defaultLarge"
                                                                ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'"></div> -->
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/cash_sale.png" width="80%" height="80%" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'"/>
                                                                <!-- <div class="sprite cash_sale" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'"></div> -->
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/store_inventory.png" width="80%" height="80%" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'"/>
                                                                <!-- <div class="sprite store_inventory pull-left" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'"></div> -->
                                                            </div>
                                                            <div class="col-md-12 P0 newcustomercss">
                                                                <span class="cust_name breakWord" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
                                                                {{CustomerOrderModel.Customer.Name}}
                                                                </span>   
                                                                <span class="cust_name" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'">
                                                                ** {{CustomerOrderModel.coHeaderDetails.COType}} **
                                                                </span>  
                                                                <span class="cust_name" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'">
                                                                Unit Inventory
                                                                </span>                                                   
                                                                <div class="T3_1 row h18" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
                                                                    <span class="col-md-12 pull-right P0 text-right cust_value breakWord">
                                                                    {{(CustomerOrderModel.CustomerInfoData.Cust_PreferredEmail==null || CustomerOrderModel.CustomerInfoData.Cust_PreferredEmail==undefined 
                                                                    || CustomerOrderModel.CustomerInfoData.Cust_PreferredEmail=='-') ? 
                                                                    (CustomerOrderModel.CustomerInfoData.Cust_PreferredPhone=='-' ? '' : CustomerOrderModel.CustomerInfoData.Cust_PreferredPhone | tel) : CustomerOrderModel.CustomerInfoData.Cust_PreferredEmail}}
                                                                    </span> <!-- | tel: Added By Pooja 7 Feb. 2107 -->
                                                                </div>
                                                                <div class="pt8" ng-if="CustomerOrderModel.coHeaderDetails.COType=='Cash Sale' || CustomerOrderModel.coHeaderDetails.COType=='Internal Service'">
                                                                    <span class="T2 cust_desc breakWord" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'">In-Stock Merchandise Only</span>
                                                                    <span class="T2 cust_desc breakWord" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'">Internal Service Orders</span>
                                                                </div>
                                                                <div class="T3_1 row" ng-class="{'pt8': CustomerOrderModel.coHeaderDetails.COType=='Cash Sale' || CustomerOrderModel.coHeaderDetails.COType=='Internal Service'}">
                                                                    <span class="col-md-5 padding0 ">Price Level:  </span>
                                                                    <span class="col-md-7 cust_value padding0 breakWord">{{CustomerOrderModel.CardInfo.PriceLevelName}}</span> 
                                                                </div>
                                                                <div class="T3_1 row">
                                                                    <span class="col-md-5 padding0">Exemptions: </span>
                                                                    <span class="col-md-7 cust_value padding0 breakWord">{{CustomerOrderModel.CardInfo.ExemptionTaxName}}</span> 
                                                                </div>
                                                                <div class="T3_1 row" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
                                                                    <span class="pull-right">
                                                                    <span>
                                                                    {{CustomerOrderModel.CardInfo.TotalActiveOrders}}
                                                                    </span>
                                                                    <span class="cust_value">
                                                                    active customer order(s)
                                                                    </span></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2 padding0" ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer' || CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'">
                                                        <div class="COUList">
                                                            <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <span class="caret"></span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                            </button>
                                                            <!-- START: Added By Nidhi - #150 - 09/23/2016 : Changed ng-click functions-->
                                                            <ul class="dropdown-menu">
                                                                <li ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'"><a ui-sref="ViewCustomer({Id: CustomerOrderModel.coHeaderDetails.CustomerId})"> <!-- href="{NewViewCustomer}?id={{CustomerOrderModel.coHeaderDetails.CustomerId}}" -->
                                                                    <span>
                                                                    View Customer Details
                                                                    </span>
                                                                    </a>
                                                                </li>
                                                                <!-- START: Added by Nidhi - #150 - 09/26/2016  (changed ng-click)-->                                                    
                                                                <li ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'" ng-click="setFocusToCustomer();"><a>
                                                                    <span>
                                                                    Select a different customer
                                                                    </span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="(CustomerOrderModel.coHeaderDetails.COType == 'Customer' && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Part Sale')" 
                                                                    ng-click="CustomerOrderModel.openSwitchCOConfirmModal(true, false);"
                                                                    ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" ><a>
                                                                    <span>
                                                                    Switch to Cash Sale
                                                                    </span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Cash Sale'" ng-click="setFocusToCustomer();"><a>
                                                                    <span>
                                                                    Select a customer
                                                                    </span>
                                                                    </a>
                                                                </li>
                                                                 <li ng-if="CustomerOrderModel.coHeaderDetails.COType == 'Customer'" ng-click="CustomerOrderModel.refreshCustomerPricingAndTax();"><a>
                                                                    <span>
                                                                    Refresh Customer Pricing/Tax
                                                                    </span>
                                                                    </a>
                                                                </li>
                                                                <!-- START: Added by Nidhi - #150 - 09/26/2016 -->
                                                            </ul>
                                                            <!-- END: Added By Nidhi - #150 - 09/23/2016 : Changed ng-click functions-->
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-5 Plr12">
                                                    <div class="C2 col-md-12 P5 MB12" ng-if="CustomerOrderModel.COUList.length >0 && ((COU.ModelMakeName!= null && COU.ModelMakeName!= '') || (COU.Year!= null && COU.Year!= '' )|| (COU.ModelName != null && COU.ModelName!= '') || (COU.SubModelName != null && COU.SubModelName!= '') )" 
                                                        ng-repeat="COU in CustomerOrderModel.COUList" 
                                                        style="margin-bottom:10px;">
                                                        <div class="T7 col-md-10 Plr10 " ng-if="COU.ModelName"
                                                            ng-mouseover="CustomerOrderModel.openCOUpopup($event, COU.Id);" 
                                                            ng-mouseleave="CustomerOrderModel.hideCOUPopUp();">
                                                            <span ng-if="COU.Year !=null && COU.Year !=''"> {{COU.Year}}</span>
                                                            <span ng-if="COU.MakeName !=null && COU.MakeName !=''"> {{COU.MakeName}}</span>  
                                                            <span ng-if="COU.ModelName !=null && COU.ModelName !=''"> {{COU.ModelName}}</span>
                                                            <span ng-if="COU.SubModelName !=null && COU.SubModelName !=''"> {{COU.SubModelName}}</span>
                                                            <span ng-if="(((COU.Year !=null && COU.Year !='') || 
                                                                         (COU.MakeName !=null && COU.MakeName !='') || (COU.ModelName !=null && COU.ModelName !='') && 
                                                                          (COU.SubModelName !=null && COU.SubModelName !='')) && (COU.VIN !=null && COU.VIN !=''))"> - </span>
                                                            <span ng-if="COU.VIN !=null && COU.VIN !=''">{{COU.VIN}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="C2 col-md-12 P5 MB12" ng-if="!CustomerOrderModel.COUList.length" style="margin-bottom:10px;">
                                                        <p class="T7 col-md-10 Plr10">NO OWNED UNIT</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Nidhi : Ended here -->
                                            <div class="col-lg-4 col-md-4 Plr12">
                                                <div class="col-md-12 MB24 Plr0 ">
                                                    <span class="T3 col-md-2 Plr0">Status</span>
                                                    <label class="FC10 T3" style="color:green" ng-show="CustomerOrderModel.coHeaderDetails.OrderStatus == null || 
                                                    		CustomerOrderModel.coHeaderDetails.OrderStatus == '' || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Open'"> 
                                                    		Open </label>
                                                    <label class="FC10 T3" style="color:#F5A623" ng-show="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" > {{CustomerOrderModel.coHeaderDetails.OrderStatus}} </label>
                                                    <label class="FC10 T3"  style="color:red" ng-show="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"  > {{CustomerOrderModel.coHeaderDetails.OrderStatus}} </label>
                                                </div>
                                                <div class="col-md-12  Plr0 ">
                                                    <span class="T3 col-md-12 Plr0 MB12">Dates</span>
                                                    <div class="col-md-12 Plr0 MB6">
                                                        <label class="col-md-3 T7 Plr0">Created:</label>
                                                        <span class="col-md-8 T7 Plr0">{{CustomerOrderModel.coHeaderDetails.CreatedDate}}</span>
                                                    </div>
                                                    <div class="col-md-12 Plr0 MB6">
                                                        <label class="col-md-3 T7 Plr0">Modified:</label>
                                                        <span class="col-md-8 T7 Plr0">{{CustomerOrderModel.coHeaderDetails.ModifiedDate}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="DealSection">
                        
                        <!--   -----            ANkit start -->
                        <div class="sectionHeader row DealSection" ng-show="CustomerOrderModel.DealInfo.length != 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal') > -1 && (CustomerOrderModel.DealInfo !=  null || CustomerOrderModel.DealInfo != undefined)">
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right iconadjust"
                                    ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}" 
                                    ng-click = "CustomerOrderModel.showPermissionSection('Deal')" 
                                    ng-show="!CustomerOrderModel.displaySections.Deal">
                                    </i> 
                                    <i class="fa fa-angle-down width10"
                                    ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}" 
                                    ng-click = "CustomerOrderModel.showPermissionSection('Deal')" 
                                    ng-show="CustomerOrderModel.displaySections.Deal">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Deal}}</span>
                                    <span class="T2"> Deal</span>
                                    </span>
                                    <span class="ActionIcons pull-left ">
                                        <div class="dropdown selectDropdown checkboxDropdown">
                                            <button class="btn dropdown-toggle" data-toggle="dropdown" type="button" ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced' || !GroupOnlyPermissions['Deal']['create/modify']">
                                            Actions <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li ng-repeat="dealAction in CustomerOrderModel.DealInfoLoadData.AvailableOptions">
                                                    <a ng-if = "dealAction == 'Commit Units to Deal' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click = "CustomerOrderModel.commitUnitsToDeal()">{{dealAction}}</a>
                                                    <a class = "mutedgray" ng-if = "dealAction ==  'Commit Units to Deal' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation'">{{dealAction}}</a>
                                                    
                                                    <a ng-if = "dealAction == 'Add Additional Unit' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click = "CustomerOrderModel.UpdateDealSection(0)">{{dealAction}}</a><!-- $event removed By kajal 10/24/2016 -->
                                                    <a class = "mutedgray"  ng-if = "dealAction == 'Add Additional Unit' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation'" >{{dealAction}}</a><!-- $event removed By kajal 10/24/2016 -->
                                                    <a ng-if = "dealAction == 'Add a Trade-In' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation' " ng-click = " CustomerOrderModel.UpdateTradeInSection(0)">{{dealAction}}</a> <!-- Edited by kajal 11/10/2016 -->
                                                    <a class = "mutedgray" ng-if = "dealAction == 'Add a Trade-In' && CustomerOrderModel.DealInfo.DealStatus != 'Quotation' " >{{dealAction}}</a> <!-- Edited by kajal 11/10/2016 -->
                                                    
                                                    <a class = "mutedgray" ng-if = "dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList == undefined ">{{dealAction}}</a>
                                                    <a ng-if = "dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined && CustomerOrderModel.DealInfo.DealStatus =='In Progress' && CustomerOrderModel.DealItemList[0].DealItemObj.OptionAndFeeStatus == 'Uncommitted' && CustomerOrderModel.DealInfo.UnitStatus == 'Committed'" ng-click = "CustomerOrderModel.createDealMerchAndServiceSetion()">{{dealAction}}</a>
                                                    <a class = "mutedgray" ng-if = "(dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined && CustomerOrderModel.DealInfo.DealStatus == 'Quotation' )  || (dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealItemList != undefined && CustomerOrderModel.DealItemList[0].DealItemObj.OptionAndFeeStatus != 'Uncommitted' ) || (dealAction ==  'Commit & Install Options' && CustomerOrderModel.DealInfo.DealStatus !='In Progress' ) ">{{dealAction}}</a>
                                                    <a ng-if = "dealAction ==  'Remove Deal' && CustomerOrderModel.DealInfo.DealStatus == 'Quotation'" ng-click="CustomerOrderModel.removeDeal()">{{dealAction}}</a> 
	                                                <a ng-if = "dealAction == 'Set as a Quote' && CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote();"
	                                                						ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; 
	                                                						CustomerOrderModel.setCOStatusAsQuote()">{{dealAction}}</a>
	                                             	<a ng-if = "dealAction == 'Activate Quote' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
	                                                						CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'"
	                                                						ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true;
	                                                						 CustomerOrderModel.openActivateQuoteConfirmModal()">
	                                                						 {{dealAction}}</a>
	                                               	<a ng-if = "dealAction == 'Delete Quote' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
	                                                						CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'"
	                                                						ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; 
	                                                						CustomerOrderModel.openDeleteQuoteConfirmModal();">{{dealAction}}</a>
	                                                <a ng-if = "dealAction == 'Send Text to Customer' && CustomerOrderModel.coHeaderDetails.COType == 'Customer' && CustomerOrderModel.getSMSPhone() != ''"
	                                                						 ng-click="CustomerOrderModel.openMessagePopUp();">{{dealAction}}</a>						
                                                	<a class = "mutedgray" ng-if = "dealAction == 'Send Text to Customer' && CustomerOrderModel.coHeaderDetails.COType == 'Customer'
                                                							&& (CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() =='')">{{dealAction}}</a>
                                                    
                                                </li>
                                                <li ng-show="CustomerOrderModel.DealInfoLoadData.AvailableOptions.length == 0"><a>No Action Available</a></li>
                                            </ul>
                                        </div>
                                    </span>
                                    <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Deal']['view']}">  
                                        <i class="fa fa-print"
                                            ng-click="CustomerOrderModel.PrintDealInfo(CustomerOrderModel.DealInfo.Id)">
                                        </i>
                                        </span> 
                                    <span class="T3  pull-right total">
                                    <a id="Deal_block_total_price_row_h3_a" ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()"
                                        ng-mouseover="CustomerOrderModel.calculateDealSummaryOverlay($event)"> {{CustomerOrderModel.DealSummaryObj.Total | currency}}</a>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div  ng-show="(CustomerOrderModel.DealInfo !=  null || CustomerOrderModel.DealInfo != undefined) && CustomerOrderModel.DealInfo.length != 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal') > -1 &&  CustomerOrderModel.displaySections.Deal">
                            <div class="main_section_COU row MR0">
                                <div class="main_section_COU_Header row MB24">
                                    <p class="actionRow T2">
                                        <span class="sectionText">Info</span>
                                        <!-- <span class="actionText">Actions</span> --><!-- Commented by kajal 15th april, 2017 #1884 -->
                                        <span class="ActionIcons">
                                        <!-- <i class="fa fa-th"></i> --><!-- Commented by kajal 15th april, 2017 #1884 -->
                                        <i class="fa fa-question-circle" data-toggle="tooltip" title="" data-original-title="Deal Info Section"></i>
                                        </span> 
                                    </p>
                                    <div class="gid_container_Customer" id="CO_DealGrid_grid_container">
                                        <div class="row MR0">
                                            <div class="col-md-7">
                                                <div class="row MR0">
                                                    <div class="col-md-10 col-md-offset-1 InfoMT serviceNeedSection DealGrid">
                                                        <div class="col-md-4 col-md-offset-1 ML9">
                                                            <p class="T3">Deal Status</p>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <p class="T7 servicelabel quotation_font">{{CustomerOrderModel.DealInfo.DealStatus}}</p>
                                                            <p class="T7 servicelabel errormsg_deal" ng-class="{'greenclrMsg' :CustomerOrderModel.DealInfo.UnitStatus =='Delivered'}">{{CustomerOrderModel.dealUnitStatussMap[CustomerOrderModel.DealInfo.UnitStatus]}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-10 col-md-offset-1 InfoMT">
                                                        <div class="col-md-4 col-md-offset-1">
                                                            <p class="T3">Assigned To</p>
                                                        </div>
                                                        <div class="col-md-6 ML5">
                                                            {{CustomerOrderModel.DealInfo.AssignedTo}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row MR0">
                                                    <div class="col-md-10 col-md-offset-1 InfoMT">
                                                        <div class="col-md-4 col-md-offset-1">
                                                            <p class="T3">Deal Type</p>
                                                        </div>
                                                        <div class="col-md-6 ML5">
                                                           <select class="form-control pull-left width300" ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || CustomerOrderModel.DealInfo.DealStatus =='Invoiced' || CustomerOrderModel.DealFinanceList.Status != 'Quotation' || !(CustomerOrderModel.DealType.length > 1) || !GroupOnlyPermissions['Deal']['create/modify']" ng-change = "CustomerOrderModel.saveDealInfo()" ng-model="CustomerOrderModel.DealInfo.DealType" ng-options="i.Value as i.Value for i in CustomerOrderModel.DealType"></select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row MR0">
                                                    <div class="col-md-10 col-md-offset-1 InfoMT">
                                                        <div class="col-md-4 col-md-offset-1">
                                                            <p class="T3">Down Payment</p>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="pull-left Plr0">
                                                                <p class="input-group" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Closed'">
                                                                    <price-only-input id-value = "DownPayment"
                                                                        class-value = "form-control small width200"
                                                                        max-length = "16"
                                                                        rel-value="DownPaymentId"
                                                                        precision-length = "0" 
                                                                        tab-index="{{CustomerOrderModel.tabIndexValue + 8}}"
                                                                        input-value = "CustomerOrderModel.DealInfo.DownPayment" 
                                                                        validation-modal = "CustomerOrderModel.DealFormValidationModal"
                                                                        validation-modal-key = "DownPayment"
                                                                        input-model = "CustomerOrderModel"
            															disabled-value = "!GroupOnlyPermissions['Deal']['create/modify']"
                                                                        packaged = "CustomerOrderModel.DealInfo.DealType != 'Financed' && CustomerOrderModel.DealInfo.DealStatus !='Invoiced'"
                                                                        blur-callback = "CustomerOrderModel.saveDealInfo"
                                                                        />
                                                                </p>
                                                                <p ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'">
                                                                    <input type = "text"  class = "form-control small width200" ng-model= "CustomerOrderModel.DealInfo.DownPayment" ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' "/>
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row MR0">
                                                    <div class="col-md-10 col-md-offset-1 InfoMT">
                                                        <div class="col-md-4 col-md-offset-1">
                                                            <p class="T3">Delivery Date</p>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="pull-left Plr0">
                                                                <p class="input-group" style="background: #FFF;">
                                                                    <!-- START: EDited by kajal 12/06/2016 -->
                                                                    <input type="text" 
                                                                        ui-date="DeliverydateOptions" 
                                                                        style="background: #FFF;position: initial;" 
                                                                        ui-date-format="{{CustomerOrderModel.dateFormat}}" 
                                                                        class="form-control width200 datePickerColor datepicker"
                                                                        ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || !GroupOnlyPermissions['Deal']['create/modify'] || CustomerOrderModel.DealInfo.DealStatus =='Invoiced'" 
                                                                        ng-model="CustomerOrderModel.DealInfo.DeliveryDate" 
                                                                        ng-change = "CustomerOrderModel.saveDealInfo()" 
                                                                        readonly="readonly"
                                                                        />
                                                                        <span class="input-group-addon btn" style="cursor:pointer; position: absolute;right: 13%;top: 18%; padding: 0;font-size: 18px;">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                        </span>
                                                                        
                                                                        <!-- END: EDited by kajal 12/06/2016 -->
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="InfoMT serviceNeedSection DealGrid">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <p class="T3">Deal Summary</p>
                                                        </div>
                                                        <!-- Edited by kajal 11/03/2016 -->
                                                        <!-- Edited by kajal 11/03/2016 -->
                                                        <div class="col-md-8">
                                                            <ul class="nobullet">
                                                                <li class="col-md-12">
                                                                    <span class="labelWidth">
                                                                        Units 
                                                                        <i class="fa fa-plus cou_plus_icon" style="cursor: pointer;"  ng-click="CustomerOrderModel.UpdateDealSection($index)"></i> <!-- $event removed By kajal 10/24/2016 -->
                                                                    </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right"> {{(CustomerOrderModel.DealSummaryObj.UnitsTotal).toFixed(2)}}
                                                                    </span>
                                                                </li>
                                                                <li class="col-md-12">
                                                                    <span class="labelWidth">Trade-Ins
                                                                    <i class="fa fa-plus cou_plus_icon" ng-click="CustomerOrderModel.UpdateTradeInSection($index)" style="cursor: pointer;"></i> 
                                                                    </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.TradeInsTotal >= 0" >{{(CustomerOrderModel.DealSummaryObj.TradeInsTotal != null ? CustomerOrderModel.DealSummaryObj.TradeInsTotal : 0).toFixed(2)}}</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.TradeInsTotal < 0" >({{(CustomerOrderModel.DealSummaryObj.TradeInsTotal != null ? (CustomerOrderModel.DealSummaryObj.TradeInsTotal)*-1 : 0).toFixed(2)}})</span>
            
                                                                </li>
                                                                <li class="col-md-12">
                                                                    <span class="labelWidth">Parts &amp; Labor  </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right">{{(CustomerOrderModel.DealSummaryObj.PartsAndLabourTotals != null ? CustomerOrderModel.DealSummaryObj.PartsAndLabourTotals : 0).toFixed(2)}}</span>
                                                                </li>
                                                                <li class="col-md-12">
                                                                    <span class="labelWidth">Other Products  </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right">{{(CustomerOrderModel.DealSummaryObj.OtherProductsTotal != null ? CustomerOrderModel.DealSummaryObj.OtherProductsTotal : 0).toFixed(2)}}</span>
                                                                </li>
                                                                <li class="col-md-12">
                                                                    <span class="labelWidth"> Fees </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right">{{(CustomerOrderModel.DealSummaryObj.FeesTotal != null ? CustomerOrderModel.DealSummaryObj.FeesTotal : 0 ).toFixed(2)}}</span>
                                                                </li>
                                                                <li class="col-md-12" ng-if="CompanyLocale == 'Australia'">
                                                                    <span class="labelWidth"> Stamp Duty </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right">{{(CustomerOrderModel.DealSummaryObj.StampDutyTotal != null ? CustomerOrderModel.DealSummaryObj.StampDutyTotal : 0 ).toFixed(2)}}</span>
                                                                </li>
                                                                <li class="col-md-12 borderLineDeal">
                                                                    <span class="labelWidth text-left">Total </span>
                                                                    <span class="dollarWidth T3 text-right">$</span>
                                                                    <span class="width30 text-right T3" ng-if = "CustomerOrderModel.DealSummaryObj.SubTotal>= 0 ">{{(CustomerOrderModel.DealSummaryObj.SubTotal != null ? CustomerOrderModel.DealSummaryObj.SubTotal : 0 ).toFixed(2)}}</span>
                                                                    <span class="width30 text-right T3" ng-if = "CustomerOrderModel.DealSummaryObj.SubTotal< 0 ">({{(CustomerOrderModel.DealSummaryObj.SubTotal != null ? (CustomerOrderModel.DealSummaryObj.SubTotal)*-1 : 0 ).toFixed(2)}})</span>
                                                                </li>
                                                                <!-- 
                                                                <li class="col-md-12" ng-if="!CustomerOrderModel.IsTaxIncludingPricing">
                                                                    <span class="labelWidth"> Sales Taxes </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.SalesTaxesTotal>= 0">{{(CustomerOrderModel.DealSummaryObj.SalesTaxesTotal != null ? CustomerOrderModel.DealSummaryObj.SalesTaxesTotal : 0 ).toFixed(2)}}</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.SalesTaxesTotal< 0">({{(CustomerOrderModel.DealSummaryObj.SalesTaxesTotal != null ? (CustomerOrderModel.DealSummaryObj.SalesTaxesTotal)*-1 : 0 ).toFixed(2)}})</span>
                                                                </li>
                                                                <li class="col-md-12 borderLineDeal">
                                                                    <span class="labelWidth text-left"> TOTAL </span>
                                                                    <span class="dollarWidth T3 text-right">$</span>
                                                                    <span class="width30 text-right T3" ng-if = "CustomerOrderModel.DealSummaryObj.Total>= 0 ">{{(CustomerOrderModel.DealSummaryObj.Total != null ? CustomerOrderModel.DealSummaryObj.Total : 0 ).toFixed(2)}}</span>
                                                                    <span class="width30 text-right T3" ng-if = "CustomerOrderModel.DealSummaryObj.Total< 0 ">({{(CustomerOrderModel.DealSummaryObj.Total != null ? (CustomerOrderModel.DealSummaryObj.Total)*-1 : 0 ).toFixed(2)}})</span>
                                                                </li>
                                                                <li class="col-md-12" ng-if="CustomerOrderModel.IsTaxIncludingPricing">
                                                                    <span class="labelWidth"> Sales Taxes </span>
                                                                    <span class="dollarWidth text-right">$</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.SalesTaxesTotal>= 0">{{(CustomerOrderModel.DealSummaryObj.SalesTaxesTotal != null ? CustomerOrderModel.DealSummaryObj.SalesTaxesTotal : 0 ).toFixed(2)}}</span>
                                                                    <span class="width30 text-right" ng-if = "CustomerOrderModel.DealSummaryObj.SalesTaxesTotal< 0">({{(CustomerOrderModel.DealSummaryObj.SalesTaxesTotal != null ? (CustomerOrderModel.DealSummaryObj.SalesTaxesTotal)*-1 : 0 ).toFixed(2)}})</span>
                                                                </li> 
                                                                -->
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
             <!-- Start: Unresolved Fulfillment Section - by kajal - 11/11/2016 - #1260 -->
                                    <div class="UnresolvedFulfillmentSection" id="UnresolvedFulfillmentSection" ng-if = "CustomerOrderModel.DealUnresolvedFulfillmentList.length>0">
                                        <!-- Start: Header for unresolved Fulfillment --> 
                                        <div class="main_section_COU_Header row MR0 ML0" id="UnresolvedFulfillmentSectionHeader" >
                                            <p class="actionRow T2 inlinedisplay">
                                                <span class="sectionText ng-binding">
                                                    Unresolved Fulfillments
                                                </span>
                                                <span class="ActionIcons">
                                                <i class="fa fa-question-circle" data-original-title="Unresolved Fulfillment Section" data-toggle="tooltip"></i>
                                                </span> 
                                            </p>
                                        </div>
                                        <!-- End: Header for unresolved Fulfillment -->
                                        <!-- Start: Body for unresolved Fulfillment -->
                                        <div class="gid_container_Customer grid_Unresolved_Fulfillment_Section" id="UnresolvedFulfillmentSectionGrid"  >
                                           <table class="table" id="UnresolvedFulfillmentSectionTable">
                                               <col width="1%"  />
                                               <col width="3%"  />
                                               <col width="4%"  />
                                               <col width="25%"  />
            
                                               <col width="14%" />
                                               <col width="21%"  />
                                               <col width="13%" />
                                               <col width="17%" />
                                               <col width="1%"  />
                                               <thead>
                                                   <tr class="tableHeader T3 C2">
                                                       <th></th>
                                                       <th></th>
                                                       <th></th>
                                                       <th>ITEM/DESCRIPTION</th>
                                                       <th>FOR UNIT</th>
                                                       <th>WHAT CHANGED</th>
                                                       <th>USER</th>
                                                       <th>ACTION REQUIRED</th>
                                                       <th></th>
                                                   </tr>
                                               </thead>
                                               <tbody ng-repeat="dealFulfilMent in CustomerOrderModel.DealUnresolvedFulfillmentList" class="parentBody" ng-init="DealFulFillMentIndex = $index">
            
                                                   <tr ng-class-even="'C2'" 
                                                       ng-click="CustomerOrderModel.editUnresolvedFulfillmentSection($event,$index)" ng-class="{'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify']}">
            
            
                                                       <td class="HG50"></td>
                                                       <td></td>
                                                       <td>
                                                                <img src="{!Application_Images}/hammer.png" ng-if="dealFulfilMent.LabourId != null && dealFulfilMent.LabourId != ''" class="optionFeeImg"/>
                                                                <!-- <div ng-if = "dealFulfilMent.LabourId != null && dealFulfilMent.LabourId != ''" class="sprite hammer"></div> -->
                                                                <img src="{!Application_Images}/sparkplug.png" ng-if="dealFulfilMent.PartId != null && dealFulfilMent.PartId != ''" class="optionFeeImg"/>
                                                                <!-- <div ng-if = "dealFulfilMent.PartId != null && dealFulfilMent.PartId != ''" class="sprite sparkplug"></div> -->
                                                                <img src="{!Application_Images}/dollor.png" ng-if="dealFulfilMent.FeeId != null && dealFulfilMent.FeeId != ''" class="optionFeeImg"/>
                                                                <!-- <div ng-if = "dealFulfilMent.FeeId != null && dealFulfilMent.FeeId != ''" class="sprite dollor"></div> -->
                                                                <i ng-if="dealFulfilMent.SubletId != null && dealFulfilMent.SubletId != ''" ng-include="'{!Application_Images}/Icons/sublet.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                                <i class="fa fa-link FC7" style="font-size: 24px;" ng-if="(dealFulfilMent.COKitHeaderId != null && dealFulfilMent.COKitHeaderId != '') || 
                                                                (dealFulfilMent.SOKitHeaderId != null && dealFulfilMent.SOKitHeaderId != '') || 
                                                                (dealFulfilMent.DealKitHeaderId != null && dealFulfilMent.DealKitHeaderId != '')"></i>                      
                                                        </td>
                                                       <td>
                                                         <a ng-mouseover="CustomerOrderModel.openpartpopup($event, dealFulfilMent.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();"
                                                                    ng-if="dealFulfilMent.PartId != null && dealFulfilMent.PartId != ''">
                                                                {{dealFulfilMent.ItemCode}} - {{dealFulfilMent.ItemDescription}}
                                                                </a>
                                                                <span ng-if="dealFulfilMent.PartId == null">{{dealFulfilMent.ItemCode}} - {{dealFulfilMent.ItemDescription}}</span>
                                                       
                                                       </td>
                                                       <td>
                                                         {{dealFulfilMent.RequiredForUnit}}
            
                                                       </td>
                                                       <td>
                                                          {{CustomerOrderModel.DealUnresolvedFulfillmentMap[dealFulfilMent.Type]}},
                                                          <span ng-if = "dealFulfilMent.Type == 'Added'">Qty = {{dealFulfilMent.UpdatedQty}}</span>
                                                          <span ng-if = "dealFulfilMent.Type == 'Updated'">from {{dealFulfilMent.ActualQty}} to {{dealFulfilMent.UpdatedQty}} </span>
                                                          <span ng-if = "dealFulfilMent.Type == 'Removed'">Qty = {{dealFulfilMent.UpdatedQty}}</span>                                              
            
                                                       </td>
                                                       <td>
                                                           <span>{{dealFulfilMent.User}}</span>
            
                                                       </td>
                                                       <td>
                                                          <span class = "Requiredtd">{{dealFulfilMent.ActionRequired}}</span>
                                                       </td>
                                                       <td></td>
                                                   </tr>
                                                   <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit" ng-show="CustomerOrderModel.editUnresolvedFulfillment_editRow[DealFulFillMentIndex].isEdit" >
                                                       <td></td>
                                                       <td></td>
                                                       <td style="background:#fff"></td>
                                                       <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                           <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                               <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                   <i class="fa fa-angle-down"></i>

                                                                   <span>Action (1 Action Available)</span>  
                                                               </div>
                                                               <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                   <form>
                                                                       <div class="radio radioUF">
                                                                           <label>
                                                                           
                                                                                <span class="" ng-if="dealFulfilMent.ActionRequired == 'Add to Deal'">Add the item to unit</span> <!-- && dealFulfilMent.UpdatedQty > dealFulfilMent.ActualQty" && dealFulfilMent.UpdatedQty > dealFulfilMent.ActualQty-->
                                                                                <span class="" ng-if="dealFulfilMent.ActionRequired == 'Update Deal' && dealFulfilMent.UpdatedQty > dealFulfilMent.ActualQty">Apply the qty increase to the options on unit</span>
                                                                                  <span class="" ng-if="dealFulfilMent.ActionRequired == 'Update Deal' && dealFulfilMent.UpdatedQty < dealFulfilMent.ActualQty">Apply the qty decrease to the options on unit</span>
                                                                                <span class="" ng-if="dealFulfilMent.ActionRequired == 'Remove from Deal'">Remove the item from unit {{dealFulfilMent.RelatedStockIds}}</span>
                                                                                <span class="select_box_container" ng-if="dealFulfilMent.ActionRequired == 'Add to Deal' || dealFulfilMent.ActionRequired == 'Update Deal'">
                                                                                      <select class="form-control" 
                                                                                           ng-disabled="(dealFulfilMent.DealServiceLineItemId != null && dealFulfilMent.DealServiceLineItemId != '') || CustomerOrderModel.dealStockIdValueJson.length == 1 "
                                                                                          ng-model = "CustomerOrderModel.dealStockIdValue[$index]"
                                                                                           ng-options="user as user.Value for user in CustomerOrderModel.dealStockIdValueJson track by user.Id"
                                                                                       >
                                                                                     </select>  
                                                                                </span>
            
                                                                            </label>
                                                                       </div>
                                                                       <div class="radio radioUF">
                                                                           <label ng-if="dealFulfilMent.ActionRequired == 'Add to Deal' || (dealFulfilMent.ActionRequired == 'Update Deal' && dealFulfilMent.UpdatedQty > dealFulfilMent.ActualQty )">
            
                                                                                <span class="" ng-if="">and</span>
                                                                                <span class="select_box_container">
                                                                                    <select class="form-control" ng-model = "dealFulfilMent.ChargeMethod">
            
                                                                                        <option value="Invoice">Invoice</option>
                                                                                        <option value="Do Not Invoice">Do Not Invoice</option>
                                                                                    </select> 
                                                                                </span>
                                                                                <span class="">the customer for the item</span>
                                                                            </label>
                                                                       </div>
                                                                       <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                           class="btn btn-default editFormBtn" role="button"
                                                                           ng-click="CustomerOrderModel.resolveFulfillmentData(dealFulfilMent.DealId , dealFulfilMent, CustomerOrderModel.dealStockIdValue[$index])">Apply</a>                                
            
                                                                   </form>
                                                               </div>
                                                           </div>
                                                       </td>
                                                   </tr>
                                               </tbody>
                                            </table>
                                        </div>
                                        <!-- End: Body for unresolved Fulfillment - by kajal - 11/11/2016 - #1260 -->
                                    </div>
            
            
                                    <!-- END: Unresolved Fulfillment Section -->           
                                    <div ng-repeat="dealItem in CustomerOrderModel.DealItemList" ng-init="DealHeaderIndex = $index" id="DealUnitSection{{$index}}">
                                        <div class="main_section_COU_Header row MB24" >
                                            <p class="actionRow T2">
                                                <span class="sectionText">Unit {{DealHeaderIndex + 1}}</span>
            
                                                <span class="ActionIcons">
            
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="Deal Info Section">
                                                    </i>
                                                </span>
                                            </p>
                                            <div class="gid_container_Customer">
                                                <div class="col-md-12 InfoMT">
                                                    <div class="col-md-9 col-md-offset-1">
                                                        <!-- start: cou 3 kv-->
                                                        <div>
                                                            <div class="lightbox minheight blackborder pull-left">
                                                                <div class="unitimagediv">
                                                                    <img  class="hideoverflow width95" src="{!Application_Images}/UnitImage.png" width="80px" height="100px" />
                                                                </div>
                                                                <div class="newunitcss">
                                                                    <div class="tempUnitHeader text-bold pull-left" ng-if="dealItem.DealItemObj.UnitId == null">
                                                                        Temporary Unit
                                                                    </div>
                                                                    <div class="vinUnknown text-bold pull-left" 
                                                                        ng-if="dealItem.DealItemObj.Id != null && dealItem.DealItemObj.UnitId != null && (dealItem.DealItemObj.VIN == 'VIN Unknown' || dealItem.DealItemObj.VIN == '')">
                                                                        VIN Unknown 
                                                                    </div>
                                                                    <span class="T14_1 text-bold" ng-if="dealItem.DealItemObj.UnitId != null && dealItem.DealItemObj.VIN != 'VIN Unknown' && dealItem.DealItemObj.VIN != ''">
                                                                    {{dealItem.DealItemObj.VIN}}
                                                                    </span> 
                                                                    <div ng-if="dealItem.DealItemObj.Id != null && dealItem.DealItemObj != undefined && dealItem.DealItemObj != {} && dealItem.DealItemObj.UnitNumber !=null && dealItem.DealItemObj.UnitType=='STOCK'" class="pull-left PL10 fullwidth">
                                                                        <span class="T7">STOCK#</span>
                                                                        <span class="unitIdInCard PL10"><a class="T2" ui-sref="ViewUnit({Id: dealItem.DealItemObj.UnitId})">{{dealItem.DealItemObj.UnitNumber}}</a></span>
                                                                    </div>
                                                                    <div class="T3 pull-left text-bold fullwidth row">
                                                                        <div class="col-md-6 padding0 handleoverflow" ng-if="dealItem.DealItemObj.MakeName !=null || dealItem.DealItemObj.MakeName!=''">
                                                                            {{dealItem.DealItemObj.MakeName}}  
                                                                        </div>
                                                                        <div class="PL10 col-md-6 handleoverflow" ng-if="dealItem.DealItemObj.Year !=null || dealItem.DealItemObj.Year!=''">
                                                                            {{dealItem.DealItemObj.Year}}
                                                                        </div>
                                                                    </div>
                                                                    <div class="T3 pull-left text-bold fullwidth row">
                                                                        <span class="pull-left maxwidth col-md-6 padding0 handleoverflow" ng-if="dealItem.DealItemObj.ModelName !=null || dealItem.DealItemObj.ModelName!=''">{{dealItem.DealItemObj.ModelName}}</span>
                                                                        <span class="PL10 rightaligned col-md-6" ng-if="dealItem.DealItemObj.ExteriorColour !=null || dealItem.DealItemObj.ExteriorColour!=''">{{dealItem.DealItemObj.ExteriorColour}}</span>
                                                                    </div>
                                                                    <div class="T3  pull-left text-bold fullwidth row">
                                                                        <span class="pull-left col-md-6 padding0 handleoverflow" ng-if="dealItem.DealItemObj.SubModelName !=null || dealItem.DealItemObj.SubModelName!=''">{{dealItem.DealItemObj.SubModelName}}</span>
                                                                        <span class="cou_status pull-left col-md-6" ng-class="{ redColorBg: dealItem.DealItemObj.StatusColor=='Red' ,  greenColorBg: dealItem.DealItemObj.StatusColor=='Green', blackColorBg: dealItem.DealItemObj.StatusColor=='Black' }" ng-if = "dealItem.DealItemObj.UnitNumber != null">
                                                                        {{dealItem.DealItemObj.Status}}
                                                                        </span>
                                                                        <span class="cou_status pull-left col-md-6 temporarytype" ng-if = "dealItem.DealItemObj.UnitId == null">
                                                                        Temporary
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="pull-left COUList">
                                                                <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
            
                                                                     ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced' || !GroupOnlyPermissions['Deal']['create/modify']"
            
                                                                    aria-haspopup="true" aria-expanded="false">
                                                                <span class="caret"></span>
                                                                <span class="sr-only">Toggle Dropdown</span>
                                                                </button>
                                                                <!-- Edited by kajal 11/10/2016 italic ==> couItalic --> 
                                                                  <ul class="dropdown-menu">
                                                                      <li ng-click="CustomerOrderModel.setFocusToUnitInternalService(dealItem.DealItemObj.Id, DealHeaderIndex)" ng-if="dealItem.DealItemObj.UnitId ==null && CustomerOrderModel.DealInfo.DealStatus =='Quotation' " class="couItalic"><a>Select Inventory Unit</a></li>
                                                                      <li ng-if="dealItem.DealItemObj.UnitId ==null && CustomerOrderModel.DealInfo.DealStatus !='Quotation'" class="couItalic"><a class="mutedgray">Select Inventory Unit</a></li>
                                                                      <li ng-click = "CustomerOrderModel.editTempDeals(CustomerOrderModel.DealInfo.Id, dealItem.DealItemObj.Id,$index)" ng-if="dealItem.DealItemObj.UnitId ==null && dealItem.DealItemObj.OptionAndFeeStatus != 'Committed' " class="couItalic"><a>Define Temporary Unit</a></li>
                                                                      <li ng-if="dealItem.DealItemObj.UnitId ==null && dealItem.DealItemObj.OptionAndFeeStatus == 'Committed'" class="couItalic"><a class="mutedgray">Define Temporary Unit</a></li>
                                                                      <li ng-click="CustomerOrderModel.setFocusToUnitInternalService(dealItem.DealItemObj.Id, DealHeaderIndex)" ng-if="dealItem.DealItemObj.UnitId !=null && CustomerOrderModel.DealInfo.DealStatus =='Quotation'  " class="couItalic"><a>Change Selected Unit</a></li>
                                                                      <li ng-if="dealItem.DealItemObj.UnitId !=null && CustomerOrderModel.DealInfo.DealStatus !='Quotation'" class="couItalic"><a class="mutedgray">Change Selected Unit</a></li>
                                                                      <li ng-click = "" ng-if="dealItem.DealItemObj.UnitId !=null" class="couItalic"><a ui-sref="ViewUnit({Id: dealItem.DealItemObj.UnitId})">View Unit Details</a></li>
                                                                      <li ng-click="CustomerOrderModel.openRemoveUnitFromDealModal(true, $index)" ng-if="(CustomerOrderModel.DealInfo.DealStatus =='Quotation' && CustomerOrderModel.DealItemList.length>=1 )" class="couItalic"><a>Remove Unit from Deal</a></li><!-- Edited by kv 12/15/2016 -->
                                                                      <!-- Edited by kajal 11/03/2016 -->
                                                                      <!-- START: Added by kajal 11/03/2016 -->
                                                                      <li ng-if="CustomerOrderModel.DealInfo.DealStatus !='Quotation'" class="couItalic"><a class="mutedgray">Remove Unit from Deal</a></li><!-- || CustomerOrderModel.DealItemList.length == 1  by kv 12/15/2016 -->
                                                               </ul>
                                                            </div>
                                                        </div>
                                                        <!-- end: cou 3 kv -->
                                                        <div class="icon_list">
            
            
            
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-10 col-md-offset-1 EnforceRidewayPricingSection" ng-if="CompanyLocale == 'Australia'">
                                                    <div class="col-md-12">
                                                    	<div class="padding0 pull-left">
                                                        	<p class="T3 MT8">Enforce Rideaway Pricing?</p>
                                                        </div>
			                                            <div class="pull-left margin-top-6 Plr0" ng-class="{'margin25' : dealItem.IsRideawayPricingEnabled , 'margin100' : !dealItem.IsRideawayPricingEnabled}">
			                                            <label class="switch .marginLeft0">
							                                <input id="is_Rideaway_Price_{{$index}}" type="checkbox" ng-checked="dealItem.IsRideawayPricingEnabled" 
						                                			ng-click="CustomerOrderModel.toggleRideawayPriceItem($event, DealHeaderIndex)" />
							                                <div class="slider round"></div>
							                            </label>
							                            </div>
                                                        <div class="pull-left Plr0" ng-show="dealItem.IsRideawayPricingEnabled">
                                                            <p class="input-group M0">
                                                            	<span class="input-group-addon pull-left P12">$</span>
                                                                <span class = "pull-left rideawayPrice" >
                                                                    <price-only-input input-value="dealItem.TotalEnforceRideawayPrice" 
                                                                            id-value="RideawayPrice_Edit_{{$index}}" 
                                                                            max-length = "12" 
                                                                            precision-length = "2"
                                                                            disabled-value = "CustomerOrderModel.isOrderInvoicedOrClosed()"
                                                                            class-value="form-control text-center"
                                                                            input-model = "CustomerOrderModel" 
                                                                           	blur-function = "CustomerOrderModel.saveEnforceRideawayPrice(DealHeaderIndex)" />
                                                                   
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
            								 	</div>
                                                <div class="col-md-10 col-md-offset-1 baseUnitSection">
                                                    <div class="col-md-3  ML5">
                                                        <p class="T3">Base Unit Price</p>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <div class="pull-left Plr0">
                                                            <p class="input-group">
                                                                 <span ng-if="!CustomerOrderModel.BaseUnitPrice_editRow[DealHeaderIndex].isEdit" >{{dealItem.TotalBasePrice | currency}}</span>
                                                                <span ng-if="CustomerOrderModel.BaseUnitPrice_editRow[DealHeaderIndex].isEdit" class = "pull-left" style="width: 79%;">
                                                                    <!-- Edited By Kajal 11/03/2016 -->
            
            
                                                                    <number-only-input-blur input-value="dealItem.TotalBasePrice" id-val="basePrice_TotalPrice_Edit_{{$index}}" include-negative="true"
                                                                        ng-keydown="CustomerOrderModel.editBaseUnitPriceRowTabOut($event, dealItem.DealItemObj.Deal, dealItem.DealItemObj.Id, DealHeaderIndex)"
                                                                        callback-Function="CustomerOrderModel.editBaseUnitPriceRowTabOut(event, dealItem.DealItemObj.Deal, dealItem.DealItemObj.Id, DealHeaderIndex)" 
                                                                        class="pull-left"
                                                                        tab-index="{{CustomerOrderModel.tabIndexValue + 9}}"/>
                                                                </span>
                                                                <i class="fa fa-lock baseUnitLockIcon" ng-if="!CustomerOrderModel.BaseUnitPrice_editRow[DealHeaderIndex].isEdit" ng-click="CustomerOrderModel.editBaseUnitPriceItem($event, DealHeaderIndex)"
                                                                		ng-class="{'C979797': CustomerOrderModel.isLockIconEnableOnUnitSection(DealHeaderIndex)}" ></i>
                                                                <!-- Edited by kajal 11/03/2016 -->
                                                                <i class="fa fa-unlock baseUnitLockIcon" aria-hidden="true" 
                                                                    ng-if="CustomerOrderModel.BaseUnitPrice_editRow[DealHeaderIndex].isEdit" 
                                                                    ng-click="CustomerOrderModel.editBaseUnitPriceItem($event, DealHeaderIndex)"></i>
                                                            </p>
                                                        </div>
                                                    </div>
            								 </div>
                                                <div class="col-md-10 col-md-offset-1" style="min-height: 30px;">
                                                    <div class="col-md-3  ML5">
                                                        <p class="T3"><span class="underline anchorcolor" ng-click="CustomerOrderModel.showHideFactoryOption($event, DealHeaderIndex)">Factory Options</span></p>
                                                        <!--  edited by kajal 11/04/2016 -->
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="pull-left Plr0">
                                                            <p class="input-group">
                                                                {{CustomerOrderModel.factoryTotal[DealHeaderIndex] | currency}}
                                                            </p>
                                                        </div>
                                                    </div>
            
            
            
                                                </div>
                                                <!-- start : grid for factory item by kv -->
                                                <div class="col-md-7 col-md-offset-1" ng-show="CustomerOrderModel.FactoryItems_editRow[DealHeaderIndex].isEdit">
                                                    <!--  edited by kajal 11/04/2016 -->
                                                    <div id="CO_DeaFactoryOptions_grid_container">
                                                        <table class="table" id="CustomerOrder_MerchandiseItemGrid">
                                                            <col width="2%"/>
                                                            <col width="2%"/>
                                                            <col width="40%"/>
                                                            <col width="30%"/>
                                                            <col width="2%"/>
                                                            <thead>
                                                                <tr class="tableHeader T3 C2">
                                                                    <th></th>
                                                                    <th></th>
                                                                    <th>Item/Description</th>
                                                                    <th class="text-center">Price</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody ng-repeat="factoryItem in dealItem.FactoryOptionList" class="parentBody" ng-init="factoryItemIndex = $index">
                                                                <tr id="editFactoryItem" ng-class-even="'C2'">
                                                                    <!-- ng-click="CustomerOrderModel.editFactoryItem($event, DealHeaderIndex, factoryItemIndex)" -->
                                                                    <td class="HG50"></td>
                                                                    <td></td>
                                                                    <td>{{factoryItem.ItemDescription}}</td>
                                                                    <td class="text-center" ng-if="!CustomerOrderModel.FactoryItems_editRow[DealHeaderIndex].factoryOrderLineItems[factoryItemIndex].isEdit" 
                                                                        ng-click="CustomerOrderModel.editFactoryItem($event, DealHeaderIndex, factoryItemIndex)">
                                                                        {{factoryItem.Price | currency}}
                                                                    </td>
                                                                    <td class="text-center" ng-if="CustomerOrderModel.FactoryItems_editRow[DealHeaderIndex].factoryOrderLineItems[factoryItemIndex].isEdit">
                                                                        <price-only-input input-value="factoryItem.Price" 
                                                                            idValue="factoryItem_Price_Edit_{{$index}}" 
                                                                            ng-keydown="CustomerOrderModel.editFactoryOptionRowTabOut($event, dealItem.DealItemObj.Deal, dealItem.DealItemObj.Id, DealHeaderIndex, factoryItemIndex)"
                                                                            max-length = "16" 
                                                                            precision-length = "2"
                                                                            validation-modal = "CustomerOrderModel.priceValidationModal"
                                                                            validation-modal-key = "FactoryOptionPrice"
                                                                            tab-index="{{CustomerOrderModel.tabIndexValue + 12}}"
                                                                            input-model = "CustomerOrderModel"  />
                                                                    </td>
            
                                                                    <td></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <!-- end : grid for factory item by kv -->
                                                <div class="col-md-10 col-md-offset-1" style="min-height: 30px;">
                                                    <div class="col-md-3  ML5">
                                                        <p class="T3"><span class="underline anchorcolor" ng-click="CustomerOrderModel.showHideDealerInstalledOption($event, DealHeaderIndex)">Dealer Installed Options</span></p>
                                                        <!-- Edited by kajal 11/04/2016 -->
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="pull-left Plr0">
                                                            <p class="input-group">
                                                                {{CustomerOrderModel.dealerInstalledOptionsTotal[DealHeaderIndex] | currency}}
                                                            </p>
                                                        </div>
                                                    </div>
            
            
            
                                                </div>
                                                <!-- start : grid for dealer installed options -->
                                                <div class="col-md-10 col-md-offset-1 " ng-show="CustomerOrderModel.DealerInstalledOptionsItems_editRow[DealHeaderIndex].isEdit">
                                                    <!-- Edited by kajal 11/04/2016 -->
                                                    <div id="CO_DealerInstalledOptions_grid_container">
                                                        <table class="table" id="CustomerOrder_MerchandiseItemGrid">
                                                            <col width="2%"/>
                                                            <col width="2%"/>
                                                            <col width="40%"/>
                                                            <col width="20%"/>
                                                            <col width="20%"/>
                                                            <col width="20%"/>
                                                            <col width="2%"/>
                                                            <thead>
                                                                <tr class="tableHeader T3 C2">
                                                                    <th></th>
                                                                    <th></th>
                                                                    <th>Item/Description</th>
                                                                    <th class="text-center">Quantity</th>
                                                                    <th class="text-center">Price</th>
                                                                    <th class="text-center">Total</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody ng-repeat="dealerInstalledOptionItem in dealItem.DealerInstalledOptionList" class="parentBody" ng-init="dealerInstalledOptionItemIndex = $index">
                                                                <tr id="editdealerInstalledOptionItem" ng-class-even="'C2'">
            
                                                                    <td class="HG50"></td>
                                                                    <td></td>
                                                                    <td>{{dealerInstalledOptionItem.ItemDescription}}</td>
                                                                    <td class="text-center">{{dealerInstalledOptionItem.Qty}}</td>
                                                                    <td class="text-center" ng-if="!CustomerOrderModel.DealerInstalledOptionsItems_editRow[DealHeaderIndex].dealerInstalledOptionsLineItems[dealerInstalledOptionItemIndex].isEdit"
                                                                        ng-click="CustomerOrderModel.editDealerInstalledOptionsItem($event, DealHeaderIndex, dealerInstalledOptionItemIndex)">
                                                                        {{dealerInstalledOptionItem.Price | currency}}
                                                                    </td>
                                                                    <td class="text-center" ng-if="CustomerOrderModel.DealerInstalledOptionsItems_editRow[DealHeaderIndex].dealerInstalledOptionsLineItems[dealerInstalledOptionItemIndex].isEdit">
                                                                        <price-only-input input-value="dealerInstalledOptionItem.Price" 
            
            
                                                                            idValue="dealerInstalledOptionItem_Price_Edit_{{$index}}" 
                                                                            ng-keydown="CustomerOrderModel.editDealerInstalledOptionsRowTabOut($event, dealItem.DealItemObj.Deal, dealItem.DealItemObj.Id, DealHeaderIndex, dealerInstalledOptionItemIndex)"
                                                                            max-length = "16" 
                                                                            precision-length = "2"
                                                                            validation-modal = "CustomerOrderModel.priceValidationModal"
                                                                            validation-modal-key = "DealerInstalledOptionPrice"
                                                                            input-model = "CustomerOrderModel"  />
                                                                    </td>
                                                                    <!-- number-only-input -->
                                                                    <td class="text-center">{{dealerInstalledOptionItem.TotalPrice | currency}}</td>
                                                                    <td></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <!-- end : grid for dealer installed options -->
                                                <div class="col-md-10 col-md-offset-1" style="min-height: 30px;">
                                                    <div class="col-md-3  ML5">
                                                        <p class="T3">Options &amp; Fees</p>
                                                    </div>
                                                    <div class="col-md-1">
                                                        <div class="pull-left Plr0">
                                                            <p class="input-group">
                                                                {{CustomerOrderModel.DealItemList[DealHeaderIndex].TotalOptionAndFee| currency}}
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-md-10 col-md-offset-1" ng-if="CompanyLocale == 'Australia'">
                                                    <div class="col-md-3  ML5"> <p class="T3">Stamp Duty</p></div>
                                                    <div class="col-md-2">
                                                        <div class="pull-left Plr0">
                                                            <p class="input-group">
                                                                <span ng-if="!CustomerOrderModel.StampDuty_editRow[DealHeaderIndex].isEdit">{{dealItem.TotalStampDuty | currency}}</span>
                                                                <span class = "pull-left" style="width: 79%;" ng-if="CustomerOrderModel.StampDuty_editRow[DealHeaderIndex].isEdit" >
                                                                    <number-only-input-blur input-value="dealItem.TotalStampDuty" id-val="StampDuty_Edit_{{$index}}" include-negative="false"
                                                                        class="pull-left"
                                                                        ng-keydown="CustomerOrderModel.editStampDutyRowTabOut($event, dealItem.DealItemObj.Id, DealHeaderIndex)"
                                                                        callback-Function="CustomerOrderModel.editStampDutyRowTabOut(event, dealItem.DealItemObj.Id, DealHeaderIndex)" 
                                                                        tab-index="{{CustomerOrderModel.tabIndexValue + 13}}"/>
                                                                </span>
                                                                <i class="fa fa-lock baseUnitLockIcon" ng-if="!CustomerOrderModel.StampDuty_editRow[DealHeaderIndex].isEdit" ng-click="CustomerOrderModel.editStampDuty(DealHeaderIndex)"
                                                                		ng-class="{'C979797': CustomerOrderModel.isLockIconEnableOnUnitSection(DealHeaderIndex)}" ></i>
                                                                <!-- Edited by kajal 11/03/2016 -->
                                                                <i class="fa fa-unlock baseUnitLockIcon" aria-hidden="true" 
                                                                    ng-if="CustomerOrderModel.StampDuty_editRow[DealHeaderIndex].isEdit" 
                                                                    ng-click="CustomerOrderModel.editStampDuty(DealHeaderIndex)"></i>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class = "col-md-offset-3" style="width: 25%; margin-left: 20%"> <!-- Edited by kajal 12/06/2016 -->
                                                    <p class=" servicelabel errormsg_deal" >{{CustomerOrderModel.dealOptionsAndFeesStatussMap[dealItem.DealItemObj.OptionAndFeeStatus]}}</p>
                                               </div> 
                                            </div>
                                        </div>
                                        <!-- start : Deal OptionAndFees Unit Section  -->
                                        <div class="DealOptionAndFeesUnitSection{{DealHeaderIndex}}" id="DealOptionAndFeesUnitSection{{DealHeaderIndex}}">
                                            <div class="main_section_COU_Header row MR0 ML0" id="Unit{{DealHeaderIndex + 1}}optionsFeesSection">
                                                <p class="actionRow T2 inlinedisplay">
                                                    <span class="sectionText">
                                                        Unit {{DealHeaderIndex + 1}} Options &amp; Fees
                                                        <i class="fa fa-plus cou_plus_icon" ng-click=" dealSetFocus(DealHeaderIndex);"></i> <!--  -->
                                                    </span>
                                                    <span class="ActionIcons">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip" title="" data-original-title="Unit Options Fees"></i>
                                                    </span> 
                                                </p>
                                            </div>
                                         <div class="gid_container_Customer" id="CO_Merchandise_block_grid_container">
                                    <table class="table" id="CustomerOrder_OptionFeesItemGrid">
                                                    <col width="1%"  />
                                                    <col width="3%"  />
                                                    <col width="4%"  />
                                                    <col width="29%"  />
                                                    <col width="14%" />
                                                    <col width="12%"  />
                                                    <col width="9%" />
                                                    <col width="9%" />
                                                    <col width="9%" />
                                                    <col width="1%"  />
                                                    <thead>
                                                        <tr class="tableHeader T3 C2">
                                                            <th></th>
                                                            <th></th>
                                                            <th></th>
                                                            <th>ITEM/DESCRIPTION</th>
                                                            <th>INSTALL ?</th>
                                                            <th class="text-center">STATUS</th>
                                                            <th class="text-center">QTY</th>
                                                            <!-- START: Edited By Kajal 11/02/2016 -->
                                                            <th class="text-right">PRICE</th>
                                                            <th class="text-right">TOTAL</th>
                                                            <!-- END: Edited By Kajal 11/02/2016 -->
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody ng-repeat="optionAndFeeKitItem in dealItem.DealKitHeaderList" class="parentBody" 
                                                        ng-init="optionAndFeeItemIndex = $index">
                                                        <tr ng-class="{'C2' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].rowNumber % 2 == 0,'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify'] }" 
                                                            ng-click="CustomerOrderModel.editOptionFeesItem($event,DealHeaderIndex, optionAndFeeItemIndex, null)" 
                                                            ng-show="optionAndFeeKitItem.Id != null && !CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].isEdit">
                                                            <td class="HG50"></td>
            
                                                            <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                             <td>
                                                                <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                                <!-- <div class="sprite sparkplug"></div> -->
                                                            </td>
                                                             <td>{{optionAndFeeKitItem.ItemDescription}}</td>
                                                            <td >
                                                                <span class="chk_tick" id="isInstall" ng-class="{'chked': optionAndFeeKitItem.IsInstall, 'disabledChk' : (optionAndFeeKitItem.IsServiceKit == true || !GroupOnlyPermissions['Deal']['create/modify'] ) }" 
                                                                 ng-click="CustomerOrderModel.isInstallOptionFees(optionAndFeeKitItem, null, DealHeaderIndex, optionAndFeeItemIndex,null)"
                                                                  >
                                                               <i class="fa fa-check-square chksqure"></i>
                                                               </span>
            
                                                            </td>
                                                            <td ></td>
                                                            <td> </td>
                                                            <td class="text-right">{{optionAndFeeKitItem.Price | currency}}</td>
                                                             <td class="text-right">
            
                                                                <span>{{optionAndFeeKitItem.Price | currency}}</span>
                                                                <i class="fa fa-lock FC7" ng-show="optionAndFeeKitItem.IsFixedPrice"></i>
                                                                <i class="fa fa-pencil FC7" ng-show="optionAndFeeKitItem.IsFixedPriceForCO"></i>
                                                            </td>
                                                            <td></td>
                                                        </tr>
                                                        <tr ng-class="{'Editable_row':CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].isEdit, 'C2' : (CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].rowNumber % 2 == 0),'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify']}"
                                                            ng-show="optionAndFeeKitItem.Id != null && CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].isEdit" 
                                                            class="Editable_row" 
                                                            ng-click="CustomerOrderModel.editOptionFeesItem($event, DealHeaderIndex, optionAndFeeItemIndex, null, null)" >
                                                            <td class="HG50"></td>
                                                            <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                                <td>
                                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                                </td>
                                                            <td>
                                                               {{optionAndFeeKitItem.ItemDescription}}
                                                            </td>
                                                           <td >
                                                                <span class="chk_tick" id="isInstall" ng-class="{'chked': optionAndFeeKitItem.IsInstall, 'disabledChk' : (optionAndFeeKitItem.IsServiceKit == true || !GroupOnlyPermissions['Deal']['create/modify'] ) }" 
                                                                  ng-click="CustomerOrderModel.isInstallOptionFees(optionAndFeeKitItem, null, DealHeaderIndex, optionAndFeeItemIndex, null)" 
                                                                  >
                                                               <i class="fa fa-check-square chksqure"></i>
                                                               </span>
                                                            </td>
                                                            <td class="text-center">
                                                            </td>
                                                            <td class="text-center">
                                                            </td>
                                                            <td class="text-center" ng-if="!optionAndFeeKitItem.IsFixedPrice && GroupOnlyPermissions['Override price'].enabled">
                                                                <number-only-input-blur input-value="optionAndFeeKitItem.Price" id-val="OptionFees_Price_Edit_{{DealHeaderIndex}}_{{optionAndFeeItemIndex}}_{{$index}}"  
                                                                    include-negative="true"
                                                                    ng-keydown="CustomerOrderModel.editRowOptionFeeTabOut($event, DealHeaderIndex, optionAndFeeItemIndex, null, null)"
                                                                    callback-Function="CustomerOrderModel.editRowOptionFeeTabOut(event, DealHeaderIndex, optionAndFeeItemIndex, null, null)" 
                                                                    />
                                                            </td>
                                                            <td class="text-right" ng-if="optionAndFeeKitItem.IsFixedPrice || !(GroupOnlyPermissions['Override price'].enabled)">
                                                                <span>{{optionAndFeeKitItem.Price | currency}}</span>
                                                            </td>
                                                            <td class="text-right">
                                                                <span>{{optionAndFeeKitItem.Price | currency}}</span>
                                                                <i class="fa fa-lock FC7" ng-show="optionAndFeeKitItem.IsFixedPrice"></i>
                                                                <i class="fa fa-pencil FC7" ng-show="optionAndFeeKitItem.IsFixedPriceForCO"></i>
                                                            </td>
                                                            <td></td>
                                                        </tr>
                                                        <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit" 
                                                        ng-show="optionAndFeeKitItem.Id != null && CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].isEdit"     
                                                        ng-click="CustomerOrderModel.editOptionFeesItem($event, DealHeaderIndex, optionAndFeeItemIndex, null)"
                                                        ng-class="{'C2' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].rowNumber % 2 == 0,'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify'] }">
                                                            <td style="background:#fff"></td>
                                                            <td ng-class="{'BL': optionAndFeeKitItem.hasChildren}" style="background:#fff"></td>
                                                            <td style="background:#fff"></td>
                                                            <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                                <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                                    <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                        <i class="fa fa-angle-down"></i>

                                                                        <span>Action (1 Action Available)</span>  
                                                                    </div>
                                                                    <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                        <form>
                                                                            <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                                <label>
                                                                                    <p class="chk_tick edit-service-chek"
                                                                                        ng-class="{'chked' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].radioValue == 0 }" 
            
                                                                                        ng-click="CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].radioValue = 0">
                                                                                        <i class="fa fa-check-square chksqure"></i>
                                                                                    </p>
                                                                                    <span>Remove From Deal</span>
                                                                                </label>
                                                                            </div>
                                                                            <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                                class="btn btn-default editFormBtn" role="button"
                                                                                ng-click="CustomerOrderModel.dealItemGoAction(CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].radioValue, optionAndFeeKitItem.Id, null, dealItem.DealItemObj.Id, DealHeaderIndex,optionAndFeeItemIndex, null, $event)">Apply</a>                                
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr ng-repeat-start="OptionAndFeeLineItem in optionAndFeeKitItem.OptionAndFeeList" ng-init="optionAndFeeLineItemIndex = $index"
                                                            ng-show="!CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].isEdit"
                                                             ng-click="CustomerOrderModel.editOptionFeesItem($event,DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex)" 
                                                             ng-class="{'C2' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].rowNumber % 2 == 0 ,'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify']}">
                                                            <td class="HG50" ng-class="{'BGFF': OptionAndFeeLineItem.hasChildren}" style="background:#fff"></td>
                                                            <td ng-class="{'BL BGFF': optionAndFeeKitItem.hasChildren}">
                                                                <i ng-class="{'fa fa-link FC7 servicesitem': OptionAndFeeLineItem.hasChildren}" >
                                                                </i>
                                                            </td>
                                                            <td>
                                                                <img src="{!Application_Images}/dollor.png" 
                                                                ng-if="OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != ''" 
                                                                    class="optionFeeImg"/>
                                                                <!-- <div class="sprite dollor"
                                                                    ng-if="((OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.Type != 'Warranty Plan'))"></div> -->
                                                                <img src="{!Application_Images}/hammer.png" ng-if="OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != ''" class="optionFeeImg"/>
                                                                <!-- <div class="sprite hammer" ng-if="OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != ''"></div> -->
                                                                <img src="{!Application_Images}/sparkplug.png" ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''" class="optionFeeImg"/>
                                                                <!-- <div class="sprite sparkplug" ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''"></div> -->
                                                                <!-- <i class="fa fa-wikipedia-w FC7 optionFeeImg" ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Warranty Plan'"></i> -->
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet'" ng-include="'{!Application_Images}/Icons/sublet.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Warranty Plan'" ng-include="'{!Application_Images}/Icons/Warranty-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
																<i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Deal Product'" ng-include="'{!Application_Images}/Icons/deal-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Financing Product'" ng-include="'{!Application_Images}/Icons/financing-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                            </td>
                                                            <td >
                                                                 <a ng-mouseover="CustomerOrderModel.openpartpopup($event, OptionAndFeeLineItem.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();"
                                                                    ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''">
                                                                {{OptionAndFeeLineItem.Item}}
                                                                </a>
                                                                <span ng-if="OptionAndFeeLineItem.PartId == null || OptionAndFeeLineItem.PartId == ''">{{OptionAndFeeLineItem.Item}}</span>
                                                            </td>
                                                            <td >
                                                                <span class="chk_tick" id="isInstall" ng-class="{'chked': OptionAndFeeLineItem.IsInstall, 'disabledChk' : ((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet') || !GroupOnlyPermissions['Deal']['create/modify'] ) }" 
                                                                   ng-click="CustomerOrderModel.isInstallOptionFees(OptionAndFeeLineItem.DealId, OptionAndFeeLineItem.DealItemId, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex)" 
                                                                   ng-if="((optionAndFeeKitItem.Id == null) && ((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '')  || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet')))">
                                                               <i class="fa fa-check-square chksqure"></i>
                                                               </span>
                                                            </td>
                                                             <td class="text-center" ng-class="{'Requiredtd' : OptionAndFeeLineItem.Status =='Required', 'Infonotification' : OptionAndFeeLineItem.Status =='In Stock'}">
                                                                {{OptionAndFeeLineItem.Status}}
                                                            </td>
                                                             <td class="text-center">
                                                                <span ng-if="((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') 
                                                                || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '')
                                                                )">


                                                                {{OptionAndFeeLineItem.Qty}}
                                                                </span> <!-- Ticket#1841: {{OptionAndFeeLineItem.Qty != 0 ? OptionAndFeeLineItem.Qty : 1}} ->  {{OptionAndFeeLineItem.Qty}}:
                                                                        Changed By Pooja 10 Apr. 2017-->
                                                            </td>
                                                           <td class="text-right">
                                                                <span ng-if="((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '')
                                                                )">
                                                                {{OptionAndFeeLineItem.Price | currency}}
                                                                </span>
                                                            </td>
                                                            <td class="text-right">
                                                                <span ng-if="((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '') || 
                                                                             (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet'))">
                                                                {{(OptionAndFeeLineItem.Qty != 0 ? OptionAndFeeLineItem.Qty * OptionAndFeeLineItem.Price : OptionAndFeeLineItem.Price) | currency}}
                                                                </span>
                                                                <span ng-if="((OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType != 'Sublet'))">
                                                                {{OptionAndFeeLineItem.Price | currency}}
                                                                </span>
                                                                <i class="fa fa-lock FC7" ng-show="OptionAndFeeLineItem.IsFixedPrice"></i>
                                                                <i class="fa fa-pencil FC7" ng-show="OptionAndFeeLineItem.IsFixedPriceForCO"></i>
                                                            </td>
                                                            <td></td>
                                            </tr>
                                                           <tr ng-show="CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].isEdit"
                                                        ng-click="CustomerOrderModel.editOptionFeesItem($event,DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex)"
                                                         ng-class="{'C2' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].rowNumber % 2 == 0,'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify'] }">
                                                        <td class="HG50" ng-class="{'BGFF': OptionAndFeeLineItem.hasChildren}" style="background:#fff"></td>
                                                            <td ng-class="{'BL BGFF': optionAndFeeKitItem.hasChildren}">
                                                                <i ng-class="{'fa fa-link FC7 servicesitem': OptionAndFeeLineItem.hasChildren}" >
                                                                </i>
                                                            </td>
                                                            <td>
                                                                <img src="{!Application_Images}/dollor.png" 
                                                                ng-if="OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != ''" 
                                                                    class="optionFeeImg"/>
                                                                <!-- <div class="sprite dollor"
                                                                    ng-if="((OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.Type != 'Warranty Plan'))"></div> -->
                                                                <img src="{!Application_Images}/hammer.png" ng-if="OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != ''" class="optionFeeImg"/>
                                                                <!-- <div class="sprite hammer" ng-if="OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != ''"></div> -->
                                                                <img src="{!Application_Images}/sparkplug.png" ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''" class="optionFeeImg"/>
                                                                <!-- <div class="sprite sparkplug" ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''"></div> -->
                                                                <!-- <i class="fa fa-wikipedia-w FC7 optionFeeImg" ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Warranty Plan'"></i> -->
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet'" ng-include="'{!Application_Images}/Icons/sublet.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Warranty Plan'" ng-include="'{!Application_Images}/Icons/Warranty-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
																<i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Deal Product'" ng-include="'{!Application_Images}/Icons/deal-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                                <i ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Financing Product'" ng-include="'{!Application_Images}/Icons/financing-product.svg'" 
																	class="BP_Home_storeLogo pull-left black_808080">
																</i>
                                                            </td>
                                                            <td ng-if="(OptionAndFeeLineItem.FeeId == null || OptionAndFeeLineItem.FeeId == '') && (OptionAndFeeLineItem.LabourId == null || OptionAndFeeLineItem.LabourId == '') && (OptionAndFeeLineItem.ProductId == null || OptionAndFeeLineItem.ProductId == '')">
                                                                 <a ng-mouseover="CustomerOrderModel.openpartpopup($event, OptionAndFeeLineItem.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();"
                                                                    ng-if="OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != ''">
                                                                {{OptionAndFeeLineItem.Item}}
                                                                </a>
                                                                <span ng-if="OptionAndFeeLineItem.PartId == null || OptionAndFeeLineItem.PartId == ''">{{OptionAndFeeLineItem.Item}}</span>
                                                            </td>
                                                            <td ng-if="OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType != 'Sublet'">
                                                            	<span>{{OptionAndFeeLineItem.Item}}</span>
                                                            </td>
                                                            <td ng-if="(OptionAndFeeLineItem.FeeId != null && OptionAndFeeLineItem.FeeId != '') || (OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet')">{{OptionAndFeeLineItem.ItemCode}} - 
                                                                <input type="text" ng-model="OptionAndFeeLineItem.ItemDescription" 
                                                                        class="form-control descEditInput" 
                                                                        ng-show="!OptionAndFeeLineItem.IsFixedPrice"/>
                                                                <input type="text" ng-model="OptionAndFeeLineItem.ItemDescription" 
                                                                        class="form-control descEditInput"
                                                                        ng-show="OptionAndFeeLineItem.IsFixedPrice"
                                                                        ng-keydown="CustomerOrderModel.editRowOptionFeeTabOut($event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex, null)"/> 
                                                            </td>
                                                             <td >
                                                                <span class="chk_tick" id="isInstall" ng-class="{'chked': OptionAndFeeLineItem.IsInstall, 'disabledChk' : ((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet') || !GroupOnlyPermissions['Deal']['create/modify'] ) }" 
                                                                   ng-click="CustomerOrderModel.isInstallOptionFees(OptionAndFeeLineItem.DealId, OptionAndFeeLineItem.DealItemId, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex)" 
                                                                   ng-if="((optionAndFeeKitItem.Id == null) && ((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '')  || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '') || (OptionAndFeeLineItem.ProductId != null && OptionAndFeeLineItem.ProductId != '' && OptionAndFeeLineItem.ProductType == 'Sublet')))">
                                                               <i class="fa fa-check-square chksqure"></i>
                                                               </span>
                                                            </td>
                                                             <td class="text-center" ng-class="{'Requiredtd' : OptionAndFeeLineItem.Status =='Required', 'Infonotification' : OptionAndFeeLineItem.Status =='In Stock'}">
                                                                {{OptionAndFeeLineItem.Status}}
                                                            </td>
                                                        
                                                        <td ng-if=" (!optionAndFeeKitItem.hasChildren) 
                                                        		&& CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem) 
                                                        		&& CustomerOrderModel.DealInfo.DealStatus =='Quotation'">
                                                            <number-only-input-blur input-value="OptionAndFeeLineItem.Qty" 
                                                                id-val="OptionFeeLineItem_Qty_Needed_Edit_{{DealHeaderIndex}}_{{optionAndFeeItemIndex}}_{{optionAndFeeLineItemIndex}}"  
                                                                include-negative="false"
                                                                include-zero="{{OptionAndFeeLineItem.LabourId != null ? true : 'false'}}"
                                                                kit-Index = "optionAndFeeItemIndex" coli-Index="optionAndFeeLineItemIndex" 
                                                                ng-keydown="CustomerOrderModel.editRowTabOutOptionFeesQtyLineItem($event, DealHeaderIndex, $index, optionAndFeeItemIndex, 'OptionFeeLineItem_Price_Edit_' + DealHeaderIndex + '_' + optionAndFeeItemIndex + '_' + optionAndFeeLineItemIndex)"
                                                                callback-Function="CustomerOrderModel.editRowTabOutOptionFeesQtyLineItem(event, DealHeaderIndex, $index, optionAndFeeItemIndex, 'OptionFeeLineItem_Price_Edit_' + DealHeaderIndex + '_' + optionAndFeeItemIndex + '_' + optionAndFeeLineItemIndex)"
																ng-if="GroupOnlyPermissions['Returns'].enabled"/> <!-- Ticket#1841: include-zero="{{OptionAndFeeLineItem.LabourId != null ? true : 'false'}}": 
                                                                    Added By Pooja 11 Apr. 2017 -->
                                                                    
                                                             <number-only-input-blur input-value="OptionAndFeeLineItem.Qty" 
                                                                id-val="OptionFeeLineItem_Qty_Needed_Edit_{{DealHeaderIndex}}_{{optionAndFeeItemIndex}}_{{optionAndFeeLineItemIndex}}"  
                                                                include-negative="false"
                                                                include-zero="{{OptionAndFeeLineItem.LabourId != null ? true : 'false'}}"
                                                                kit-Index = "optionAndFeeItemIndex" coli-Index="optionAndFeeLineItemIndex" 
                                                                ng-keydown="CustomerOrderModel.editRowTabOutOptionFeesQtyLineItem($event, DealHeaderIndex, $index, optionAndFeeItemIndex, 'OptionFeeLineItem_Price_Edit_' + DealHeaderIndex + '_' + optionAndFeeItemIndex + '_' + optionAndFeeLineItemIndex)"
                                                                callback-Function="CustomerOrderModel.editRowTabOutOptionFeesQtyLineItem(event, DealHeaderIndex, $index, optionAndFeeItemIndex, 'OptionFeeLineItem_Price_Edit_' + DealHeaderIndex + '_' + optionAndFeeItemIndex + '_' + optionAndFeeLineItemIndex)"
																ng-if="!GroupOnlyPermissions['Returns'].enabled"
																/> <!-- disable-attr="OptionAndFeeLineItem.Qty < 0" -->
                                                        </td>
                                                        
                                                        <td ng-if="(optionAndFeeKitItem.hasChildren) 
                                                        		&& CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem) " class="text-center">{{OptionAndFeeLineItem.Qty}}</td>
                                                        <td ng-if="(!optionAndFeeKitItem.hasChildren) 
                                                        			&& CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)  
                                                        			&& CustomerOrderModel.DealInfo.DealStatus !='Quotation'" class="text-center">{{OptionAndFeeLineItem.Qty}}</td>
                                                                        
                                                        <td ng-if="(optionAndFeeKitItem.hasChildren) 
                                                        			&& !CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)"></td>
                                                        <td ng-if="(!optionAndFeeKitItem.hasChildren)
																	&& !CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)"></td>
            
                                                        <td ng-if="(!OptionAndFeeLineItem.IsFixedPrice)  
                                                        			&& CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)
                                                        			&& GroupOnlyPermissions['Override price'].enabled">
                                                            <number-only-input-blur input-value="OptionAndFeeLineItem.Price" 
                                                            id-val="OptionFeeLineItem_Price_Edit_{{DealHeaderIndex}}_{{optionAndFeeItemIndex}}_{{optionAndFeeLineItemIndex}}" 
                                                            include-zero="true" include-negative="true"
                                                            kit-Index = "optionAndFeeItemIndex" coli-Index="optionAndFeeLineItemIndex"
                                                            ng-keydown="CustomerOrderModel.editRowOptionFeeTabOut($event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex, null)"
                                                            callback-Function="CustomerOrderModel.editRowOptionFeeTabOut(event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex, null)"/>
                                                        </td>
                                                        <td ng-if="((OptionAndFeeLineItem.IsFixedPrice) && CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem))
                                                        			|| ((!OptionAndFeeLineItem.IsFixedPrice) 
                                                        				&& CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)
                                                        				&& !GroupOnlyPermissions['Override price'].enabled)" class="text-right">{{OptionAndFeeLineItem.Price | currency}}</td>
                                                        <td ng-if="(!OptionAndFeeLineItem.IsFixedPrice) 
                                                        			&& !CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)">
                                                       	</td>
                                                        <td ng-if="(OptionAndFeeLineItem.IsFixedPrice) 
                                                        			&& !CustomerOrderModel.isPartOrLabour_Deal_OptionFeeLI(OptionAndFeeLineItem)"></td>
                                                       
                                                        <td class="text-right" ng-if="(OptionAndFeeLineItem.IsFixedPrice || ((OptionAndFeeLineItem.LabourId != null && OptionAndFeeLineItem.LabourId != '') 
                                                                || (OptionAndFeeLineItem.PartId != null && OptionAndFeeLineItem.PartId != '')))">
                                                            <span >{{(OptionAndFeeLineItem.Qty * OptionAndFeeLineItem.Price) | currency}}</span>
                                                             <i class="fa fa-lock FC7" ng-show="OptionAndFeeLineItem.IsFixedPrice"></i>
                                                            <i class="fa fa-pencil FC7" ng-show="OptionAndFeeLineItem.IsFixedPriceForCO"></i>
                                                            </td>
	                                                            <td  class="text-right" ng-if="(!OptionAndFeeLineItem.IsFixedPrice && ((OptionAndFeeLineItem.LabourId == null || OptionAndFeeLineItem.LabourId == '') 
                                                                && (OptionAndFeeLineItem.PartId == null || OptionAndFeeLineItem.PartId == ''))  )">
                                                                
                                                                <div ng-if="GroupOnlyPermissions['Override price'].enabled">
                                                              		<number-only-input-blur input-value="OptionAndFeeLineItem.Price" 
		                                                            id-val="OptionFeeLineItem_Price_Edit_{{DealHeaderIndex}}_{{optionAndFeeItemIndex}}_{{optionAndFeeLineItemIndex}}" 
		                                                            include-zero="true" include-negative="true"
		                                                            kit-Index = "optionAndFeeItemIndex" coli-Index="optionAndFeeLineItemIndex"
		                                                            ng-keydown="CustomerOrderModel.editRowOptionFeeTabOut($event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex, null)"
		                                                            callback-Function="CustomerOrderModel.editRowOptionFeeTabOut(event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex, null)"/>   
                                                                </div>
                                                                <span ng-if="!GroupOnlyPermissions['Override price'].enabled">  {{OptionAndFeeLineItem.Price | currency}}</span>
                                                             
                                                        </td>
                                                        <td style="background-color: #FFF;"></td>
                                                    </tr>
                                                      <tr ng-repeat-end="ng-repeat-end" class="edit_panel sample-show-hide T7" 
                                                      id="optionFee_item_row{{$index}}_edit"
                                                       ng-click="CustomerOrderModel.editOptionFeesItem($event, DealHeaderIndex, optionAndFeeItemIndex, optionAndFeeLineItemIndex)" 
                                                       ng-show="CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].isEdit" 
                                                        ng-class="{'C2' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].rowNumber % 2 == 0,'disabledEditableRow': !GroupOnlyPermissions['Deal']['create/modify'] }"  >
                                                            <td style="backgroung-color:#fff"></td>
                                                            <td ng-class="{'BL': optionAndFeeKitItem.hasChildren}" style="background:#fff"></td>
                                                            <td style="background:#fff"></td>
                                                        <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                            <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                                <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                    <i class="fa fa-angle-down"></i>

                                                                    <span>Action (1 Action Available)</span> 
                                                                </div>
                                                                <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                    <form>
                                                                        <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" ng-if="OptionAndFeeLineItem.Status !='Ordered'">
                                                                            <label ng-click="CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].radioValue = 0">
                                                                                <p class="chk_tick edit-service-chek"
                                                                                    ng-class="{'chked' : CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].radioValue == 0 }" >
                                                                                    <i class="fa fa-check-square chksqure"></i>
                                                                                </p>
                                                                                <span>Remove From Order </span>
                                                                            </label>
                                                                        </div>
            
                                                                        <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                            class="btn btn-default editform_btn" role="button"
                                                                            ng-click="CustomerOrderModel.dealItemGoAction(CustomerOrderModel.OptionFeesItems_editRow[DealHeaderIndex].KitHeaderItems[optionAndFeeItemIndex].OptionFees[optionAndFeeLineItemIndex].radioValue, optionAndFeeKitItem.Id, OptionAndFeeLineItem.Id, OptionAndFeeLineItem.DealItemId, DealHeaderIndex)"
                                                                            >Apply</a>                                              
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </td>
                                            </tr>  
                                        </tbody>
                                    </table>
                                </div>
                                        </div>
                                        <!-- end : Deal OptionAndFees Unit Section  -->
                                    </div>
                                    <div class="main_section_COU_Header row MB24" id = "DealTradeInSection{{$index}}" ng-init="DealHeaderTradeInIndex = $index" ng-repeat="dealTradeInItem in CustomerOrderModel.DealTradeInList">
                                        <div class="tradeInSection" ng-show = "CustomerOrderModel.DealTradeInList.length>0">
                                            <p class="actionRow T2">
                                                <span class="sectionText">Trade {{DealHeaderTradeInIndex + 1}}</span>
                                                <span class="ActionIcons">
                                                <i class="fa fa-question-circle" data-toggle="tooltip" title="" data-original-title="Deal Trade-In Section"></i>
                                                </span> 
                                            </p>
                                            <div class="col-md-12 InfoMT">
                                                <div class="col-md-9 col-md-offset-1">
                                                    <div>
                                                        <div class="lightbox minheight blackborder pull-left">
                                                            <div class="unitimagediv">
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/UnitImage.png" width="80px" height="100px" />
                                                                <div class="itemicon" style="display:none;">
                                                                    <i class="fa fa-motorcycle FC7" style="flot:left;"></i>
                                                                    <i class="fa fa-registered " style="margin-left:2px;float:left;"></i>
                                                                </div>
                                                            </div>
                                                            <div class="newunitcss">
                                                                <span class="T14_1 text-bold" ng-if="dealTradeInItem.UnitId!=null && dealTradeInItem.VIN !='' && dealTradeInItem.VIN != 'VIN Unknown'"> <!-- Edited by kv hw 11/15/2016 -->
                                                                {{dealTradeInItem.VIN}} 
                                                                </span>
                                                                <span class="vinUnknown text-bold" ng-if="dealTradeInItem.UnitId!=null && (dealTradeInItem.VIN == 'VIN Unknown' || dealTradeInItem.VIN == null)"> <!-- Added by kv hw 11/15/2016 -->
                                                                VIN Unknown
                                                                </span>    
                                                                <span class="T3"  ng-if="dealTradeInItem.Id == null && dealTradeInItem.UnitId==null"><!-- Edited by kajal hw 11/15 -->
                                                                    Please Select a COU
                                                                </span>                                                
                                                                <div ng-if="dealTradeInItem.UnitType=='COU'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">COU#</span>
                                                                    <span class="T2 PL10" ><a  ui-sref="ViewUnit({Id: dealTradeInItem.UnitId})">{{dealTradeInItem.UnitNumber}}</a></span>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <div class="col-md-6 padding0 handleoverflow" ng-if="dealTradeInItem.MakeName !=null || dealTradeInItem.MakeName!=''">
                                                                        {{dealTradeInItem.MakeName}}
                                                                    </div>
                                                                    <div class="PL10 col-md-6 handleoverflow" ng-if="dealTradeInItem.Year !='' || dealTradeInItem.Year !=null">
                                                                        {{dealTradeInItem.Year}}
                                                                    </div>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <span class="pull-left maxwidth col-md-6 padding0 handleoverflow">{{dealTradeInItem.ModelName}}</span>
                                                                    <span class="PL10 rightaligned col-md-6" ng-if="dealTradeInItem.Color !=null || dealTradeInItem.Color !=''">      {{dealTradeInItem.Color}}</span>
                                                                </div>
                                                                <div class="T3  pull-left text-bold fullwidth row">
                                                                    <span class="pull-left col-md-6 padding0 handleoverflow">{{dealTradeInItem.SubModelName}}</span>
                                                                    <span class="cou_status pull-left col-md-6" ng-class="{ redColorBg: dealTradeInItem.StatusColor=='Red' ,  greenColorBg: dealTradeInItem.StatusColor=='Green', blackColorBg: dealTradeInItem.StatusColor=='Black' }">
                                                                    {{dealTradeInItem.Status}}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="pull-left COUList">
                                                            <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
                                                                ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <span class="caret"></span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li ng-repeat="COU in CustomerOrderModel.COUList"
                                                                    ng-click="CustomerOrderModel.setTradeInCurrentCOU(COU.Id, $parent.$index)">
                                                                    <a ng-if="COU.Name !=''">
                                                                        <span ng-if="COU.Year !=null && COU.Year !=''">{{COU.Year}}</span>
                                                                        <span ng-if="COU.MakeName !=null && COU.MakeName !=''"> {{COU.MakeName}}</span>  
                                                                        <span ng-if="COU.ModelName !=null && COU.ModelName !=''"> {{COU.ModelName}}</span>
                                                                        <span ng-if="COU.SubModelName !=null && COU.SubModelName !=''"> {{COU.SubModelName}}</span>
                                                                        <span ng-if="(((COU.Year !=null && COU.Year !='') || 
                                                                         (COU.MakeName !=null && COU.MakeName !='') || (COU.ModelName !=null && COU.ModelName !='') && 
                                                                          (COU.SubModelName !=null && COU.SubModelName !='')) && (COU.VIN !=null && COU.VIN !=''))"> - </span>
                                                                        <span ng-if="COU.VIN !=null && COU.VIN !=''">{{COU.VIN}}</span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="CustomerOrderModel.COUList.length != 0" class="divider" role="separator"></li>
                                                                <li ng-click="CustomerOrderModel.openAddCustomerOwnedUnitPopup($event, DealHeaderTradeInIndex, 'TradeIn')" ><a>Add a Customer Unit</a></li>
                                                                <!-- START: added by kajal 1st may, 2017 #1967 -->
                                                                <li ng-click="CustomerOrderModel.openRemoveTradeInFromDealModal(true, DealHeaderTradeInIndex)"><a>Remove Trade-In from Deal</a></li>
                                                                <!-- END: added by kajal 1st may, 2017 #1967 -->
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <!-- end: cou 2 -->
                                                </div>
                                            </div>
                                            <div class="col-md-10 col-md-offset-1 baseUnitSection tradeInSubSection">
                                                <div class="col-md-2">
                                                    <p class="T3">Agreed Value</p>
                                                </div>
            
                                                <div class="col-md-2" ng-if = "CustomerOrderModel.DealInfo.DealStatus !='Invoiced'">
                                                    <div class="input-group">
                                                      <span class="input-group-addon" id="basic-addon1">$</span>
                                                      <number-Only-Input-Blur-Service input-value="dealTradeInItem.AgreedValue" id-val="AgreedValue" 
                                                            callback-Function="CustomerOrderModel.TradeInInfo(DealHeaderTradeInIndex)" 
                                                            class="pull-left" 
                                                            include-zero="true" /> 
                                                    </div>
                                                </div>
                                                 <div class="col-md-2" ng-if = "CustomerOrderModel.DealInfo.DealStatus =='Invoiced'">
                                                  <input type ="text" ng-model ="dealTradeInItem.AgreedValue" 
                                                         class="pull-left form-control" ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'"
                                                        /> 
                                                </div>
                                            </div>
                                            <div class="col-md-10 col-md-offset-1 tradeInSubSection">
                                                <div class="col-md-2">
                                                    <p class="T3">Appraisal Method</p>
                                                </div>
                                                <div class="col-md-3">
                                                    <select class="form-control pull-left width300" ng-change = "CustomerOrderModel.TradeInInfo(DealHeaderTradeInIndex)" ng-model="dealTradeInItem.AppraisalMethod" ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'"  >
            
                                                        <option>Visual</option>
                                                        <option>Service</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-10 col-md-offset-1 tradeInSubSection">
                                                <div class="col-md-2">
                                                    <p class="T3">Appraisal Status</p>
                                                </div>
                                                <div class="col-md-3">
                                                    <select  ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'" class="form-control pull-left width300" ng-change = "CustomerOrderModel.TradeInInfo(DealHeaderTradeInIndex)" ng-model="dealTradeInItem.AppraisalStatus" ng-class="{ Requiredtd: dealTradeInItem.AppraisalStatus=='Pending Appraisal' ,  greenColor: dealTradeInItem.AppraisalStatus=='Appraisal Complete'}">
                                                        <option style = "color:#000" value = "Pending Appraisal" selected = "selected">Pending Appraisal </option>
                                                            <option style = "color:#000" value = "Appraisal Complete" >Appraisal Complete</option>
                                                        </select> 
                                                </div>
                                            </div>
                                            <div class="col-md-10 col-md-offset-1 tradeInSubSection">
                                                <div class="col-md-2">
                                                    <p class="T3">Appraisal Notes</p>
                                                </div>
                                                <div class="col-md-7">
                                                    <textarea class="notesEdit ng-pristine ng-valid ng-touched" id="unitNotes" ng-blur="CustomerOrderModel.TradeInInfo(DealHeaderTradeInIndex)" 
                                                      ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'"  ng-model="dealTradeInItem.AppraisalNotes" placeholder="Notes about the unit" rows="4" type="text"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-md-10 col-md-offset-1 tradeInSubSection">
                                                <div class="col-md-2">
                                                    <p class="T3">Approved By</p>
                                                </div>
                                                <div class="col-md-3">
                                                    <select class="form-control pull-left width300" 
                                                        ng-disabled="CustomerOrderModel.DealInfo.DealStatus =='Invoiced'"
                                                            ng-model="CustomerOrderModel.UserSelected[$index]"
                                                            ng-change = "CustomerOrderModel.changeUsersSelectedForApproval(DealHeaderTradeInIndex, $index)"
                                                            ng-options="user as user.name for user in CustomerOrderModel.UserList track by user.id">
                                                        <option class="Requiredtd" selected="selected">Pending Approval</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--START: Deposits And Payments Section by kajal - 17th april, 2017 -->
                                    <div class="DepositsAndPaymentsSection depositSectionBody" id="DepositsAndPaymentsSection" ng-if="CustomerOrderModel.DealInfo.DealStatus != 'Quotation' && GroupOnlyPermissions['Deal']['create/modify']">
                                        <div class="main_section_COU_Header row ML0 MR0" >

                                            <p class="actionRow T2 depositSubSection" ng-class="{'depositSubSectionMB0' : CustomerOrderModel.DealInfo.DealStatus == 'Invoiced'}">
                                                <span class="sectionText ng-binding">
                                                    Deposits &amp; Payments
                                                </span>

                                                <span class="ActionIcons">
                                                    <i class="fa fa-question-circle" data-original-title="Deposits And Payments Section" data-toggle="tooltip"></i>
                                                </span> 
                                            </p>

                                            <div class="row" ng-if="CustomerOrderModel.DealInfo.DealStatus !='Invoiced'" style="padding-left: 14px;">

                                                <div class="col-md-10 col-lg-10 Pl0">
                                                    <div class="col-lg-3 col-md-3 Plr0" ng-show="CustomerOrderModel.DealDepositList.length > 0 
                                                    && CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == false && CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == false">
                                                        <div class="addADepositBtnInGrid addADepositBtn">
                                                            <div>
                                                                <button class="btn btn-default editDepositBtn text-uppercase addDepositipaymentBut" 
                                                                    ng-click="CustomerOrderModel.expandDepositSectionForDealDeposit($event)" 
                                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Add A Deposit
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-lg-3 PR0" ng-show="CustomerOrderModel.DealDepositList.length == 0 
                                                    || CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == true 
                                                    || CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == true">
                                                        <div class="checkoutPaymentDropdown input-group">
                                                            <div class="input-group-btn" id="dealDepositDropDownDiv" ng-class="{'open': CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == true}">
                                                                <button type="button" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle depositSelectDropdownBtn T7" 
                                                                    id="depositSelectDropdownBtn" data-toggle="dropdown"
                                                                    ng-class="{'selectedOptionTextColor': CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select'}"
                                                                    ng-click="CustomerOrderModel.isDealDepositAmountError = false;">
                                                                    <span class="fa fa-angle-down"></span>{{ CustomerOrderModel.selectedOptionForDealDeposit }}
                                                                </button><!-- Edited 15th march 2017 -->
                                                                <ul class="checkoutPaymentUL dropdown-menu" role="menu" id="checkoutPaymentUL_Id"> 
                                                                    <li data-value="Cash" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Cash', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Cash', $event);"> 
                                                                            <span class="T7">Cash</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Debit" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Debit', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Debit', $event);"> 
                                                                            <span class="T7">Debit</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Cheque" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Cheque', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Cheque', $event);"> 
                                                                            <span class="T7">Cheque</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Visa" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Visa', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Visa', $event);">
                                                                            <span class="T7">Visa</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Mastercard" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Mastercard', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Mastercard', $event);">
                                                                            <span class="T7">Mastercard</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Amex" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Amex', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Amex', $event);">
                                                                            <span class="T7">Amex</span>
                                                                        </a>
                                                                    </li>
                                                                    <li data-value="Gift Card" class="paymentOptions">
                                                                        <a  ng-click="CustomerOrderModel.optionSelectedForDealDeposit('Gift Card', $event);" ng-enter="CustomerOrderModel.optionSelectedForDealDeposit('Gift Card', $event);">
                                                                            <span class="T7">Gift Card</span>
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 Plr0 showPaymentSelector" id="CO_Deposits_block_deposit_header_amount_block"
                                                        ng-show="(CustomerOrderModel.DealDepositList.length == 0 || CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == true 
                                                        || CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == true) && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select' &&
                                                        CustomerOrderModel.DealInfo.DealStatus !='Invoiced'"
                                                        ng-class="{'showAddBtn' : (CustomerOrderModel.showHideAddDepositBtnForDealDeposit($event) == true) || 
                                                            (CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == false && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select' && CustomerOrderModel.deal_deposit_Amount > 0), 
                                                        'showRefundBtn' : CustomerOrderModel.DealDepositList.length > 0 && (CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == true 
                                                        && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select' && CustomerOrderModel.deal_deposit_Amount > 0)}">
                                                        <div id="CO_Deposits_block_deposit_header_amount_block_pricebox" class="pricebox pull-left">
                                                            <div class="input-group">
                                                                <span class="input-group-addon">$</span>
                                                                <price-only-input id-value="CO_Deposits_block_deposit_header_amount_block_pricebox_For_DealDeposit" 
                                                                    class="form-control dealDepositBox dealDepositeTextBox"  
                                                                    ng-class="{'text_box_error' : CustomerOrderModel.isDealDepositAmountError}"
                                                                    ng-disabled="CustomerOrderModel.isReverseDealDeposit || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" 
                                                                    packaged = "!(CustomerOrderModel.isReverseDealDeposit || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed')"
                                                                    input-value="CustomerOrderModel.deal_deposit_Amount"  
                                                                    validation-modal = "CustomerOrderModel.DealFormValidationModal"
                                                                    validation-modal-key = "DownPayment"
                                                                    max-length = "15"
                                                                    place-holder-value = "0.00"
                                                                    precision-length = "2"
                                                                    input-model = "CustomerOrderModel"
                                                                    ng-keydown="CustomerOrderModel.showHideAddDepositBtnForDealDeposit($event)"
                                                                    ng-enter-in-pricebox="CustomerOrderModel.addOrRefundDealDepositOnEnter();"
                                                                    focus-value="CustomerOrderModel.setPaymentDealTotalAmount" 
                                                                    blur-value = "CustomerOrderModel.resetPaymentDealTotalAmount"/>
                                                                <div id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg1" class="error_msg" ng-if="CustomerOrderModel.isDealDepositAmountError">
                                                                    <span id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg_span1" ng-bind="CustomerOrderModel.isDealDepositAmountErrorMsg">Please Enter Amount</span>
                                                                </div>
                                                                <button ng-if="(CustomerOrderModel.showHideAddDepositBtnForDealDeposit($event) == true) || 
                                                                    (CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == false 
                                                                    && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select' 
                                                                    && CustomerOrderModel.deal_deposit_Amount > 0)"
                                                                    class="btn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_addbtn"
                                                                    ng-click="CustomerOrderModel.addDealDeposit();"  
                                                                    ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"
                                                                    style="margin-left:34px;background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                                    font-size: 12px;padding: 7px 20px;font-weight: 600;">Add</button>
                                                                <button class="btn" 
                                                                    ng-click="CustomerOrderModel.refundDepositBtnClickForDealDeposit($event)" 
                                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}"
                                                                    ng-if="CustomerOrderModel.DealDepositList.length > 0 
                                                                    && (CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == true 
                                                                    && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select' && CustomerOrderModel.deal_deposit_Amount > 0) 
                                                                    && CustomerOrderModel.calculateDealDepositTotal() > 0"
                                                                    style="margin-left:34px;background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                                    font-size: 12px;padding: 7px 20px;font-weight: 600;">
                                                                    Refund Deposit
                                                                </button> 
                                                            </div>
                                                        </div>
                                                        <div class ="pull-left payment_TotalAmount" ng-show="CustomerOrderModel.payment_Deal_TotalAmount == true" ><!-- 12/01/2016 -->
                                                            <p class ="Requiredtd">{{CustomerOrderModel.calculateDealBalanceDue() >= 0 ? '$' :'-$'}}
                                                                {{CustomerOrderModel.calculateDealBalanceDue() >= 0 ? CustomerOrderModel.calculateDealBalanceDue() : -1 * CustomerOrderModel.calculateDealBalanceDue()}} <span>Owing</span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 Plr0" ng-show="CustomerOrderModel.DealDepositList.length > 0 
                                                        && (CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == false && CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == false) 
                                                        && CustomerOrderModel.calculateDealDepositTotal() > 0">
                                                        <div class="addADepositBtnInGrid addADepositBtn ML0 PL0">
                                                            <button class="btn btn-default refundDepositBtn text-uppercase" 
                                                                ng-click="CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit = true;CustomerOrderModel.refundDepositBtnClickForDealDeposit($event)" 
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">
                                                                Refund Deposit
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 Plr0" 
                                                    ng-if="(CustomerOrderModel.DealDepositList.length == 0 && CustomerOrderModel.selectedOptionForDealDeposit != 'Please Select')
                                                    || CustomerOrderModel.isRefundDepositBtnClickedForDealDeposit == true 
                                                    || CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == true">
                                                    <!-- ng-if="CustomerOrderModel.DealDepositList.length > 0 
                                                    && CustomerOrderModel.isPaymentDropdownOpenForDealDeposit == true" edited by kajal 21st APRIL, 2017 -->
                                                        <button class="btn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_cancelbtn"
                                                            ng-click="CustomerOrderModel.cancelDealDeposit()"
                                                            ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"
                                                            style="background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                            font-size: 12px;padding: 7px 20px;font-weight: 600;">Cancel</button><!-- ng-click edited by kajal 21st APRIL, 2017 -->
                                                    </div>
                                                </div>
                                            </div>
                                            

                                            <div class="DepositsAndPaymentsSectionGrid">    
                                                <div class="gid_container_Customer row dealDepositSectionTable" id="CO_deposit_block_gid_container"><!-- class edited by kajal 17th april, 2017 -->
                                                    <table class="table" id="CO_deposit_block_gid_container_table">
                                                        <col width="1%"  />
                                                        <col width="3%"  />
                                                        <col width="15%"  />
                                                        <col width="31%" />
                                                        <col width="20%" />
                                                        <col width="16%"  />
                                                        <col width="5%" />
                                                        <col width="3%" />
                                                        <tr class="tableHeader T3 C2" id="CO_final_invlice_block_gid_container_table_tableHeader" >
                                                            <th></th>
                                                            <th></th>
                                                            <th>DATE</th>
                                                            <th>REC'D FROM</th>
                                                            <th>PAYMENT METHOD</th>
                                                            <th class="text-right">AMOUNT</th>
                                                            <th></th>
                                                            <th></th>
                                                        </tr>
                                                        <tbody ng-repeat="deposit in CustomerOrderModel.DealDepositList">
                                                            <tr class="T7" ng-class-even="'C2'" ng-click="CustomerOrderModel.editDealDepositItem($index)"
                                                            ng-class="{'shrinkTd':(deposit.PaymentMethod == 'Invoice' || deposit.PaymentMethod == '' || deposit.PaymentMethod == null 
                                                            || deposit.PaymentMethod == undefined) 
                                                            && (deposit.COInvoiceNumber == '' || deposit.COInvoiceNumber == null || deposit.COInvoiceNumber == undefined)}">
                                                                <td style="background-color:#fff"></td>
                                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_1_{{$index}}"></td>





                                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_2_{{$index}}">{{deposit.CreatedDate}}</td>
                                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_2_{{$index}}">{{deposit.RecordedFrom}}</td>

                                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_3_{{$index}}">
                                                                    {{deposit.PaymentMethod == 'Invoice' ? deposit.COInvoiceNumber : deposit.PaymentMethod}}
                                                                    <div>
                                                                        <span class="referenceNoInDeposit">Reference Number {{deposit.DepositName}}</span>
                                                                    </div>
                                                                </td>
                                                                <td class="text-right" id="CO_Deposits_block_gid_container_table_tbody_tr_td_4_{{$index}}" ng-class="{'Requiredtd' : deposit.Amount < 0}">
                                                                    {{deposit.Amount | currency}}
                                                                </td>
                                                                <td></td>
                                                                <td style="background-color:#fff"></td>
                                                            </tr>
                                                            <tr class="edit_panel sample-show-hide T7" ng-show="CustomerOrderModel.DealDeposits_editRow[$index].isEdit
                                                            && (deposit.ReverseLink == '' || deposit.ReverseLink == null)
                                                            && deposit.PaymentMethod != 'Invoice'
                                                            && deposit.Amount <= CustomerOrderModel.calculateDealDepositTotal()">
                                                            <!-- ng-show="CustomerOrderModel.DealDeposits_editRow[$index].isEdit
                                                            && (deposit.ReverseLink == '' || deposit.ReverseLink == null || !(deposit.Deal == undefined 
                                                            || deposit.Deal == null || deposit.Deal == '' || deposit.Amount < 0))
                                                            && deposit.PaymentMethod != 'Invoice'
                                                            && deposit.Amount <= CustomerOrderModel.calculateDealDepositTotal()" -->
                                                                <td style="background:#fff"></td>
                                                                <td style="background:#fff"></td>
                                                                <td colspan="9" class="edit-service-item" id="CO_Deposits_block_gid_container_table_tbody_expandtr_td_1_{{$index}}" 













                                                                    style="padding-left:0px; padding-right:0px;">
                                                                    <div class="edit_box serviceitemedit col-md-11" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                            <form>
                                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                                    <label>
                                                                                        <p class="chk_tick edit-service-chek"
                                                                                            ng-class="{'chked' : CustomerOrderModel.DealDeposits_editRow[$index].radioValue == 0 }" 
                                                                                            ng-click="CustomerOrderModel.Deposits_editRow[$index].radioValue = 0">
                                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                                        </p>
                                                                                        <span>Reverse Deposit</span>
                                                                                    </label>
                                                                                </div>
                                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                                    class="btn btn-default editFormBtn" role="button"
                                                                                    ng-click="CustomerOrderModel.ReverseDealDeposit(deposit);CustomerOrderModel.addDealDeposit();">Apply</a>                                




                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>




                                                </div>
                                                <!-- START: Added by kajal 17th april, 2017 -->
                                                <div ng-show="CustomerOrderModel.DealDepositList.length > 0" class="col-md-12">
                                                    <div class="col-md-offset-8 col-md-3 depositTotalSpan">
                                                        <span class="T3">Total Deposits</span>
                                                    </div>
                                                    <div class="col-md-1 text-right">
                                                        <span class="T3">{{(CustomerOrderModel.calculateDealDepositTotal()) | currency}}</span>
                                                    </div>
                                                </div>
                                                <!-- END: Added by kajal 17th april, 2017 -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- END: Deposits And Payments Section by kajal - 17th april, 2017 -->
                                    <!-- start : kv popup for deleting unit 1 -->
                                    <div class="modal fade removeUnitFromDealConfirm" id="removeUnitFromDealConfirm" >
                                        <div class="modal-dialog RemoveUnitOverlay">
                                            <div class="modal-content" >
                                                <div class="modal-header">
                                                    <button type="button" class="close" aria-label="Close"
                                                        data-dismiss="modal"> 
                                                    <span aria-hidden="true">&times;</span>
                                                    </button>
            
                                                    <h4 class="modal-title">Remove Deal Unit</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <p ng-show="CustomerOrderModel.DealItemList.length==1 && CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber == null">{!$Label.Text_Remove_Only_Temporary_Unit_From_Deal}</p>
                                                    <p>
                                                        <span ng-if="CustomerOrderModel.DealItemList.length >= 1 && CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber != null" >{!$Label.Text_Remove_Unit_From_More_Than_One_Unit_Subsection}</span>
                                                        <span ng-if="CustomerOrderModel.DealItemList.length>1 && CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber == null">{!$Label.Text_Remove_Unit_From_More_Than_One_Unit_Subsection}</span>
                                                        <span ng-show="CustomerOrderModel.DealItemList.length==1 && CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber!=null">{!$Label.Text_Remove_Unit_From_Single_Unit_Subsection}</span>
                                                    </p>
                                                    <p ng-hide="CustomerOrderModel.DealItemList.length==1 && CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber == null">{!$Label.Text_Confirm_Decision}</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default greenBtn" ng-show="CustomerOrderModel.DealItemList.length>1 || CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber != null "
                                                        ng-click="CustomerOrderModel.removeUnitFromDeal(CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.Deal, CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.Id, CustomerOrderModel.DealItemList[CustomerOrderModel.currentRemoveIndex].DealItemObj.UnitNumber)">{!$Label.Label_Remove}</button>
                                                    <button type="button" class="btn btn-default grayBtn"
                                                        data-dismiss="modal">{!$Label.Cancel_Label} </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end : kv popup for deleting unit 1 -->
                                    <!-- start : popup for deleting trade-in added by kajal 1st april, 2017 #1967 -->
                                    <div class="modal fade removeTradeInFromDealConfirm" id="removeTradeInFromDealConfirm" >
                                        <div class="modal-dialog RemoveUnitOverlay">
                                            <div class="modal-content" >
                                                <div class="modal-header">
                                                    <button type="button" class="close" aria-label="Close"
                                                        data-dismiss="modal"> 
                                                    <span aria-hidden="true">&times;</span>
                                                    </button>
                                                    <h4 class="modal-title">{!$Label.Text_Remove_TradeIn_From_Deal}</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <p>{!$Label.Text_Remove_TradeIn_From_Deal_Popup_Confirm}</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default greenBtn"
                                                        ng-click="CustomerOrderModel.removeTradeInFromDeal(CustomerOrderModel.DealTradeInList[CustomerOrderModel.currentRemoveIndexForTradeIn].Deal, 
                                                        CustomerOrderModel.DealTradeInList[CustomerOrderModel.currentRemoveIndexForTradeIn].Id, 
                                                        CustomerOrderModel.DealTradeInList[CustomerOrderModel.currentRemoveIndexForTradeIn].UnitNumber)">{!$Label.Label_Remove}</button>
                                                    <button type="button" class="btn btn-default grayBtn"
                                                        data-dismiss="modal">{!$Label.Cancel_Label} </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end : popup for deleting trade-in added by kajal 1st april, 2017 #1967 -->
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <c:DealFinancing /> 
                       
                         <div id="DealMerchandiseSection">
                        <div class="sectionHeader row"  ng-show="(CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection' || CustomerOrderModel.DealMerchandiseList.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1">
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                        <i class="fa fa-angle-right iconadjust" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                            ng-show="!CustomerOrderModel.displaySections.DealMerchandise"
                                            ng-Click="CustomerOrderModel.showPermissionSection('DealMerchandise')">
                                        </i> 
                                        <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                            ng-show="CustomerOrderModel.displaySections.DealMerchandise"
                                            ng-Click="CustomerOrderModel.showPermissionSection('DealMerchandise')">
                                        </i> 
                                        <span class="divider">|</span>
                                        <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.DealMerchandise}}</span><!-- Edited by kajal 11/05/2016 -->
                                        <span class="T2"> Deal Merchandise</span>
                                    </span>
                                    <span class="ActionIcons pull-left">
                                    </span> 
                                    <span class="T3  pull-right total">
                                    <!-- Edited by kajal 11/09/2016 -->
                                    <a id="CO_Merchandise_total_price_row_h3_a" 
                                        ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, CustomerOrderModel.DealInfo.Id, 'dealMerchandise')" 
                                        ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()">${{CustomerOrderModel.DealMerchandiseTotal | number:2}} </a><!-- Edited by kajal 11/09/2016 -->
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div >
                            <div class="main_section_COU row" ng-show="(CustomerOrderModel.displaySections.DealMerchandise==true) && (CustomerOrderModel.activeSidepanelink =='#DealMerchandiseSection' || CustomerOrderModel.DealMerchandiseList.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deal')>-1">
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">Items <i class="fa fa-plus cou_plus_icon " ng-click="setFocus(); setFocus1();"></i></span>
            
                                        <span class="ActionIcons">
            
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Deal Merchandise Items Section"></i>
                                        </span>
                                    </p>
                                </div>
                                <div class="gid_container_Customer grid_deal_merchandise" id="CO_Merchandise_block_grid_container">
                                    <table class="table" id="CustomerOrder_MerchandiseItemGrid">
                                        <col width="2%"  />
                                        <col width="2%"  />
                                        <col width="3%"  />
                                        <col width="38%"  />
                                        <col width="7%"  />
                                        <col width="1%"  />
                                        <col width="7%"  />
                                        <col width="1%"  />
                                        <col width="7%" />
                                        <col width="10%"  />
                                        <col width="10%"  />
                                        <col width="10%"  />
                                        <col width="2%"  />
                                        <thead>
                                            <tr class="tableHeader T3 C2">
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th>Item/Description</th>
                                                <th class="text-center">Need</th>
                                                <th></th>
                                                <th class="text-center">Commited</th>
                                                <th></th>
                                                <th class="text-center">Order</th>
                                                <th class="text-center">Status</th>
                                                <th class="text-center">Price</th>
                                                <th class="text-center">Subtotal</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <!-- START: added by kv 10/01/2017 -->
                                        <tbody ng-repeat="DealCOKHitem in CustomerOrderModel.DealMerchandiseList" class="parentBody" ng-init="DealCOKitHeaderIndex = $index">
                                            <tr ng-show="DealCOKHitem.Id != null && !CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].isEdit"
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)"
                                                ng-class="{'C2' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].rowNumber % 2 == 0, 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify'] }" 
                                                id="editDealMerchandiseItem"><!--  -->
                                                <td class="HG50"></td>
                                                <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                </td>
                                                <td>{{DealCOKHitem.ItemDescription}}</td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td class="text-center">{{DealCOKHitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span>{{DealCOKHitem.Price | currency}}</span>
                                                    <i class="fa fa-lock FC7" ng-show="DealCOKHitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="DealCOKHitem.IsFixedKitHeaderCO"></i>
                                                </td>
                                                <td></td>
                                            </tr>
                                            <tr ng-show="DealCOKHitem.Id != null && CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].isEdit" class="Editable_row"
                                                ng-class="{'C2' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify']}" 
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)" id="editMerchItem">
                                                <td class="HG50"></td>
                                                <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                </td>
                                                <td>{{DealCOKHitem.ItemDescription}}</td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td ng-if="DealCOKHitem.IsFixedPrice && !(GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{DealCOKHitem.Price | currency}}</td>
                                                <td ng-if="!DealCOKHitem.IsFixedPrice && GroupOnlyPermissions['Override price'].enabled">
                                                    <number-only-input-co input-value="DealCOKHitem.Price" id-val="dealCoLI_Header_Price_Edit_{{$index}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOutForDealMerch($event, DealCOKitHeaderIndex, null, null)" 
                                                        ng-blur="CustomerOrderModel.editRowTabOutForDealMerch($event, DealCOKitHeaderIndex, null, null)"/>
                                                </td>
                                                <td class="text-center">
                                                    <span>{{DealCOKHitem.Price | currency}}</span>
                                                    <i class="fa fa-lock FC7" ng-show="DealCOKHitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="DealCOKHitem.IsFixedKitHeaderCO"></i>
                                                </td>
                                                <td></td>
                                            </tr>
                                            <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"  
                                                ng-show="DealCOKHitem.Id !=null && CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].isEdit" 
                                                ng-class="{'C2' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify']}" 
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)">
                                                <!-- CustomerOrderModel.editMerchItem($event, DealCOKitHeaderIndex, null, true) -->
                                                <td style="backgroung-color:#fff"></td>
                                                <td ng-class="{'BL': DealCOKHitem.hasChildren}" style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                        <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down"></i>
                                                            <span>Action (1 Action Available)</span>  
                                                        </div>
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                    <label ng-click="CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].radioValue = 0">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].radioValue == 0 }" >
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Remove From Order</span>
                                                                    </label>
                                                                </div>
                                                               <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editform_btn" role="button"
                                                                    ng-click="CustomerOrderModel.DealMerchandiseGoAction(CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].radioValue,
                                                                    DealCOKHitem.Id, null, DealCOKitHeaderIndex, null)">Apply</a>                                  
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr ng-repeat-start="DealCOlitem in DealCOKHitem.COLIList" ng-init="DealCOLineItemIndex = $index"
                                                ng-show="!CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].isEdit"
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, DealCOLineItemIndex, true)"
                                                ng-class="{'C2' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify'] }" 
                                                id="editRowDealCoKit">
                                                <td class="HG50" ng-class="{'BGFF': DealCOKHitem.hasChildren}"></td>
                                                <td ng-class="{'BL BGFF': DealCOKHitem.hasChildren}">
                                                    <i ng-class="{'fa fa-link FC7 servicesitem': DealCOKHitem.hasChildren}" >
                                                    </i>
                                                </td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" ng-if="DealCOlitem.IsPart" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug" ng-if="DealCOlitem.IsPart"></div> -->
                                                    <img src="{!Application_Images}/dollor.png" ng-if="DealCOlitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                    <!-- <div class="sprite dollor" ng-if="DealCOlitem.IsFee"></div> -->
                                                </td>
                                                <td ng-if="!DealCOlitem.IsPart">
                                                    {{DealCOlitem.Item}}
                                                </td> 
                                                <td ng-if="DealCOlitem.IsPart">
                                                    <a ng-mouseover="CustomerOrderModel.openpartpopup($event, DealCOlitem.partId);" 
                                                    ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{DealCOlitem.Item}}</a>
                                                    <span class="Infonotification" ng-if="DealCOlitem.Status=='Ordered' && !DealCOlitem.IsNonInventoryPart"> 
                                                    	Special Order generated
                                                    </span>
                                                    <span class="notification" ng-if="DealCOlitem.AvaliablePartsQty < 0 && DealCOlitem.Status !='Ordered' && !DealCOlitem.IsNonInventoryPart" > 
                                                    	{{DealCOlitem.Qty > DealCOlitem.QtyCommitted ? 'Action Required (not enough stock)' : ''}}
                                                    </span>
                                                    <span class="AvalaibleQtyNotification"  ng-if="DealCOlitem.AvaliablePartsQty > 0 && 
                                                    	DealCOlitem.Status=='Required' && !DealCOlitem.IsNonInventoryPart">
                                                    	{{DealCOlitem.AvaliablePartsQty}} More Available Click To Add Save
                                                    </span>
                                                    <span class="Infonotification" ng-if="DealCOlitem.Status=='In Stock' && !DealCOlitem.IsNonInventoryPart" > 
                                                    	&nbsp;
                                                    </span>
                                                    <span ng-if = "DealCOlitem.IsNonInventoryPart"></span>
                                                </td>
                                                <td class="text-center">{{DealCOlitem.Qty}}</td>
                                                <td></td>
                                                <td class="text-center" ng-if ="DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">{{DealCOlitem.QtyCommitted}}</td>
                                                <td class="text-center" ng-if ="(DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart) || DealCOlitem.IsFee || DealCOlitem.IsLabour "></td>
                                                <td></td>
                                                <td class="text-center"  ng-if ="DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart" > {{DealCOlitem.QtyOrder }} </td>
                                                <td class="text-center" ng-if ="(DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart) || DealCOlitem.IsFee || DealCOlitem.IsLabour "></td>
                                                <td class="text-center" ng-class="{'Requiredtd' : DealCOlitem.Status =='Required' || DealCOlitem.Status =='RETURN' || DealCOlitem.Status =='Oversold', 'blueColor' : DealCOlitem.Status =='Invoiced', 'greenColor' : DealCOlitem.Status =='Ordered'}" ng-if="DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">{{DealCOlitem.Status}} </td>
                                                <td class="text-center" ng-class="{'blueColor' : DealCOlitem.Status == 'Invoiced'}" ng-if="DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart">
                                                {{DealCOlitem.Status == "Invoiced"  ? "Invoiced" : "In Stock" }}</td>
                                                <td class="text-center" ng-class="{'blueColor' : DealCOlitem.Status == 'Invoiced'}" ng-if="DealCOlitem.IsFee">
                                                {{DealCOlitem.Status == "Invoiced"  ? "Invoiced" : "Ready" }}</td>
                                                <td class="text-center">{{DealCOlitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span ng-if="DealCOlitem.SubTotal == null">{{(DealCOlitem.Qty * DealCOlitem.Price) | currency}}</span>
                                                    <span ng-if="DealCOlitem.SubTotal != null">{{DealCOlitem.SubTotal | currency }}</span>
                                                    <i class="fa fa-lock FC7" ng-show="DealCOlitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="DealCOlitem.IsFixedPriceForCO"></i>
                                                </td>
                                                <td style="background-color: #FFF;"></td>
                                            </tr>
                                            <tr ng-show="CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].isEdit"
                                                ng-class="{'C2' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].rowNumber % 2 == 0, 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify'] }" 
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)">
                                                <!-- CustomerOrderModel.editMerchItem($event, DealCOKitHeaderIndex, null, true) -->
                                                <td class="HG50" ng-class="{'BGFF': DealCOKHitem.hasChildren}"></td>
                                                <td ng-class="{'BL BGFF': DealCOKHitem.hasChildren}">   
                                                    <i ng-class="{'fa fa-link FC7 servicesitem': DealCOKHitem.hasChildren}" >
                                                    </i>
                                                </td>
                                                <td ng-class="{'BGFF': DealCOKHitem.hasChildren}">
                                                    <img src="{!Application_Images}/sparkplug.png" ng-if="DealCOlitem.IsPart" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug" ng-if="DealCOlitem.IsPart"></div> -->  
                                                    <img src="{!Application_Images}/dollor.png" ng-if="DealCOlitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                    <!-- <div class="sprite dollor" ng-if="DealCOlitem.IsFee"></div> -->    
                                                </td>
                                                <td ng-if="!DealCOlitem.IsPart && !DealCOlitem.IsFee">
                                                    {{DealCOlitem.Item}}
                                                </td>
                                                <td ng-if="!DealCOlitem.IsPart && DealCOlitem.IsFee">
                                                    {{DealCOlitem.ItemCode}} - 
                                                    <input type="text" ng-model="DealCOlitem.ItemDescription"
                                                        class="form-control descEditInput"/>
                                                </td>
                                                <td ng-if="DealCOlitem.IsPart"><a ng-mouseover="CustomerOrderModel.openpartpopup($event, DealCOlitem.partId);" 
                                                ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{DealCOlitem.Item}}</a></td>
                                                <td ng-if="!(DealCOlitem.IsFixedPrice || DealCOKHitem.hasChildren)">
                                                    <number-only-input-blur input-value="DealCOlitem.Qty" id-val="DealCOLI_Qty_Needed_Edit_{{DealCOKitHeaderIndex}}_{{DealCOLineItemIndex}}"  include-negative="true"
                                                        ng-keydown="CustomerOrderModel.editDealRowBlur($event, DealCOKitHeaderIndex, DealCOLineItemIndex, 'DealCOLI_Price_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editDealRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "DealCOKitHeaderIndex" coli-Index="DealCOLineItemIndex" 
                                                        ng-if="GroupOnlyPermissions['Returns'].enabled"/>
                                                        
                                                    <number-only-input-blur input-value="DealCOlitem.Qty" id-val="DealCOLI_Qty_Needed_Edit_{{DealCOKitHeaderIndex}}_{{DealCOLineItemIndex}}" include-negative="false"
                                                        ng-keydown="CustomerOrderModel.editDealRowBlur($event, DealCOKitHeaderIndex, DealCOLineItemIndex, 'DealCOLI_Price_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editDealRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "DealCOKitHeaderIndex" coli-Index="DealCOLineItemIndex" 
                                                        ng-if="!(GroupOnlyPermissions['Returns'].enabled)"/> <!--  disable-attr="DealCOlitem.Qty < 0" -->
                                                        <!-- ?? -->
                                                </td>
                                                <td ng-if="(DealCOlitem.IsFixedPrice || DealCOKHitem.hasChildren)" class="text-center">{{DealCOlitem.Qty}}</td>
                                                <td><span ng-if="!DealCOlitem.IsFixedPrice && DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">=</span></td>
                                                <td class="text-center">
                                                    <div ng-if="DealCOKHitem.hasChildren">

                                                        <span ng-if="DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">
                                                        {{DealCOlitem.QtyCommitted}}
                                                        </span>

                                                        <span ng-if="DealCOlitem.IsFee || (DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart)"></span> 
                                                      </div>
                                                    <div ng-if="!DealCOKHitem.hasChildren">
                                                        <div ng-if="DealCOlitem.IsPart && !DealCOlitem.IsFixedPrice && DealCOlitem.Qty > 0 && !DealCOlitem.IsNonInventoryPart">
                                                            <number-only-input-blur input-value="DealCOlitem.QtyCommitted" include-zero="true"
                                                                id-val="DealCOLI_Qty_Needed_Edit_{{DealCOKitHeaderIndex}}_{{DealCOLineItemIndex}}"   
                                                                ng-keydown="CustomerOrderModel.editDealRowBlurCommited($event, DealCOKitHeaderIndex, DealCOLineItemIndex, 'DealCOLI_Qty_Needed_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex)"
                                                                callback-Function="CustomerOrderModel.editDealRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "DealCOKitHeaderIndex" coli-Index="DealCOLineItemIndex" />
                                                                <!-- ?? -->
                                                        </div>
                                                        <div ng-if="!(DealCOlitem.IsPart && !DealCOlitem.IsFixedPrice) && !DealCOlitem.IsNonInventoryPart">
                                                            {{DealCOlitem.QtyCommitted}}
                                                        </div>
                                                    <div ng-if = "DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart"></div>
                                                    </div>
                                                </td>
                                                <td><span ng-if="!DealCOlitem.IsFixedPrice && DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">+</span></td>


                                                <td class="text-center" ng-if = "DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">{{DealCOlitem.QtyOrder}}</td>
                                                <td ng-if = "(DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart) || DealCOlitem.IsFee || DealCOlitem.IsLabour"></td>
												
                                                <td class="text-center" ng-class="{'Requiredtd' : DealCOlitem.Status =='Required' || DealCOlitem.Status =='RETURN' || DealCOlitem.Status =='Oversold',
                                                     'blueColor' : DealCOlitem.Status =='Invoiced', 'greenColor' : DealCOlitem.Status =='Ordered'}" ng-if="DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart">{{ DealCOlitem.Status }}</td>
                                                     <td class="text-center" ng-class="{'blueColor' : DealCOlitem.Status == 'Invoiced'}" ng-if="DealCOlitem.IsPart && DealCOlitem.IsNonInventoryPart">{{DealCOlitem.Status == "Invoiced"  ? "Invoiced" : "In Stock" }}</td>

                                                <td class="text-center" ng-class="{'blueColor' : DealCOlitem.Status == 'Invoiced'}" ng-if="DealCOlitem.IsFee">{{DealCOlitem.Status == "Invoiced"  ? "Invoiced" : "Ready" }}</td>
                                                <td ng-if="!DealCOlitem.IsFixedPrice && GroupOnlyPermissions['Override price'].enabled">
                                                    <number-only-input-blur input-value="DealCOlitem.Price" id-val="DealCOLI_Price_Edit_{{DealCOKitHeaderIndex}}_{{DealCOLineItemIndex}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOutForDealMerch($event, DealCOKitHeaderIndex, DealCOLineItemIndex, 'DealCOLI_Qty_Needed_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editDealRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "DealCOKitHeaderIndex" coli-Index="DealCOLineItemIndex"/><!-- ?? -->
                                                </td>
                                                <td ng-if="DealCOlitem.IsFixedPrice || !(GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{DealCOlitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span ng-if="DealCOlitem.SubTotal == null">{{(DealCOlitem.Qty * DealCOlitem.Price) | currency}}</span>
                                                    <span ng-if="DealCOlitem.SubTotal != null">{{DealCOlitem.SubTotal | currency }}</span>
                                                    <i class="fa fa-lock FC7" ng-show="DealCOlitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="DealCOlitem.IsFixedPriceForCO"></i>
                                                </td>
                                                <td style="background-color: #FFF;"></td>
                                            </tr>
                                            <tr ng-show="CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].isEdit 

                                                && !DealCOlitem.IsLabour && !DealCOlitem.IsFee && (DealCOlitem.IsPart && !DealCOlitem.IsNonInventoryPart)" 
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)">
                                                <td style="background:#fff"></td>
                                                <td style="background:#fff" ng-class="{'BL': DealCOKHitem.hasChildren}"></td>
                                                <td style="background:#fff"></td>
                                                <td class="text-center available_td" colspan="9" style="padding-left:0px;padding-right:0px;">
                                                    <div class="show_Availableline" ng-if="DealCOlitem.AvaliablePartsQty > 0">  
                                                        AVAILABLE INVENTORY: {{DealCOlitem.AvaliablePartsQty}} 
                                                        <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            ng-click="CustomerOrderModel.showRelatedParts(DealCOlitem.partId, 'DealCOLI_Qty_Needed_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex, DealCOlitem, CustomerOrderModel.coHeaderId, 'Deal Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                    <div class="show_Availableline bgRed" ng-if="DealCOlitem.AvaliablePartsQty <= 0 && DealCOlitem.Qty > DealCOlitem.QtyCommitted">  
                                                        AVAILABLE INVENTORY: 0 - OUT OF STOCK
                                                        <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            ng-click="CustomerOrderModel.showRelatedParts(DealCOlitem.partId, 'DealCOLI_Qty_Needed_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex, DealCOlitem, CustomerOrderModel.coHeaderId, 'Deal Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                    <div class="show_Availableline bgGrey" ng-if="DealCOlitem.AvaliablePartsQty == 0 && DealCOlitem.Qty == DealCOlitem.QtyCommitted">  
                                                        QTY REMAINING: {{DealCOlitem.AvaliablePartsQty}}
                                                        <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            ng-click="CustomerOrderModel.showRelatedParts(DealCOlitem.partId, 'DealCOLI_Qty_Needed_Edit_'+DealCOKitHeaderIndex+'_'+DealCOLineItemIndex, DealCOlitem, CustomerOrderModel.coHeaderId, 'Deal Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                </td>
                                                <td style="background:#fff"></td>
                                            </tr>
                                            <tr ng-repeat-end="ng-repeat-end" class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"
                                                ng-show="CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].isEdit" 
                                                ng-click="CustomerOrderModel.editDealMerchandiseItems($event, DealCOKitHeaderIndex, null, true)">
                                                <!-- CustomerOrderModel.editMerchItem($event, DealCOKitHeaderIndex, null, true) -->
                                                <td style="backgroung-color:#fff"></td>
                                                <td ng-class="{'BL': DealCOKHitem.hasChildren}" style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" 
                                                    style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                        <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down"></i>
                                                            <span>Action (1 Action Available)</span> 
                                                        </div>
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" ng-if="DealCOlitem.Status !='Ordered'">
                                                                    <label ng-click="CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].radioValue = 0">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].radioValue == 0 }" >
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Remove From Order </span>
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editform_btn" role="button"
                                                                    ng-click="CustomerOrderModel.DealMerchandiseGoAction(CustomerOrderModel.DealMerchandiseItems_editRow[DealCOKitHeaderIndex].DealCOLIList[DealCOLineItemIndex].radioValue, 
                                                                    DealCOKHitem.Id, DealCOlitem.CoLineItemId, DealCOKitHeaderIndex, DealCOLineItemIndex)">Apply</a>                                                                  
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <!-- END: added by kv 10/01/2017 -->
                                   </table>
                               </div>
                            </div>
                        </div>
                        </div>
                        <!-- END: Added by kv 12/22/2016 -->
                        <div ng-show="CustomerOrderModel.SOHeaderList.length > 0 || CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_ServiceOrder')>-1" ng-repeat="SOHeader in CustomerOrderModel.SOHeaderList" ng-init="SoHeaderIndex = $index" id="ServiceOrderSection{{$index}}">

                            <div >
                            <div class="sectionHeader row ServiceHeader" >
                                <div class="col-lg-5 col-lg-5 PL14">
                                    <div class="fixedHeaderText">
                                        <span class="headerlabel">
                                        <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                            ng-show="!CustomerOrderModel.displaySections.ServiceOrder[$index].display" ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"
                                            ng-Click = "CustomerOrderModel.showPermissionSection('ServiceOrder',$index)">
                                        </i> 
                                        <i class="fa fa-angle-down" style="width:10px;"
                                            ng-show="CustomerOrderModel.displaySections.ServiceOrder[$index].display" ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['view'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"
                                            ng-Click = "CustomerOrderModel.showPermissionSection('ServiceOrder',$index)">
                                        </i> 
                                        <span class="divider">|</span>
                                        <span class="headdingFirstText"> {{CustomerOrderModel.LeftSideHeadingLables['ServiceOrder'+$index]}} </span>
                                        <span class="T2 edittext" ng-click="CustomerOrderModel.showSONameEditMode($index,'SectionList')"  ng-show="!SOHeader.SOHeaderInfo.isSONameEdit">{{SOHeader.SOHeaderInfo.Name}}</span>
                                        <input type="text" id="SO_Section_Name_Edit_{{$index}}" ng-blur="CustomerOrderModel.UpdateSOName($index)"  ng-show="SOHeader.SOHeaderInfo.isSONameEdit" 
                                            ng-model="SOHeader.SOHeaderInfo.Name" ng-focus="CustomerOrderModel.selectalltext($index,'SectionList')" class="serviceLabeledit"/>
                                        </span>
                                        <span class="ActionIcons pull-left">
                                            <div class="dropdown selectDropdown checkboxDropdown jobAction">
                                                <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                                               ng-disabled = "(!GroupOnlyPermissions['Service job']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || 
                                        (!GroupOnlyPermissions['Internal Service']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))">Job Actions
                                                <span class="caret"></span></button>
                                                <ul class="dropdown-menu jobActionDropdown">
                                                    <li>
                                                        <span class="T3 jobActionSubDropdownHeader">Job Info</span>
                                                        <ul class="jobActionSubDropdown">
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out'" 
                                                                    ng-click="CustomerOrderModel.showGridsInServiceSection('ShowItemsGrid', $index, 'ServiceItemSection')"
                                                                    href-dir="ServiceItemSection{{$index}}"
                                                                   >Add Parts &amp; Labor</a><!-- $event removed by kajal - #1179 - 10/22/2016 -->
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                                    <!-- signed out Added by Kajal 04/10/2016 -->
                                                                    Add Parts &amp; Labor
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink"  ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" 
                                                                	ng-click="CustomerOrderModel.createLogHoursPopup(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Id, $index);" 
                                                                    href-dir="ServiceHLSection{{$index}}"> Log Technician Time
                                                                </a> 
                                                                <a class="subSectionLink mutedgray" ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" 
                                                                    href-dir="ServiceHLSection{{$index}}"> Log Technician Time
                                                                </a> 
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out')" 
                                                                    ng-click="CustomerOrderModel.openAddAttachmentPopup(SoHeaderIndex);">Add Attachments</a>
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                                	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                                    <!-- signed out Added by Kajal 04/10/2016 --><!-- complete Added by Kajal - #1208 - 6th Oct, 2016 -->
                                                                    Add Attachments
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-click="CustomerOrderModel.openCustomerApproval($index)" 
                                                                    ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out')">Get Customer Approval</a>
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
                                                                	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out'">
                                                                    <!-- signed out Added by Kajal 04/10/2016 -->
                                                                    Get Customer Approval
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'"
                                                                	ng-click="CustomerOrderModel.openCustomerMileage('showMilege', $index, 'ServiceOrderOdometerSection')">
                                                                 	Record Unit Mileage
                                                                </a>
                                                                 <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                                                 	Record Unit Mileage
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink"  ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'"
                                                                	ng-click="CustomerOrderModel.showGridsInServiceSection('ShowNotesForCustomer', $index, 'ServiceNotesSection')">
                                                                  Add Notes for Customer
                                                                </a>
                                                                <a class="subSectionLink mutedgray"  ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                                                  Add Notes for Customer
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Complete' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Reviewed' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Invoiced' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Signed Out' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType != 'Third-Party')"
                                                                    ng-click="CustomerOrderModel.showGridsInServiceSection('ShowCauseConcernCorrection', $index, 'sectionForCauseConcernCorrection')"
                                                                    >Enter Cause/Correction</a><!-- href="#sectionForCauseConcernCorrection{{$index}}" sectionForCauseConcernCorrection-->
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
																	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Complete' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Reviewed' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Invoiced' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Signed Out' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.TransactionType == 'Third-Party'">
                                                                    Enter Cause/Correction
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'New' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Ready' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'In Progress' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'On Hold')" 
                                                                    ng-click="CustomerOrderModel.showGridsInServiceSection('ShowScheduleJob', $index, 'sectionForScheduleJob')"
                                                                    ><!-- ng-click = "CustomerOrderModel.ScheduleJob($index)" by kajal 18th may, 2017 -->
                                                                Schedule Job 
                                                                </a>
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                                	CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'New' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Ready' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'In Progress' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'On Hold'">
                                                                Schedule Job
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'New' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'Ready' || 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'In Progress' ||
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus == 'On Hold')" 
                                                                    ng-click="CustomerOrderModel.openWorkPicklist('hideStatusPicklistValue', $index, 'WorkPicklistStatusId')" >
                                                                Set Job Status
                                                                </a>
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                                	(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'New' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'Ready' && 
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'In Progress' &&
                                                                    CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.WorkStatus != 'On Hold')">
                                                                Set Job Status
                                                                </a>
                                                            </li> 
                                                            <li ng-if = "CustomerOrderModel.isDisplaySetCOAsQuote  && CustomerOrderModel.isShowCOAsQuote()" >
		                                                      <a class="subSectionLink" ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; 
	                                                						CustomerOrderModel.setCOStatusAsQuote()">
	                                                						Set as a Quote</a>
		                                                  	</li>
		                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
		                                                  					CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" >
		                                                      <a class="subSectionLink" ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true;
	                                                						 CustomerOrderModel.openActivateQuoteConfirmModal()">
	                                                						 	Activate Quote</a>
		                                                  	</li>
		                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
		                                                  					CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" >
		                                                      <a class="subSectionLink" ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; 
		                                                      			CustomerOrderModel.openDeleteQuoteConfirmModal();">Delete Quote</a>
		                                                  	</li>
		                                                  	<li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
				                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.getSMSPhone() != ''"
                                                                    ng-click="CustomerOrderModel.openMessagePopUp();" >
                                                                Send Text to Customer
                                                                </a>
                                                                <a class="subSectionLink mutedgray" ng-if = "(CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() =='')">
                                                                Send Text to Customer
                                                                </a>
                                                                
				                                           </li>
                                                        </ul>
                                                    </li>
                                                    <li ng-if = "SOHeader.SOHeaderInfo.WorkStatus != 'Invoiced'">
                                                        <span class="T3 jobActionSubDropdownHeader">Work Status</span>
                                                        <ul class="jobActionSubDropdown">
                                                            <li ng-repeat="workStatus in SOHeader.SOHeaderInfo.AvailableWorkStatusList">
                                                                <a class="subSectionLink" ng-if =  "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                                			CustomerOrderModel.workStatusCheck(workStatus.AvailableStatus,SoHeaderIndex )" 
                                                                			ng-click="CustomerOrderModel.changeWorkStatus(workStatus, SoHeaderIndex)">{{workStatus.AvailableStatus}}</a>
                                                                <a class="subSectionLink mutedgray" ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
                                                                	!CustomerOrderModel.workStatusCheck(workStatus.AvailableStatus,SoHeaderIndex )" >{{workStatus.AvailableStatus}}</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party'">
                                                        <span class="T3 jobActionSubDropdownHeader">Claim Status</span>
                                                        <ul class="jobActionSubDropdown">
                                                            <li ng-repeat="claimStatus in SOHeader.SOHeaderInfo.AvailableClaimStatusList">
                                                                <a class="subSectionLink" ng-if =  "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                               			 CustomerOrderModel.claimStatusCheck(claimStatus.AvailableStatus,SoHeaderIndex )" 
                                                               			 ng-click="CustomerOrderModel.changeClaimStatus(claimStatus, SoHeaderIndex)">{{claimStatus.AvailableStatus}}</a>
                                                                <a class="subSectionLink mutedgray" ng-if =  "CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' ||
                                                                		 !CustomerOrderModel.claimStatusCheck(claimStatus.AvailableStatus,SoHeaderIndex )">{{claimStatus.AvailableStatus}}</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li>
                                                    	<a ng-click="CustomerOrderModel.deleteSoHeaderInfo(CustomerOrderModel.SOHeaderList[$index].SOHeaderInfo.Id)">Remove Service Job</a>
                                                    </li>
                                                    <li ng-if = "CustomerOrderModel.coHeaderDetails.OrderStatus != 'Closed'">
                                                    	<a ng-click="CustomerOrderModel.createSOHeader()">+ADD New Job To Order</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </span>
                                        <!-- START: Added by Nidhi - #182 - 09/27/2016 -->
                                        <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Service job']['view']}">  
                                        <i class="fa fa-print"
                                            ng-click="CustomerOrderModel.PrintServiceWorkSheet(CustomerOrderModel.coHeaderDetails.COHeaderId)">
                                        </i>
                                        </span> 
                                        <span class="T3  pull-right total" >
                                        <a id="CO_active_Services_Payments_total_balance_due_h3_a" 
                                            ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, SOHeader.SOHeaderInfo.Id, 'serviceOrder')" 
                                            ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()" >
                                        ${{SOHeader.SOHeaderInfo.Total | number:2}}
                                        </a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            <div >
                                <div class="main_section_COU row" ng-show="CustomerOrderModel.displaySections.ServiceOrder[$index].display && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_ServiceOrder')>-1">
                                    <div class="pinneditems">
                                        <ul>
                                            <li ng-class-even="'C2'" ng-repeat="pinItem in CustomerOrderModel.pinnedItems">
                                                <span ng-if="pinItem == 'Unit'">
                                                <i class="fa fa-thumb-tack"></i>
                                                Unit: {{SOHeader.SOHeaderInfo.ModelName}}, VIN: <span  ng-if="SOHeader.SOHeaderInfo.COUId != null && SOHeader.SOHeaderInfo.VIN !=''">{{SOHeader.SOHeaderInfo.VIN}}</span><span class="vinUnknown_smallfont" ng-if="SOHeader.SOHeaderInfo.COUId != null && SOHeader.SOHeaderInfo.VIN == null">VIN Unknown</span>
                                                <span ng-if="SOHeader.SOHeaderInfo.COUId == null">Please Select a COU</span>
                                                </span>
                                                <span ng-if="pinItem == 'Cause' || pinItem == 'Concern' || pinItem == 'Correction'">
                                                <i class="fa fa-thumb-tack"></i>
                                                {{pinItem}}:
                                                <span ng-repeat="kit in SOHeader.SOHeaderInfo[CustomerOrderModel.pinnedItemsMapping[pinItem][0]] track by $index">{{kit}},</span>
                                                <span ng-repeat="manual in SOHeader.SOHeaderInfo[CustomerOrderModel.pinnedItemsMapping[pinItem][1]] track by $index">{{manual}},</span>
                                                </span>
                                                <span ng-if="pinItem == 'Promised By'">
                                                <i class="fa fa-thumb-tack"></i>
                                                {{pinItem}}:
                                                <span>{{SOHeader.SOHeaderInfo.selectedDate}}  {{SOHeader.SOHeaderInfo.selectedTime}}</span>
                                                </span>
                                                <span ng-if="pinItem == 'Estimated Hours' || pinItem == 'Category' || pinItem == 'Stock'">
                                                <i class="fa fa-thumb-tack"></i>
                                                {{pinItem}}:
                                                <span>{{SOHeader.SOHeaderInfo[CustomerOrderModel.pinnedItemsMapping[pinItem][0]]}} 
                                                <span ng-if="pinItem == 'Estimated Hours'">Hours</span>
                                                </span>
                                                </span>
                                                <!-- Dinesh Kumar 30/09/2016 -->
                                                <span ng-if= " pinItem == 'Job Type' ">
                                                <i class="fa fa-thumb-tack"></i>
                                                {{pinItem}}:
                                                <span>{{SOHeader.SOHeaderInfo[CustomerOrderModel.pinnedItemsMapping[pinItem]]}}</span>
                                                </span>
                                                <span ng-if="pinItem == 'Provider'">
                                                <i class="fa fa-thumb-tack"></i>
                                                Name: {{SOHeader.SOHeaderInfo.selectedProvider.Name}}, Email: {{SOHeader.SOHeaderInfo.selectedProvider.Email}}, 
                                                Phone: {{SOHeader.SOHeaderInfo.selectedProvider.Phone | tel}}
                                                </span> <!-- | tel: Added By Pooja 7 Feb. 2107 -->
                                                <span ng-if="pinItem == 'Deductible'">
                                                <i class="fa fa-thumb-tack"></i>
                                                Deductible Amount: {{SOHeader.DeductibleItem.DeductibleAmount}}
                                                </span>
                                                <!-- START: Added by Kajal 09/30/2016 -->
                                                <span ng-if="pinItem == 'Work Status'">
                                                <i class="fa fa-thumb-tack"></i>
                                                Work Status: {{SOHeader.SOHeaderInfo.WorkStatus}}
                                                </span>
                                                <!-- END: Added by Kajal 09/30/2016 -->
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="main_section_COU_Header row MB24" id="ServiceInfoSection{{$index}}" >
                                        <!-- Dinesh Kuamr 27/09/2016 -->
                                        <div class="col-md-12 InfoMT">
                                            <div class="col-md-2 col-md-offset-1">
                                                <p class="T3">Job Type</p>
                                            </div>
                                            <div class="col-md-9">
                                              <select class="form-control pull-left" style="width:300px;" 
                                                    ng-if = "SOHeader.SOHeaderInfo.DealId == null && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && 
                                                    	(!CustomerOrderModel.isDisplaySetCOAsQuote || !CustomerOrderModel.isShowCOAsQuote())"
                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 9}}"
                                                    ng-options="item.Id as item.CodeLabel for item in CustomerOrderModel.MasterData.TTOptionsList"
                                                    ng-model="SOHeader.SOHeaderInfo.TransactionTypeId"
                                                    ng-change="CustomerOrderModel.updateProvider($index)"  
                                                    ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOGridItems.length != 0 || SOHeader.SOHeaderInfo.DealId != null
                                                    || CustomerOrderModel.coHeaderDetails.COType == 'Internal Service' || 	(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service')">
                                                    <!-- ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOGridItems.length != 0" -->
                                                </select>
                                                <select class="form-control pull-left" style="width:300px;" 
                                                    ng-if = "SOHeader.SOHeaderInfo.DealId != null"
                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 9}}"
                                                    ng-options="item.Id as item.CodeLabel for item in CustomerOrderModel.MasterData.TTOptionsWithDealList"
                                                    ng-model="SOHeader.SOHeaderInfo.TransactionTypeId"
                                                    ng-change="CustomerOrderModel.updateProvider($index)"  
                                                    ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOGridItems.length != 0 || SOHeader.SOHeaderInfo.DealId != null
                                                    || 	(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service')
                                                    || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')">
                                                </select>
                                                <select class="form-control pull-left" style="width:300px;" 
                                                    ng-if = "SOHeader.SOHeaderInfo.DealId == null && (CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote' || 
                                                    	(CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote()))"
                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 9}}"
                                                    ng-options="item.Id as item.CodeLabel for item in CustomerOrderModel.MasterData.TTOptionsWithQuoteList"
                                                    ng-model="SOHeader.SOHeaderInfo.TransactionTypeId"
                                                    ng-change="CustomerOrderModel.updateProvider($index)"  
                                                    ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOHeaderInfo.DealId != null
                                                    || 	(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                    ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')">
                                                </select>
                                                <div class="icon_list">
                                                    <!-- Start: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                                    <!-- START: Edited by Kajal - #171 - 09/27/2016 -->
                                                    <!-- <i class="fa fa-question-circle" data-toggle="tooltip" data-original-title="Service Job Info Job Type Section"></i> -->
                                                    <!-- END: Edited by Kajal - #171 - 09/27/2016 -->
                                                    <!-- <i class="fa fa-thumb-tack"
                                                        ng-class="{'active-pin' : CustomerOrderModel.checkItemIsPinned('Job Type')}"
                                                        ng-click = "CustomerOrderModel.addRemovePinnedItem('Job Type')"></i> -->
                                                    <!-- End: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                               </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 InfoMT" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party'">
                                            <div class="col-md-2 col-md-offset-1">
                                                <p class="T3">Provider</p>
                                            </div>
                                            <div class="col-md-9">
                                                <!-- NIDS: Start -->
                                                <div class="lightbox minheight blackborder pull-left providerCard">
                                                    <div class="unitimagediv">
                                                        <img  class="hideoverflow width95" src="{!Application_Images}/UnitImage.png" width="80px" height="100px" />
                                                    </div>
                                                    <div class="newunitcss">
                                                        <div ng-if="!(CustomerOrderModel.isEmptyProvider($parent.$index))">
                                                            <span class="T14_1 col-md-12 PL10 text-bold providerName">
                                                                {{SOHeader.SOHeaderInfo.selectedProvider.Name}}
                                                            </span>
                    
                    
                                                            <div class="pull-left fullwidth">
                                                                <span class="T7 PL10 col-md-4">Email</span>
                                                                <span class="T3 Plr0 col-md-7 width66 vendorEmail">{{SOHeader.SOHeaderInfo.selectedProvider.Email}}</span>
                                                            </div>
                                                            <div class="pull-left fullwidth">
                                                                <span class="T7 PL10 col-md-4">Phone</span>
                                                                <span class="T3 Plr0 col-md-7 width66">{{SOHeader.SOHeaderInfo.selectedProvider.Phone | tel}}</span> 
                                                                                                                                                <!--  | tel: Added By Pooja 6 Feb. 2017 -->
                    
                                                            </div>
                                                            <div class="pull-left fullwidth">
                                                                <span class="T7 PL10 col-md-4">Account#</span>
                                                                <span class="T3 Plr0 col-md-7 width66">{{SOHeader.SOHeaderInfo.selectedProvider.AccountNumber}}</span>
                                                            </div>
                    
                                                        </div>
                                                        <div ng-if="CustomerOrderModel.isEmptyProvider($parent.$index)">
                                                            <div class="select-provider"> Select a Vendor</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- NIDS: END -->
                                                <div class="pull-left COUList ProviderList">
                                                    <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
                                                        ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOGridItems.length != 0
                                                        || 	(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                        aria-haspopup="true" aria-expanded="false">
                                                    <span class="caret"></span>
                                                    <span class="sr-only">Toggle Dropdown</span>
                                                    </button>
                                                    <ul class="dropdown-menu">
                                                        <li ng-repeat="provider in CustomerOrderModel.MasterData.ProviderList"
                                                            ng-click="CustomerOrderModel.setCurrentProvider(provider.Id, $parent.$index);  CustomerOrderModel.getProviderInfo(provider.Id)">
                                                            <a>{{provider.Name}}</a>
                                                        </li>
                                                        <li ng-if="CustomerOrderModel.MasterData.ProviderList.length == 0"> None </li>
            
            
                                                    </ul>
                                                </div>
                                                <div class="icon_list">
                                                    <!-- Start: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                                    <!-- START: Edited by Kajal - #171 - 09/27/2016 -->
                                                    <!-- <i class="fa fa-question-circle" data-toggle="tooltip" data-original-title="Service Job Info Provider Section"></i> -->
                                                    <!-- END: Edited by Kajal - #171 - 09/27/2016 -->
                                                    <!-- <i class="fa fa-thumb-tack"
                                                        ng-class="{'active-pin' : CustomerOrderModel.checkItemIsPinned('Provider')}"
                                                        ng-click = "CustomerOrderModel.addRemovePinnedItem('Provider')"></i> -->                                   
                                                    <!-- End: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                              </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 InfoMT" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party'">
                                            <div class="col-md-2 col-md-offset-1">
                                                <p class="T3">Deductible</p>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="large MB PDZero col-md-2">
                                                    <!-- form-group Removed by kajal 09/30/2016 -->
                                                    <input type="text" class="form-control"
                                                        id="DeductibleAmount{{$index}}"
                                                        placeholder="Deductible Amount"
                                                        maxlength="255"
                                                        ng-keydown="CustomerOrderModel.editDeductible($event,SOHeader.DeductibleItem,$index)"
                                                        ng-model = "SOHeader.DeductibleItem.DeductibleAmount"
                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 11}}" 
                                                        ng-disabled = "SOHeader.DeductibleItem.DeductibleStatus == 'Paid' ||  SOHeader.DeductibleItem.DeductibleStatus == 'CheckOut'
                                                        || CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) 
                                                        || 	(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"/> <!-- Edited by Kajal - #174 - 04/10/2016 -->
                                                </div>
                                                <div class="col-md-2" >
                                                    <span class="pull-left Plr0" ng-if = "SOHeader.DeductibleItem.DeductibleStatus == 'Paid'">
                                                        <div class="dropdown selectDropdown checkboxDropdown">
                                                            <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                                                            ng-disabled = "(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')">Paid
                                                            <span class="caret"></span>
                                                            </button>
                                                            <ul class="dropdown-menu" >
                                                                <li> <a ng-click ="SOHeader.DeductibleItem.DeductibleStatus = 'Adjust'; setDeductibleFocus($index)" >Adjust</a></li>
                                                            </ul>
                                                        </div>
                                                    </span>
                                                    <span class="pull-left Plr0" ng-if = "SOHeader.DeductibleItem.DeductibleStatus != 'Paid' && SOHeader.DeductibleItem.DeductibleStatus != null">
                                                        <div class="dropdown selectDropdown checkboxDropdown">
                                                            <button class=" btn dropdown-toggle btn btn-primary" type="button" data-toggle="dropdown" style="background: #337ab7;"
                                                            ng-disabled = "(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')">Owing
                                                            <span class="caret"></span>
                                                            </button>
                                                            <ul class="dropdown-menu" >
                                                                <li><a ng-click ="SOHeader.DeductibleItem.DeductibleStatus = 'Adjust'; setDeductibleFocus($index)">Adjust</a></li>
                                                                <li><a href="#CheckoutSection" >CheckOut</a></li>
                                                            </ul>
                                                        </div>
                                                    </span>
                                                </div>
                                                <div class="icon_list">
                                                    <!-- Start: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                                    <!-- <i class="fa fa-question-circle" data-toggle="tooltip" data-original-title="Deductible Amount"></i>
                                                    <i class="fa fa-thumb-tack"
                                                        ng-class="{'active-pin' : CustomerOrderModel.checkItemIsPinned('Deductible')}"
                                                        ng-click = "CustomerOrderModel.addRemovePinnedItem('Deductible')"></i> -->                                    
                                                    <!-- End: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                               </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 InfoMT" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Internal'">
                                            <div class="col-md-2 col-md-offset-1">
                                                <p class="T3">Category</p>
                                            </div>
                                            <div class="col-md-9">
                                                <div class="lightbox pull-left">
                                                    <autocompleteold id="{{$index}}"
                                                        tab-index="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 9}}"
                                                        rel-value="feeCategoryName"
                                                        placeholder="{!$Label.Category_Object_Display_Label}"
                                                        type="{!$Label.Category_Object_Display_Label}"
                                                        titlefield="Name" validationkey="CategoryName"
                                                        disable-attr="CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service' || CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex)"
                                                        typesearchmodal="SOHeader.SOHeaderInfo.CategoryNameStr" 
                                                        filter-param = "CustomerOrderModel.ServiceFieldsFilter.SOCategory"
                                                        />
                                                    <!--  Edited by Kajal - 174 - 04/10/2016 -->
                                                </div>
                                                <div class="icon_list">
                                              </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 InfoMT">
                                            <div class="col-md-2 col-md-offset-1">
                                                <p class="T3">Work Status</p>
                                            </div>
                                            <div class="col-md-9"  id = "WorkPicklistStatusId{{SoHeaderIndex}}" >
                                                <!-- Edited by Kajal 09/30/2016 -->
                                                <div class="col-md-5 soHeaderWorkstatus" ng-if="SOHeader.hideStatusPicklistValue != true">
                                                    <span class="userStatus feeuserstatus">
                                                    {{SOHeader.SOHeaderInfo.WorkStatus}}
                                                    </span> 
                                                </div>

                                                <select class="form-control pull-left" style="width:300px;" 
                                                    id = "WorkPicklistId{{$index}}" 
                                                    ng-if="SOHeader.hideStatusPicklistValue == true" 
                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 9}}"
                                                    ng-options="item for item in CustomerOrderModel.ServiceJobActiveStatusMap[SOHeader.SOHeaderInfo.WorkStatus]"
                                                    ng-model="SOHeader.SOHeaderInfo.WorkStatus"
                                                    ng-disabled = "(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                    ng-blur = "CustomerOrderModel.changeStatus($index,SOHeader.SOHeaderInfo.Id,SOHeader.SOHeaderInfo.WorkStatus,'hideStatusPicklistValue')" >
                                                </select>
                                                <div class="icon_list">
                                                    <!-- Start: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                                    <!-- <i class="fa fa-question-circle" data-toggle="tooltip" data-original-title="Work Status"></i>
                                                    <i class="fa fa-thumb-tack"
                                                        ng-class="{'active-pin' : CustomerOrderModel.checkItemIsPinned('Work Status')}"
                                                        ng-click = "CustomerOrderModel.addRemovePinnedItem('Work Status')"></i>  -->                                     
                                                    <!-- End: Ticket#2350: Commented By Pooja 14 Jun 2017 -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="gid_container_Customer" id="CO_InfoGrid_gid_container">
                                            <div class="col-md-12 InfoMT">
                                                <div class="col-md-2 col-md-offset-1">
                                                    <p class="T3">Unit</p>
                                                </div>
                                                <div class="col-md-9">
                                                    <!-- start: cou 1 -->
                                                    <div ng-show="CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'">
                                                        <div class="lightbox minheight blackborder pull-left">
                                                            <div class="unitimagediv">
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/UnitImage.png" width="80px" height="100px" />
                                                                <div class="itemicon" style="display:none;">
                                                                    <i class="fa fa-motorcycle FC7" style="flot:left;"></i>
                                                                    <i class="fa fa-registered " style="margin-left:2px;float:left;"></i>
                                                                </div>
                                                            </div>
                                                            <div class="newunitcss">
                                                                <div class="T3" ng-if="SOHeader.SOHeaderInfo.COUId == null">
                                                                    Please Select a COU
                                                                </div>
                                                                <div class="vinUnknown text-bold pull-left" ng-if="SOHeader.SOHeaderInfo.COUId != null && SOHeader.SOHeaderInfo.VIN == null">
                                                                    VIN Unknown 
                                                                </div>
                                                                <span class="T14_1 text-bold" ng-if="SOHeader.SOHeaderInfo.VIN !=''">
                                                                {{SOHeader.SOHeaderInfo.VIN}}
                                                                </span>                                                    
                                                                <div ng-if="SOHeader.SOHeaderInfo.UnitType=='COU'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">COU#</span>
                                                                    <span class="PL10 unitIdInCard" ><a class="T2" ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.COUId})">{{SOHeader.SOHeaderInfo.UnitId}}</a></span>
                                                                </div>
                                                                <div ng-if="SOHeader.SOHeaderInfo.UnitType=='ORDU'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">UNIT#</span>
                                                                    <span class="PL10 unitIdInCard"><a class="T2" ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.COUId})">{{SOHeader.SOHeaderInfo.UnitId}}</a></span>
                                                                </div>
                                                                <div ng-if="SOHeader.SOHeaderInfo.UnitType=='STOCK'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">STOCK#</span>
                                                                    <span class="PL10 unitIdInCard"><a class="T2" ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.COUId})">{{SOHeader.SOHeaderInfo.StockId}}</a></span>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <div class="col-md-6 padding0 handleoverflow" ng-if="SOHeader.SOHeaderInfo.MakeName !=null || SOHeader.SOHeaderInfo.MakeName!=''">
                                                                        {{SOHeader.SOHeaderInfo.MakeName}}
                                                                    </div>
                                                                    <div class="PL10 col-md-6 handleoverflow" ng-if="SOHeader.SOHeaderInfo.Year !='' || SOHeader.SOHeaderInfo.Year !=null">
                                                                        {{SOHeader.SOHeaderInfo.Year}}
                                                                    </div>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <span class="pull-left maxwidth col-md-6 padding0 handleoverflow">{{SOHeader.SOHeaderInfo.ModelName}}</span>
                                                                    <span class="PL10 rightaligned col-md-6" ng-if="SOHeader.SOHeaderInfo.Color !=null || SOHeader.SOHeaderInfo.Color !=''">      {{SOHeader.SOHeaderInfo.Color}}</span>
                                                                </div>
                                                                <div class="T3  pull-left text-bold fullwidth row">
                                                                    <span class="pull-left col-md-6 padding0 handleoverflow">{{SOHeader.SOHeaderInfo.SubModelName}}</span>
                                                                    <span class="cou_status pull-left col-md-6" ng-class="{ redColorBg: SOHeader.SOHeaderInfo.StatusColor=='Red' ,  greenColorBg: SOHeader.SOHeaderInfo.StatusColor=='Green', blackColorBg: SOHeader.SOHeaderInfo.StatusColor=='Black' }">
                                                                    {{SOHeader.SOHeaderInfo.UnitStatus}}
                                                                    </span>
                                                                </div>
            
                                                            </div>
                                                        </div>
                                                        <div class="pull-left COUList">
                                                            <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
                                                                ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || 
                                                                (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <span class="caret"></span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li ng-click="CustomerOrderModel.setFocusToUnit(SoHeaderIndex)"><a>Change Selected Unit</a></li>
                                                                <!-- START: edited by  kajal 15th june 2017 #2319 -->
                                                                <li ng-if="SOHeader.SOHeaderInfo.COUId != null && SOHeader.SOHeaderInfo.COUId != undefined && SOHeader.SOHeaderInfo.COUId != ''"><a ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.COUId})">View Unit Details</a></li>
                                                                <li ng-if="SOHeader.SOHeaderInfo.COUId == null || SOHeader.SOHeaderInfo.COUId == undefined || SOHeader.SOHeaderInfo.COUId == ''"><a class="mutedgray">View Unit Details</a></li>
                                                                <!-- END: edited by  kajal 15th june 2017 #2319 -->
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <!-- end: cou 1 -->
                                                    <!-- start: cou 2 -->
                                                    <div ng-show="CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service'">
                                                        <div class="lightbox minheight blackborder pull-left">
                                                            <div class="unitimagediv">
                                                                <img  class="hideoverflow width95" src="{!Application_Images}/UnitImage.png" width="80px" height="100px" />
                                                                <div class="itemicon" style="display:none;">
                                                                    <i class="fa fa-motorcycle FC7" style="flot:left;"></i>
                                                                    <i class="fa fa-registered " style="margin-left:2px;float:left;"></i>
                                                                </div>
                                                            </div>
                                                            <div class="newunitcss">
                                                                <div class="T3"  ng-if="SOHeader.SOHeaderInfo.selectedCOU.Id == null">
                                                                    Please Select a COU
                                                                </div>
                                                                <div class="vinUnknown text-bold pull-left" ng-if="SOHeader.SOHeaderInfo.selectedCOU.Id != null  && SOHeader.SOHeaderInfo.selectedCOU.VIN == null">
                                                                    VIN Unknown 
                                                                </div>
                                                                <span class="T14_1 text-bold" ng-if="SOHeader.SOHeaderInfo.selectedCOU.VIN !=''">
                                                                {{SOHeader.SOHeaderInfo.selectedCOU.VIN}}
                                                                </span>                                                    
                                                                <div ng-if="SOHeader.SOHeaderInfo.selectedCOU.UnitType=='COU'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">COU#</span>
                                                                    <span class="T2 PL10" ><a  ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.selectedCOU.Id})">{{SOHeader.SOHeaderInfo.selectedCOU.UnitId}}</a></span>
                                                                </div>
                                                                <div ng-if="SOHeader.SOHeaderInfo.selectedCOU.UnitType=='ORDU'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">UNIT#</span>
                                                                    <span class="T2 PL10"><a  ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.selectedCOU.Id})">{{SOHeader.SOHeaderInfo.selectedCOU.UnitId}}</a></span>
                                                                </div>
                                                                <div ng-if="SOHeader.SOHeaderInfo.selectedCOU.UnitType=='STOCK'" class="pull-left PL10 fullwidth">
                                                                    <span class="T7">STOCK#</span>
                                                                    <span class="PL10 unitIdInCard"><a class="T2" ui-sref="ViewUnit({Id: SOHeader.SOHeaderInfo.selectedCOU.Id})">{{SOHeader.SOHeaderInfo.selectedCOU.StockId}}</a></span>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <div class="col-md-6 padding0 handleoverflow" ng-if="SOHeader.SOHeaderInfo.selectedCOU.MakeName !=null || SOHeader.SOHeaderInfo.selectedCOU.MakeName!=''">
                                                                        {{SOHeader.SOHeaderInfo.selectedCOU.MakeName}}
                                                                    </div>
                                                                    <div class="PL10 col-md-6 handleoverflow" ng-if="SOHeader.SOHeaderInfo.selectedCOU.Year !='' || SOHeader.SOHeaderInfo.selectedCOU.Year !=null">
                                                                        {{SOHeader.SOHeaderInfo.selectedCOU.Year}}
                                                                    </div>
                                                                </div>
                                                                <div class="T3 pull-left text-bold fullwidth row">
                                                                    <span class="pull-left maxwidth col-md-6 padding0 handleoverflow">{{SOHeader.SOHeaderInfo.selectedCOU.ModelName}}</span>
                                                                    <span class="PL10 rightaligned col-md-6" ng-if="SOHeader.SOHeaderInfo.selectedCOU.Color !=null || SOHeader.SOHeaderInfo.selectedCOU.Color !=''">      {{SOHeader.SOHeaderInfo.selectedCOU.Color}}</span>
                                                                </div>
                                                                <div class="T3  pull-left text-bold fullwidth row">
                                                                    <span class="pull-left col-md-6 padding0 handleoverflow">{{SOHeader.SOHeaderInfo.selectedCOU.SubModelName}}</span>
                                                                     <span class="cou_status pull-left col-md-6" ng-if = "SOHeader.SOHeaderInfo.DealId == null" ng-class="{ redColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Red' ,  greenColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Green', blackColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Black' }">
                                                                    {{SOHeader.SOHeaderInfo.selectedCOU.Status}}
                                                                    </span>
                                                                    <span class="cou_status pull-left col-md-6" ng-if = "SOHeader.SOHeaderInfo.DealId != undefined && SOHeader.SOHeaderInfo.DealId != null" ng-class="{ redColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Red' ,  greenColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Green', blackColorBg: SOHeader.SOHeaderInfo.selectedCOU.StatusColor=='Black' }">
                                                                    {{SOHeader.SOHeaderInfo.selectedCOU.UnitStatus}}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="pull-left COUList">
                                                            <button type="button" class="btn dropdown-toggle caretBtn" data-toggle="dropdown" 
                                                                ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || SOHeader.SOHeaderInfo.DealId != null ||
                                                                (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <span class="caret"></span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li ng-repeat="COU in CustomerOrderModel.COUList"
                                                                    ng-click="CustomerOrderModel.setCurrentCOU(COU.Id, $parent.$index)">
                                                                    <a ng-if="COU.Name !=''">
                                                                        <span ng-if="COU.Year !=null && COU.Year !=''"> {{COU.Year}}</span>
                                                                        <span ng-if="COU.MakeName !=null && COU.MakeName !=''"> {{COU.MakeName}}</span>  
                                                                        <span ng-if="COU.ModelName !=null && COU.ModelName !=''"> {{COU.ModelName}}</span>
                                                                        <span ng-if="COU.SubModelName !=null && COU.SubModelName !=''"> {{COU.SubModelName}}</span>
                                                                        <span ng-if="(((COU.Year !=null && COU.Year !='') || 
                                                                         (COU.MakeName !=null && COU.MakeName !='') || (COU.ModelName !=null && COU.ModelName !='') && 
                                                                          (COU.SubModelName !=null && COU.SubModelName !='')) && (COU.VIN !=null && COU.VIN !=''))"> - </span>
                                                                        <span ng-if="COU.VIN !=null && COU.VIN !=''">{{COU.VIN}}</span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="CustomerOrderModel.COUList.length != 0" class="divider" role="separator"></li>
                                                                <li ng-click="CustomerOrderModel.openAddCustomerOwnedUnitPopup($event, SoHeaderIndex)"><a>Add a Customer Unit</a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="icon_list">
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="sectionForCauseConcernCorrection{{SoHeaderIndex}}" ><!--  Added by kv 02/03/2017 -->

                                                <div class="col-md-12 InfoMT serviceNeedSection">
                                                    <div class="col-md-2 col-md-offset-1">
                                                        <p class="T3">Service Needed</p>

                                                    </div>
                                                    <div class="col-md-9">
                                                        <p class="T7 servicelabel" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party' || SOHeader.ShowCauseConcernCorrection == true">Concern</p><!-- Edited by kv 02/03/2017 -->
                                                        <div class="multiselect">
                                                            <div ng-repeat="kitConcern in SOHeader.SOHeaderInfo.KitHeaderConcern">
                                                                <span> 
                                                                {{kitConcern}}
                                                                <i class="fa fa-lock"></i>
                                                                </span>
                                                            </div>
                                                            <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                            <div ng-repeat="concern in SOHeader.SOHeaderInfo.ManualConcern track by $index">

                                                                <!-- track by added by kv -->
                                                                <span ng-show="!CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualConcern[$index].isEdit">
                                                                    <span ng-click="CustomerOrderModel.editCauseConcernCorrectionItem($event, SoHeaderIndex, $index, 'ManualConcern')">

                                                                    {{concern}}</span>
                                                                    <!-- START: Edited by Kajal - #130 - 09/24/2016 -->
                                                                    <i class="fa fa-times" ng-click="CustomerOrderModel.removeFromMultiSelect($index, SoHeaderIndex, 'ManualConcern')" 
                                                                        ng-show="!(CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex)) && ((GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'))"></i>
                                                                    <!-- END: Edited by Kajal - #130 - 09/24/2016 -->  <!-- , $parent.$index -->

                                                                </span>
                                                                <div ng-show="CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualConcern[$index].isEdit">
                                                                    <input type="text" id="causeConcernCorrectionLabeledit_ManualConcern_{{SoHeaderIndex}}_{{$index}}"
                                                                    ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 			||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')" 
                                                         			class="mytxtbox form-control causeConcernCorrectionLabeledit_{{SoHeaderIndex}}_{{$index}}" 
                                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + (SoHeaderIndex * 12) + 1}}"  maxlength="255" ng-model="SOHeader.SOHeaderInfo.ManualConcern[$index]" placeholder="{!$Label.Label_Add} {!$Label.Label_Item}"
                                                                        rel="Concern" ng-keydown="CustomerOrderModel.editCauseConcernCorrectionRowTabOut($event, SoHeaderIndex, $index, 'Concern', 'ManualConcern');"/> <!-- ng-attr-tabindex Added by richa #147 29/09/2016-->


                                                                </div>
                                                            </div>
                                                            <!-- END: Edited by Kajal - #147 - 09/26/2016 -->
                                                            <input type="text" class="mytxtbox form-control" id="txtconcern_ManualConcern_{{SoHeaderIndex}}" ng-model="SOHeader.SOHeaderInfo.NewConcern" 
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 1}}" 
                                                                ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) || 
                                                                CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].isEditEnabled_ManualConcern == false
                                                                ||(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                placeholder="{!$Label.Label_Add} {!$Label.Label_Item}" rel="Concern" 
                                                                ng-keydown="CustomerOrderModel.addAndRemoveFromMultiSelect($event, $index, 'NewConcern', 'ManualConcern', 'Concern');" /><!-- Edited by kv 02/03/2017 -->


                                                        </div>
                                                        <div class="icon_list">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party' || SOHeader.ShowCauseConcernCorrection == true"><!-- Edited by kv 02/03/2017 -->
                                                        <p class="T3 text-center">&nbsp;</p>

                                                    </div>
                                                    <div class="col-md-9" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party' || SOHeader.ShowCauseConcernCorrection == true"><!-- Edited by kv 02/03/2017 -->
                                                        <p class="T7 servicelabel PT15">Cause</p>
                                                        <div class="multiselect">
                                                            <div ng-repeat="kitCause in SOHeader.SOHeaderInfo.KitHeaderCause">
                                                                <span> 
                                                                {{kitCause}}
                                                                <i class="fa fa-lock"></i>
                                                                </span>
                                                            </div>
                                                            <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                            <div ng-repeat="cause in SOHeader.SOHeaderInfo.ManualCause track by $index">

                                                                <!-- track by added by kv -->
                                                                <span ng-show="!CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualCause[$index].isEdit">
                                                                    <span ng-click="CustomerOrderModel.editCauseConcernCorrectionItem($event, SoHeaderIndex, $index, 'ManualCause')"> 

                                                                    {{cause}}</span>
                                                                    <!-- START: Edited by Kajal - #130 - 09/24/2016 -->
                                                                    <i class="fa fa-times" ng-click="CustomerOrderModel.removeFromMultiSelect($index, SoHeaderIndex, 'ManualCause')"
                                                                        ng-show="!(CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex)) && ((GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'))"></i>
                                                                    <!-- END: Edited by Kajal - #130 - 09/24/2016 -->  <!-- , $parent.$index -->

                                                                </span>
                                                                <div ng-show="CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualCause[$index].isEdit">
                                                                    <input type="text" id="causeConcernCorrectionLabeledit_ManualCause_{{SoHeaderIndex}}_{{$index}}" class="mytxtbox form-control causeConcernCorrectionLabeledit_{{SoHeaderIndex}}_{{$index}}" 
                                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + (SoHeaderIndex * 12) + 2}}"
                                                                         ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')" maxlength="255" ng-model="SOHeader.SOHeaderInfo.ManualCause[$index]" placeholder="{!$Label.Label_Add} {!$Label.Label_Item}"
                                                                        rel="Cause" ng-keydown="CustomerOrderModel.editCauseConcernCorrectionRowTabOut($event, SoHeaderIndex, $index, 'Cause', 'ManualCause');"/> <!-- ng-attr-tabindex Added by richa #147 29/09/2016-->


                                                                </div>
                                                            </div>
                                                            <!-- END: Edited by Kajal - #147 - 09/26/2016 -->
                                                            <input type="text" class="mytxtbox form-control" id="txtconcern_ManualCause_{{SoHeaderIndex}}" ng-model="SOHeader.SOHeaderInfo.NewCause" 
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 2}}"
                                                                ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) 
                                                                || CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].isEditEnabled_ManualCause == false
                                                                ||(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')" 
                                                                placeholder="{!$Label.Label_Add} {!$Label.Label_Item}" rel="Concern" 
                                                                ng-keydown="CustomerOrderModel.addAndRemoveFromMultiSelect($event, $index, 'NewCause', 'ManualCause', 'Cause');" /><!-- Edited by kv 02/03/2017 -->


                                                        </div>
                                                        <div class="icon_list">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party' || SOHeader.ShowCauseConcernCorrection == true"><!-- Edited by kv 02/03/2017 -->
                                                        <p class="T3 text-center">&nbsp;</p>

                                                    </div>
                                                    <div class="col-md-9" ng-if="SOHeader.SOHeaderInfo.TransactionType == 'Third-Party' || SOHeader.ShowCauseConcernCorrection == true"><!-- Edited by kv 02/03/2017 -->
                                                        <p class="T7 servicelabel PT15">Correction</p>
                                                        <div class="multiselect">
                                                            <div ng-repeat="KitCorrection in SOHeader.SOHeaderInfo.KitHeaderCorrection">
                                                                <span> 
                                                                {{KitCorrection}}
                                                                <i class="fa fa-lock"></i>
                                                                </span>
                                                            </div>
                                                            <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                            <div ng-repeat="correction in SOHeader.SOHeaderInfo.ManualCorrection track by $index">

                                                                <!-- track by added by kv -->
                                                                <span ng-show="!CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualCorrection[$index].isEdit">
                                                                    <span ng-click="CustomerOrderModel.editCauseConcernCorrectionItem($event, SoHeaderIndex, $index, 'ManualCorrection')">

                                                                    {{correction}}</span>
                                                                    <!-- START: Edited by Kajal - #130 - 09/24/2016 -->
                                                                    <i class="fa fa-times" ng-click="CustomerOrderModel.removeFromMultiSelect($index, SoHeaderIndex, 'ManualCorrection')" 
                                                                        ng-show="!(CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex)) && ((GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'))"></i>
                                                                    <!-- END: Edited by Kajal - #130 - 09/24/2016 -->  <!-- , $parent.$index -->

                                                                </span>
                                                                <div ng-show="CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].ManualCorrection[$index].isEdit">
                                                                    <input type="text" id="causeConcernCorrectionLabeledit_ManualCorrection_{{SoHeaderIndex}}_{{$index}}" class="form-control mytxtbox causeConcernCorrectionLabeledit_{{SoHeaderIndex}}_{{$index}}" 
                                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + (SoHeaderIndex * 12) + 3}}"
                                                                         ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')" maxlength="255" ng-model="SOHeader.SOHeaderInfo.ManualCorrection[$index]" placeholder="{!$Label.Label_Add} {!$Label.Label_Item}"
                                                                        rel="Correction" ng-keydown="CustomerOrderModel.editCauseConcernCorrectionRowTabOut($event, SoHeaderIndex, $index, 'Correction', 'ManualCorrection');"/> <!-- ng-attr-tabindex Added by richa #147 29/09/2016-->
                                                                </div>
                                                            </div>
                                                            <input type="text" class="mytxtbox form-control" id="txtconcern_ManualCorrection_{{SoHeaderIndex}}" ng-model="SOHeader.SOHeaderInfo.NewCorrection" 
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 3}}" 
                                                                ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex) 
                                                                || CustomerOrderModel.CauseConcernCorrectionItems_editRow[SoHeaderIndex].isEditEnabled_ManualCorrection == false
                                                                || (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                placeholder="{!$Label.Label_Add} {!$Label.Label_Item}" rel="Concern" 
                                                                ng-keydown="CustomerOrderModel.addAndRemoveFromMultiSelect($event, $index, 'NewCorrection', 'ManualCorrection', 'Correction');" /><!-- Edited by kv 02/03/2017 -->
                                                        </div>
                                                        <div class="icon_list">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                             <div ng-if="(SOHeader.SOHeaderInfo.ScheduledDate != null && SOHeader.SOHeaderInfo.ScheduledDate != '' && SOHeader.SOHeaderInfo.ScheduledDate != undefined) || 
                                             SOHeader.ShowScheduleJob == true"><!-- ng-if Added by kajal 18th may, 2017 -->
                                                    <div class="col-md-12 InfoMT serviceNeedSection">
                                                        <div class="col-md-2 col-md-offset-1">
                                                            <p class="T3">Scheduled</p>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="pull-left Plr0">
                                                                <p class="input-group ScheduledData" ng-class="{'ScheduledDataBackground':SOHeader.SOHeaderInfo.WorkStatus == 'Complete' || SOHeader.SOHeaderInfo.WorkStatus == 'Invoiced'}" >
                                                                    <input type="text" id = "Scheduled_{{SoHeaderIndex}}"
                                                                        ui-date="DeliverydateOptions" 
                                                                        style="background: #FFF;position: initial;" 
                                                                        ui-date-format="{{CustomerOrderModel.dateFormat}}" 
                                                                        class="form-control width200 datePickerColor datepicker"
                                                                        ng-model="SOHeader.SOHeaderInfo.ScheduledDate"
                                                                        ng-disabled="SOHeader.SOHeaderInfo.WorkStatus == 'Complete' || SOHeader.SOHeaderInfo.WorkStatus == 'Invoiced' 
                                                                        ||(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                        ng-change = "CustomerOrderModel.saveServiceOrderScheduleDate(SOHeader.SOHeaderInfo.Id,SOHeader.SOHeaderInfo.ScheduledDate)"
                                                                        readonly="readonly"/><!-- ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" -->
                                                                    <span class="input-group-addon btn" 
                                                                    style="cursor:pointer; position: absolute;right: 13%;top: 18%; padding: 0;font-size: 18px;"
                                                                    ng-click="CustomerOrderModel.showDatePicker($event)"><!-- ng-click added by kajal 18th may, 2017 -->
                                                                            <span ng-class="{'nocursor':SOHeader.SOHeaderInfo.WorkStatus == 'Complete'|| SOHeader.SOHeaderInfo.WorkStatus == 'Invoiced'}" class="glyphicon glyphicon-calendar"></span>
                                                                    </span>
                                                                </p>
                                                            </div>
                                                            <div  class="pull-left" ng-if = "SOHeader.SOHeaderInfo.WorkStatus != 'Complete' && SOHeader.SOHeaderInfo.WorkStatus != 'Invoiced' && ((GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'))">
                                                                    <i class="fa fa-times ClearShceduleJobClass" id="ClearShceduleJob" ng-click="SOHeader.SOHeaderInfo.ScheduledDate = '';CustomerOrderModel.saveServiceOrderScheduleDate(SOHeader.SOHeaderInfo.Id,SOHeader.SOHeaderInfo.ScheduledDate)" ></i>
                                                             </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            <div>
                                            </div>
                                            <!-- START: Edited by Kajal 09/30/2016 -->
                                            <div ng-show="SOHeader.showMilege == true || SOHeader.hideOdometerArrival || SOHeader.hideOdometerDeparture " id="ServiceOrderOdometerSection{{SoHeaderIndex}}" class="col-md-12 odometerSection">
                                                <div class="col-md-12 InfoMT" id="CO_CheckOutGrid_gid_container" ng-if = "SOHeader.hideOdometerArrival || SOHeader.showMilege == true">
                                                    <div class="col-md-2 col-md-offset-1 ">
                                                        <p class = "T3">Odometer On Arrival</p>
                                                    </div>
                                                    <div class="form_fields col-md-9">
                                                        <div class="form-group large MB PDZero col-md-2">
                                                            <input type="text" class="form-control"
                                                                placeholder="Mileage In"
                                                                maxlength="255"
                                                                ng-model="SOHeader.SOSignInRec.Odometer"
                                                                id = "odometerArrivalId{{$index}}"
                                                                ng-blur="CustomerOrderModel.saveSignInfo($index, true) "
																 ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 11}}" /> <!-- Ticket#1822: ng-disabled="CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex)":
                                                                                                                                                    Commented By Pooja 10 Apr. 2017 -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 InfoMT " ng-if = "SOHeader.hideOdometerDeparture || SOHeader.showMilege == true">
                                                    <div class="col-md-2 col-md-offset-1">
                                                        <p class = "T3">Odometer On Departure</p>
                                                    </div>
                                                    <div class="form_fields col-md-9">
                                                        <div class="form-group large MB PDZero col-md-2">
                                                            <input type="text" class="form-control"
                                                                placeholder="Mileage In"
                                                                maxlength="255"
                                                                ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                id = "odometerDepartureId{{$index}}"
                                                                ng-model="SOHeader.SOReviewRec.OdometerOnDeparture"
                                                                ng-blur="CustomerOrderModel.saveOdometerDeparture($index, true)"
                                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 12}}" /><!-- ng-blur edited by kajal 15th april, 2017 #1840 -->
                                                                                                                                            <!-- Ticket#1822: ng-disabled="SOHeader.SOHeaderInfo.WorkStatus == 'Reviewed' ||
                                                                                                                                                SOHeader.SOHeaderInfo.WorkStatus == 'Signed Out' || 
                                                                                                                                                CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" :

                                                                                                                                                Commented By Pooja 10 Apr. 2017 -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END: Edited by Kajal 09/30/2016 -->
                                            <div class="col-md-12 InfoMT serviceNeedSection " id="ServiceNotesSection{{SoHeaderIndex}}" ng-if = "SOHeader.SOReviewRec.KitHeaderNotes.length>0 || SOHeader.SOReviewRec.ManualNotes.length>0 || SOHeader.ShowNotesForCustomer == true"> <!-- Ticket#1839: id="ServiceNotesSection{{SoHeaderIndex}}": Added By Pooja 10 Apr. 2017 -->
                                                <!-- Added by kajal - #181 - 09/29/2016 -->
                                                <div class="col-md-2 col-md-offset-1">
                                                    <p class="T3">Notes For Customer</p>
                                                </div>
                                                <div class="col-md-9">
                                                    <div class="multiselect  ">
                                                        <div ng-repeat="kitNotes in SOHeader.SOReviewRec.KitHeaderNotes">
                                                            <span> 
                                                            {{kitNotes}}
                                                            <i class="fa fa-lock"></i>
                                                            </span>
                                                        </div>
                                                        <div ng-repeat="notes in SOHeader.SOReviewRec.ManualNotes  track by $index"> <!--  Ticket#2327: track by $index: Added By Pooja 20 Jun 2017  -->
                                                            <span ng-show="!CustomerOrderModel.NotesForCustomer_editRow[SoHeaderIndex].ManualNotes[$index].isEdit"><!-- Ticket#2327: 
                                                                                                                                                                        ng-show="!CustomerOrderModel.NotesForCustomer_editRow[SoHeaderIndex].ManualNotes[$index].isEdit":
                                                                                                                                                                        Added By Pooja 16 Jun 2017 -->
                                                                <span ng-click="CustomerOrderModel.editManualNotes($event, SoHeaderIndex, $index, 'ManualNotes')"> <!-- Ticket#2327: 
                                                                                                                                                                            span with ng-click:
                                                                                                                                                                            Added By Pooja 16 Jun 2017 -->
                                                                {{notes}} 
                                                                </span>
                                                                <!-- $parent.$index -> SoHeaderIndex Channged by pooja 04/10/2016 -->
                                                                <i class="fa fa-times" ng-click="CustomerOrderModel.removeNotesFromMultiSelect($index, SoHeaderIndex    , 'ManualNotes')"
                                                                    ng-if="!(SOHeader.SOHeaderInfo.WorkStatus == 'Reviewed' ||
                                                                    SOHeader.SOHeaderInfo.WorkStatus == 'Signed Out' || 
                                                                    CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed') && ((GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service'))"></i>
                                                            </span>
                                                            
                                                            <!-- Start: Ticket#2327: Added By Pooja 16 Jun 2017 -->
                                                             <div ng-show="CustomerOrderModel.NotesForCustomer_editRow[SoHeaderIndex].ManualNotes[$index].isEdit">
                                                                 <input type="text" id="NotesForCustomerEdit_ManualNotes_{{SoHeaderIndex}}_{{$index}}" class="mytxtbox form-control" 
                                                                     ng-disabled="(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                                     maxlength="255" ng-model="SOHeader.SOReviewRec.ManualNotes[$index]" 
                                                                     placeholder="{!$Label.Label_Add} {!$Label.Label_Item}"
                                                                     rel="ManualNotes" ng-keydown="CustomerOrderModel.editNotesForCustomerTabOut($event, SoHeaderIndex, $index, 'Notes', 'ManualNotes');"/> 
                                                             </div><!-- ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + (SoHeaderIndex * 12) + 1}}"   -->
                                                             <!-- End: Ticket#2327: Added By Pooja 16 Jun 2017 -->
                                                        </div>
                                                        <!-- Edited by kajal - #181 - 09/29/2016 -->
                                                        <input type="text" class="mytxtbox form-control" id="txtconcern{{$index}}" ng-model="SOHeader.SOReviewRec.NewNote" 
                                                            ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 13}}" 
                                                            ng-disabled="CustomerOrderModel.NotesForCustomer_editRow[SoHeaderIndex].isEditEnabled_ManualNotes == false
                                                            ||(!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType != 'Internal Service') 
                                                   		 ||(!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.COType == 'Internal Service')"
                                                            placeholder="Add Item" rel="Concern" ng-keydown="CustomerOrderModel.addAndRemoveFromNotesMultiSelect($event, $index, 'NewNote', 'ManualNotes', 'Notes');" /> <!-- Ticket#1822: ng-disabled="SOHeader.SOHeaderInfo.WorkStatus == 'Reviewed' ||
                                                                                                                                                                                                                            CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" : 
                                                                                                                                                                                                                            Commented By Pooja 10 Apr. 2017-->
                                                                                                                                                                                                                          <!-- Ticket#2327: ng-disabled="CustomerOrderModel.NotesForCustomer_editRow[SoHeaderIndex].isEditEnabled_ManualNotes == false": 
                                                                                                                                                                                                                            Added By Pooja 20 Jun 2017 -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-7">
            
                                            </div>
                                        </div>
                                    </div>
                                    <div class="main_section_COU_Header row" id="ServiceItemSection{{$index}}" ng-show="SOHeader.SOGridItems.length > 0 || SOHeader.ShowItemsGrid == true">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 --> 
                                        <p class="actionRow T2">
                                            <span class="sectionText">
                                                Items 
                                                <!-- Start : jackson f/b, Ticket #158, Added by kv, 16-09-2016 -->
                                                <i class="fa fa-plus cou_plus_icon " ng-click="setFocus(); setFocus1();"
                                                    ng-if="!(CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex))"></i><!-- Ticket#158: setFocus1(); Added by Pooja 29-09-2016 -->
                                            </span>
                                            <span class="ActionIcons">
                                                <!-- START: Edited by Kajal - #171 - 09/27/2016 -->
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Service Job Items Section"></i>
                                                <!-- END: Edited by Kajal - #171 - 09/27/2016 -->
                                            </span>
                                        </p>
                                    </div>
                                    <!-- Start Grid -->  
                                    <div class="gid_container_Customer" id="CO_ItemGrid_gid_container" ng-show="SOHeader.SOGridItems.length > 0 || SOHeader.ShowItemsGrid == true">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                        <table class="table" id="CM_Owned_ItemGrid">
                                            <col width="2%"  />
                                            <col width="2%"  />
                                            <col width="3%"  />
            
                                            <col width="38%"  />
                                            <col width="7%"  />
                                            <col width="1%"  />
                                            <col width="7%"  />
                                            <col width="1%"  />
                                            <col width="7%" />
                                            <col width="10%"  />
                                            <col width="10%"  />
                                            <col width="10%"  />
                                            <col width="2%"  />
                                            <thead>
                                                <tr  class="tableHeader T3 C2">
                                                    <th></th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Item/Description</th>
                                                    <th class="text-center">Need</th>
                                                    <th></th>
                                                    <th class="text-center">Commited</th>
                                                    <th></th>
                                                    <th class="text-center">Order</th>
                                                    <th class="text-center">STATUS</th>
                                                    <th class="text-center">Price</th>
                                                    <th class="text-center">Subtotal</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody id="CO_ItemGrid_gid_container_tbody{{$index}}"  ng-repeat="SOKHitem  in SOHeader.SOGridItems" class="parentBody" ng-init="SoKitHeaderIndex = $index"> <!-- Ticket#1823: id="CO_ItemGrid_gid_container_tbody{{$index}}": Added By Pooja 24 Apr. 2017 -->
                                                <tr  ng-click="CustomerOrderModel.updateServiceOrderLineItem(SoHeaderIndex, SoKitHeaderIndex ,null,$event, true); CustomerOrderModel.setDefaultSelectedSOEditGridOption(SOKHitem, null, SOHeader, SoHeaderIndex, SoKitHeaderIndex, null);" 
                                                    ng-class="{'C2':CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[$index].IsEvenRow==true, 'disabledEditableRow' : (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service')}" 
                                                    ng-show="SOKHitem.SOKH.Id !=null && !CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[$index].isEdit"  > <!-- CustomerOrderModel.setDefaultSelectedSOEditGridOption(SOKHitem, null, SOHeader, SoHeaderIndex, SoKitHeaderIndex, null); Added by richa issue #2 of ticket #2345 -->
                                                    <td class="HG50"></td>
                                                    <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                    <td>
                                                        <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite sparkplug"></div> -->
                                                    </td>
            
            
                                                    <td>{{SOKHitem.SOKH.ItemDescription}}</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td class="text-center">{{SOKHitem.SOKH.FixedPrice | currency }}</td>
                                                    <td class="text-center">
                                                        <span>{{SOKHitem.SOKH.FixedPrice | currency}}</span>
                                                        <i class="fa fa-lock FC7" ng-show="SOKHitem.SOKH.IsFixedPrice"></i>
                                                        <i class="fa fa-pencil FC7" ng-show="SOKHitem.SOKH.isFixedKitHeaderSO"></i>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                                <tr ng-class="{'C2':CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[$index].IsEvenRow==true,'Editable_row':CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[$index].isEdit}"
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem(SoHeaderIndex, SoKitHeaderIndex ,null,$event, true)"
                                                    ng-show="SOKHitem.SOKH.Id !=null && CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[$index].isEdit" class="Editable_row"  >
                                                    <td class="HG50"></td>
                                                    <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                    <td>
                                                        <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite sparkplug"></div> -->
                                                    </td>
            
                                                    <td>{{SOKHitem.SOKH.ItemDescription}}</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td ng-if="SOKHitem.SOKH.IsFixedPrice || (!GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{SOKHitem.SOKH.FixedPrice | currency}}</td>
                                                    <td ng-if="!SOKHitem.SOKH.IsFixedPrice && GroupOnlyPermissions['Override price'].enabled">
                                                        <number-only-input-blur-service  input-value="SOKHitem.SOKH.FixedPrice" id-val="SOLI_Header_Price_Edit_{{$index}}" include-zero="true"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,null, null, $event)"
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoIndex,KitIndex,soliIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="null"
                                                            />
                                                    </td>
                                                    <td class="text-center">
                                                        <span>{{SOKHitem.SOKH.FixedPrice | currency}}</span>
                                                        <i class="fa fa-lock FC7" ng-show="SOKHitem.SOKH.IsFixedPrice"></i>
                                                        <i class="fa fa-pencil FC7" ng-show="SOKHitem.SOKH.isFixedKitHeaderSO"></i>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                                <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"  
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem(SoHeaderIndex, SoKitHeaderIndex ,null,$event, true)"
                                                    ng-show="SOKHitem.SOKH.Id !=null && CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].isEdit" >
            
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td ng-class="{'BL': SOKHitem.SOKH.hasChildren}" style="background:#fff"></td>
                                                    <td style="background:#fff"></td>
                                                    <!-- <td style="background:#fff"></td> -->
                                                    <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                        <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box"
                                                            ng-class="{'edit_box_OneAction_Height': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 1, 'edit_box_TwoAction_Height': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 2, 'edit_box_ThreeAction_Height': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 3, 'edit_box_NoAction_Height': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 0}"> <!-- ng-class Added by richa #2345 -->
                                                            <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                <i class="fa fa-angle-down" ng-if="CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) > 0"></i> <!-- ng-if Added by richa #2345 -->
                                                                <span ng-if="CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) > 0">Actions ({{CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader)}} {{CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 1 ? 'Action' : 'Actions'}} Available)<!-- (3 Actions Available) --></span><!-- 2 ==> 3 edited by kajal 20th april, 2017 --> <!--  ng-if="SOHeader.SOHeaderInfo.DealId == null" Changed by richa #2345 --> 
                                                                 <!-- <span ng-if="SOHeader.SOHeaderInfo.DealId != null">Actions Available) (1 Action Available)</span> --> <!-- Commented by richa #2345 -->
                                                                 <span ng-if="CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 0">
                                                                    No Action Available
                                                                 </span> <!-- span added by richa #2345 -->
                                                            </div>
                                                            <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body"
                                                                ng-show="CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) > 0"> <!-- ng-show Added by richa #2345 -->
                                                                <form>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                        ng-if="CustomerOrderModel.isSOKitHeaderRemoveFromOrderActionAvailable()"> <!-- ng-if Added by richa #2345 -->
                                                                        <label>
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected == 0 }" 
                                                                                ng-click="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected = 0">
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Remove From Order</span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{SoKitHeaderIndex}}_edit-body_radio1" 
                                                                        ng-if="CustomerOrderModel.isSOKitHeaderBreakUpKitActionAvailable(SOKHitem, SOHeader)">
                                                                        <!-- ng-if="SOKHitem.SOKH.hasChildren && SOKHitem.SOKH.CanItSplit && SOHeader.SOHeaderInfo.DealId == null" ng-if Changed by richa #2345 -->
                                                                        <label>
                                                                            <p class="chk_tick edit-service-chek" 
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected == 1 }" 
                                                                                ng-click="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected = 1">
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Break up Kit (will lose custom kit pricing)</span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                        ng-show="CustomerOrderModel.isSOKitHeaderMoveToActionAvailable(SOKHitem, SOHeader)">
                                                                        <!-- ng-show="CustomerOrderModel.coHeaderDetails.COType != 'Internal Service' && SOKHitem.SOKH.hasChildren && SOHeader.SOHeaderInfo.DealId == null && filteredListServiceJobForKit.length > 0" ng-show Changed by richa #2345 --><!-- edited by kajal 7th june, 2017 #2278 --> <!-- && filteredListServiceJobForKit.length > 0 Added by richa #2345 -->
                                                                        <label ng-click="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected = 3"
                                                                            >
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected == 3 }">
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span class = "width-88">Move To </span>    
                                                                            <span class="select_box_container">
                                                                            <select class="form-control" 
                                                                                ng-options= "section.Id as section.Name    for  section in filteredListServiceJobForKit = (CustomerOrderModel.AllSectionList | filter:getSectionToMove(SOHeader.SOHeaderInfo.Id))" 
                                                                                ng-model="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].MoveTosection"> <!-- filteredListServiceJobForKit Added by richa #2345 -->
                                                                            </select>   
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                    <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                        class="btn btn-default editform_btn" role="button"
                                                                        ng-class="{'ApplyBtn_OneAction_Top': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 1, 'ApplyBtn_TwoAction_Top': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 2, 'ApplyBtn_ThreeAction_Top': CustomerOrderModel.SOKitHeaderAvailableActions(SOKHitem, SOHeader) == 3}"
                                                                        ng-click="CustomerOrderModel.serviceItemGoAction(CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].optionSelected, SOKHitem.SOKH.Id,Solitem.Id,SoKitHeaderIndex,SoHeaderIndex,null)">Apply</a> <!-- ng-class Added by richa #2345 -->                                
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat-start="Solitem in SOKHitem.SOKH.SOLIList" ng-init="SoLineItemIndex = $index"
                                                    ng-show="!Solitem.IsHidden && !CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].isEdit"
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem($parent.$parent.$index,$parent.$index,$index,$event, true); CustomerOrderModel.setDefaultSelectedSOEditGridOption(SOKHitem, Solitem, SOHeader, $parent.$parent.$index, $parent.$index, $index);" 
                                                    ng-class="{'C2': CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].IsEvenRow==true, 'disabledEditableRow' : (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service')}"> <!-- CustomerOrderModel.setDefaultSelectedSOEditGridOption(SOKHitem, Solitem, SOHeader, $parent.$parent.$index, $parent.$index, $index); Added by richa issue #2 of ticket #2345 -->
                                                    <td class="HG50" ng-class="{'BGFF': SOKHitem.SOKH.hasChildren}"></td>
                                                    <td ng-class="{'BL BGFF': SOKHitem.SOKH.hasChildren}">
                                                        <i ng-class="{'fa fa-link FC7 servicesitem': SOKHitem.SOKH.hasChildren}" >
                                                        </i>
                                                    </td>
                                                    <td ng-class="{'BGFF': SOKHitem.SOKH.hasChildren}">
                                                        <img src="{!Application_Images}/sparkplug.png" ng-if="Solitem.IsPart" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite sparkplug" ng-if="Solitem.IsPart"></div> -->
                                                        <img src="{!Application_Images}/hammer.png" ng-if="Solitem.IsLabour" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite hammer" ng-if="Solitem.IsLabour"></div> -->
                                                        <img src="{!Application_Images}/dollor.png" ng-if="Solitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                        <!-- <div class="sprite dollor" ng-if="Solitem.IsFee"></div> -->
                                                        <i ng-if="Solitem.IsSublet" ng-include="'{!Application_Images}/Icons/sublet.svg'" 
															class="BP_Home_storeLogo pull-left black_808080">
														</i>
                                                    </td> 
                                                    <td ng-if="Solitem.IsPart"> 
                                                        <a ng-mouseover="CustomerOrderModel.openpartpopup($event, Solitem.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{Solitem.ItemDesc}}</a>
                                                        <!-- START: Added by kv 02/07/2017 #1555 -->
                                                        <span class="Infonotification" ng-if="Solitem.Status=='Ordered' && !Solitem.IsNonInventoryPart && 
                                                        	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                        	Special Order generated
                                                        </span>
                                                        <span class="notification" ng-if="Solitem.AvailablePart == 0 && Solitem.Status !='Ordered' && !Solitem.IsNonInventoryPart && 
                                                        	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                        	{{Solitem.QtyNeeded > Solitem.StockCommited ? 'Action Required (not enough stock)' : ''}}
                                                        </span>
                                                        <span class="AvalaibleQtyNotification" ng-if="Solitem.AvailablePart > 0 && Solitem.Status=='Required' && !Solitem.IsNonInventoryPart && 
                                                        	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">
                                                        	{{Solitem.AvailablePart}} More Available Click To Add Save
                                                        </span>
                                                        <span class="Infonotification" ng-if="Solitem.Status=='In Stock' && !Solitem.IsNonInventoryPart && 
                                                        	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                        	&nbsp;
                                                        	</span>
                                                         <span ng-if="Solitem.IsNonInventoryPart || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'" > 
                                                        &nbsp;
                                                        </span><!-- END: Added by kv 02/07/2017 #1555 -->
                                                    </td>
                                                    <td ng-if="!Solitem.IsPart">{{Solitem.ItemDesc}}</td>
                                                    <td class="text-center">{{Solitem.QtyNeeded}}</td>
                                                    <td></td>


                                                    <td class="text-center" ng-if = "Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" >{{Solitem.StockCommited}}</td>
                                                    <td class="text-center" ng-if = "(Solitem.IsPart && Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote')
                                                    							 || Solitem.IsLabour || Solitem.IsFee || Solitem.IsSublet"></td>
													<td class="text-center" ng-if = "(Solitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')">-</td>
                                                    <td></td>
                                                    <td class="text-center" ng-if = "Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > {{Solitem.QtyOrder}} </td>
                                                    <td class="text-center"  ng-if = "(Solitem.IsPart && Solitem.IsNonInventoryPart
                                                    			 && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || Solitem.IsLabour || Solitem.IsFee || Solitem.IsSublet"></td>
													<td class="text-center"  ng-if = "(Solitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')">-</td>
													
                                                    <td class="text-center" ng-class="{'Requiredtd' : Solitem.Status =='Required' || Solitem.Status =='RETURN' || Solitem.Status =='Oversold', 'blueColor' : Solitem.Status =='Invoiced', 'greenColor' : Solitem.Status =='Ordered'}" ng-if="Solitem.IsPart && !Solitem.IsNonInventoryPart">{{ Solitem.Status }}</td>
                                                    <!-- {{Solitem.IsPart ? Solitem.Status : "Ready" }} -->
                                                    <td class="text-center" ng-class="{'blueColor' : SOHeader.SOHeaderInfo.InvoiceStatus == 'Closed'}" ng-if="Solitem.IsPart && Solitem.IsNonInventoryPart">{{SOHeader.SOHeaderInfo.InvoiceStatus == "Closed"  ? "Invoiced" : "In Stock" }}</td>
                                                    <td class="text-center" ng-class="{'blueColor' : SOHeader.SOHeaderInfo.InvoiceStatus == 'Closed'}" ng-if="!Solitem.IsPart">{{SOHeader.SOHeaderInfo.InvoiceStatus == "Closed"  ? "Invoiced" : "Ready" }}</td>
                                                    <td class="text-center">{{Solitem.KitPrice | currency}}</td>
                                                    <td class="text-center">
                                                        <span ng-if="Solitem.SubTotal == null">{{(Solitem.QtyNeeded * Solitem.KitPrice) | currency}}</span>
                                                        <span ng-if="Solitem.SubTotal != null">{{Solitem.SubTotal | currency}}</span>
                                                        <i class="fa fa-lock FC7" ng-show="Solitem.IsFixedPrice"></i>
                                                        <i class="fa fa-pencil FC7" ng-show="Solitem.isFixedKitHeaderLineItemSO"></i>
                                                    </td>
                                                    <td style="background-color: #FFF;"></td>
                                                </tr>
                                                <tr ng-show="CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].isEdit"
                                                    ng-class="{'C2': CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].IsEvenRow==true , 'disabledEditableRow' : (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service')}"
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem($parent.$parent.$index,$parent.$index,$index,$event, true)">
                                                    <td class="HG50" ng-class="{'BGFF': SOKHitem.SOKH.hasChildren}"></td>
                                                    <td ng-class="{'BL BGFF': SOKHitem.SOKH.hasChildren}">  
                                                        <i ng-class="{'fa fa-link FC7 servicesitem': SOKHitem.SOKH.hasChildren}" >
                                                        </i>
                                                    </td>
                                                    <td ng-class="{'BGFF': SOKHitem.SOKH.hasChildren}">
                                                        <img src="{!Application_Images}/sparkplug.png" ng-if="Solitem.IsPart" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite sparkplug" ng-if="Solitem.IsPart"></div> -->
                                                        <img src="{!Application_Images}/hammer.png" ng-if="Solitem.IsLabour" style="height: 26px;width: 26px;"/>
                                                        <!-- <div class="sprite hammer" ng-if="Solitem.IsLabour"></div> -->
                                                        <img src="{!Application_Images}/dollor.png" ng-if="Solitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                        <!-- <div class="sprite dollor" ng-if="Solitem.IsFee"></div> -->
                                                        <i ng-if="Solitem.IsSublet" ng-include="'{!Application_Images}/Icons/sublet.svg'" 
															class="BP_Home_storeLogo pull-left black_808080">
														</i>
                                                    </td>
                                                    <td ng-if="Solitem.IsPart">
                                                        <a ng-mouseover="CustomerOrderModel.openpartpopup($event, Solitem.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{Solitem.ItemDesc}}</a>
                                                    </td>
                                                    <td ng-if="!Solitem.IsPart && (Solitem.IsFee || Solitem.IsLabour || Solitem.IsSublet) && SOKHitem.SOKH.Id ==null">
                                                        {{Solitem.ItemCode}} - 
                                                        <input type="text" ng-model="Solitem.ItemDescription" id = "SOLI_dec_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"
                                                            class="form-control descEditInput" ng-show="!Solitem.IsFixedPrice" ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event,'shiftTabEvent');"/>
                                                        <input type="text" ng-model="Solitem.ItemDescription"  id = "SOLI_dec_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"
                                                            class="form-control descEditInput"
                                                            ng-show="Solitem.IsFixedPrice"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event,'shiftTabEvent');"/>
                                                    </td>
                                                     <td ng-if="!Solitem.IsPart && (Solitem.IsFee || Solitem.IsLabour || Solitem.IsSublet) && SOKHitem.SOKH.Id !=null">
                                                        {{Solitem.ItemCode}} - 
                                                        <input type="text" ng-model="Solitem.ItemDescription"  id = "SOLI_dec_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"
                                                            class="form-control descEditInput" ng-show="!Solitem.IsFixedPrice" ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event,'shiftTabEvent');"/>
                                                        <input type="text" ng-model="Solitem.ItemDescription"  id = "SOLI_dec_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"
                                                            class="form-control descEditInput"
                                                            ng-show="Solitem.IsFixedPrice"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event,'shiftTabEvent');"/>
                                                    </td>
                                                    <td ng-if="!(Solitem.IsFixedPrice || SOKHitem.SOKH.hasChildren)">
                                                        <!-- ng-keydown="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,$event, false , 'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex)" -->
                                                        <number-only-input-blur-service  input-value="Solitem.QtyNeeded" id-val="SOLI_Qty_Needed_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}" 
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex"
                                                            ng-if="GroupOnlyPermissions['Returns'].enabled"/>                                                        
                                                        <!-- ng-keydown="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,$event, false , 'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex)" -->    
                                                        <number-only-input-blur-service  input-value="Solitem.QtyNeeded" id-val="SOLI_Qty_Needed_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}" 
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex"
                                                            ng-if="!GroupOnlyPermissions['Returns'].enabled"
                                                            include-negative="false"/> <!-- disable-attr="Solitem.QtyNeeded < 0" -->
                                                    </td>
                                                    <td ng-if="(Solitem.IsFixedPrice || SOKHitem.SOKH.hasChildren)" class="text-center">{{Solitem.QtyNeeded}}</td>
                                                    <td><span ng-if="!Solitem.IsFixedPrice && Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">=</span></td>
                                                    <td class="text-center">
                                                        <div> <!--  ng-if="!SOKHitem.SOKH.hasChildren" Removed by richa #1918 21 april -->
                                                            <div ng-if="Solitem.IsPart  && !Solitem.IsFixedPrice && Solitem.QtyNeeded >= 0 && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'"> <!--  && !Solitem.IsFixedPrice Removed by richa #1918 24 april -->
                                                                <!-- ng-keydown="CustomerOrderModel.solieditRowBlur(SoHeaderIndex, SoKitHeaderIndex, SoLineItemIndex, $event, RefreshEdit, 'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex)" -->
                                                                <number-only-input-blur-service input-value="Solitem.StockCommited" include-zero="true" 
                                                                    id-val="SOLI_Qty_Commit_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"                                                                    
                                                                    callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex, SoKitHeaderIndex, SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                                    so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex" /> <!-- ng-keydown Added by richa #1918 21 april -->
                                                            </div>                                    
                                                            <div ng-if="Solitem.IsPart  && Solitem.IsFixedPrice && Solitem.QtyNeeded >= 0 && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'"> <!--  && !Solitem.IsFixedPrice Removed by richa #1918 24 april -->
                                                                <!-- ng-keydown="CustomerOrderModel.solieditRowBlur(SoHeaderIndex, SoKitHeaderIndex, SoLineItemIndex, $event, RefreshEdit, 'SOLI_Price_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex,'ShiftTabEvent')" -->
                                                                <number-only-input-blur-service input-value="Solitem.StockCommited" include-zero="true" 
                                                                    id-val="SOLI_Qty_Commit_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}"
                                                                    callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex, SoKitHeaderIndex, SoLineItemIndex,event,RefreshEdit,FocusId,'ShiftTabEvent')"  
                                                                    so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex" /> <!-- ng-keydown Added by richa #1918 21 april -->
                                                            </div>

                                                            <div ng-if="(!Solitem.IsSublet && !Solitem.IsLabour && !Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote')"> 
                                                                {{Solitem.StockCommited}}
                                                            </div>
                                                            <div ng-if="(!Solitem.IsSublet && !Solitem.IsLabour && !Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')"></div>
                                                            <div class="text-center" ng-if = "(Solitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')">-</div>
                                                        </div>
                                                    </td>
                                                     <td><span ng-if="!Solitem.IsFixedPrice && Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">+</span></td>
                                                    <td class="text-center" ng-if = "(Solitem.IsPart && !Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote')">
                                                    																{{ Solitem.QtyOrder}}</td>
                                                    <td class="text-center" ng-if = "(Solitem.IsPart && Solitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || Solitem.IsLabour 
                                                    																|| Solitem.IsFee || Solitem.IsSublet" ></td>
                                                    <td class="text-center" ng-if = "(Solitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')">-</td>
                                                    <!-- commented and added by pooja -->
            
                                                    <td class="text-center" ng-class="{'Requiredtd' : Solitem.Status =='Required' || Solitem.Status =='RETURN'  || Solitem.Status =='Oversold', 'blueColor' : Solitem.Status =='Invoiced', 'greenColor' : Solitem.Status =='Ordered'}" ng-if="Solitem.IsPart && !Solitem.IsNonInventoryPart">{{ Solitem.Status }}</td>
                                                    <td class="text-center" ng-class="{'blueColor' : SOHeader.SOHeaderInfo.InvoiceStatus == 'Closed'}" ng-if="Solitem.IsPart && Solitem.IsNonInventoryPart">{{SOHeader.SOHeaderInfo.InvoiceStatus == "Closed"  ? "Invoiced" : "In Stock" }}</td>

                                                    <td class="text-center" ng-class="{'blueColor' : SOHeader.SOHeaderInfo.InvoiceStatus == 'Closed'}" ng-if="!Solitem.IsPart">{{SOHeader.SOHeaderInfo.InvoiceStatus == "Closed"  ? "Invoiced" : "Ready" }}</td>
                                                    <td ng-if="!Solitem.IsFixedPrice  && SOKHitem.SOKH.Id ==null && GroupOnlyPermissions['Override price'].enabled">


                                                        <number-only-input-blur-service  input-value="Solitem.KitPrice" 
                                                            id-val="SOLI_Price_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}" include-zero="true"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event)"
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex"/>
                                                    </td>
                                                     <td ng-if="!Solitem.IsFixedPrice  && SOKHitem.SOKH.Id !=null && !Solitem.IsPart && GroupOnlyPermissions['Override price'].enabled">
                                                        <number-only-input-blur-service  input-value="Solitem.KitPrice" 
                                                            id-val="SOLI_Price_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}" include-zero="true"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_dec_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event)"
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex"/>
                                                    </td>
                                                      <td ng-if="!Solitem.IsFixedPrice  && SOKHitem.SOKH.Id !=null && Solitem.IsPart && GroupOnlyPermissions['Override price'].enabled">
                                                        <number-only-input-blur-service  input-value="Solitem.KitPrice" 
                                                            id-val="SOLI_Price_Edit_{{SoHeaderIndex}}_{{SoKitHeaderIndex}}_{{SoLineItemIndex}}" include-zero="true"
                                                            ng-keydown="CustomerOrderModel.editRowTabOutServiceOrderLineItem(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,'SOLI_Qty_Commit_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, $event)"
                                                            callback-Function="CustomerOrderModel.solieditRowBlur(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,event,RefreshEdit,FocusId)"  
                                                            so-Index="SoHeaderIndex" kit-Index = "SoKitHeaderIndex" soli-Index="SoLineItemIndex"/>
                                                    </td>
                                                    <td ng-if="Solitem.IsFixedPrice || !(GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{Solitem.KitPrice | currency}}</td>
                                                    <td class="text-center">
                                                        <span ng-if="Solitem.SubTotal == null">{{(Solitem.QtyNeeded * Solitem.KitPrice) | currency}}</span>
                                                        <span ng-if="Solitem.SubTotal != null">{{Solitem.SubTotal | currency }}</span>
                                                        <i class="fa fa-lock FC7" ng-show="Solitem.IsFixedPrice"></i>
                                                        <i class="fa fa-pencil FC7" ng-show="Solitem.isFixedKitHeaderLineItemSO"></i>
                                                    </td>
                                                    <td style="background-color: #FFF;"></td>
                                                </tr>
                                                <tr class=""   
                                                    ng-show="CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].isEdit && !Solitem.IsLabour && !Solitem.IsFee && !Solitem.IsSublet && !Solitem.IsNonInventoryPart" 
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem($parent.$parent.$index,$parent.$index,$index,$event, true)">
                                                    <td style="background:#fff"></td>
                                                    <td style="background:#fff" ng-class="{'BL': SOKHitem.SOKH.hasChildren}"></td>
                                                    <td style="background:#fff"></td>
                                                    <!-- <td style="background:#fff"></td> -->
                                                    <td class="text-center available_td" colspan="9" style="padding-left:0px;padding-right:0px;"
                                                    	ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">
                                                        <div class="show_Availableline" ng-if="Solitem.AvailablePart > 0">  
                                                            AVAILABLE INVENTORY: {{Solitem.AvailablePart}} 
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(Solitem.PartId, 'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, Solitem, SOHeader.SOHeaderInfo.Id, 'ServiceOrder', SoHeaderIndex);">VIEW RELATED PARTS</button>
                                                        </div>
                                                        <div class="show_Availableline bgRed" ng-if="Solitem.AvailablePart <= 0 && Solitem.QtyNeeded != Solitem.StockCommited">  
                                                            AVAILABLE INVENTORY: 0 - OUT OF STOCK
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(Solitem.PartId, 'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, Solitem, SOHeader.SOHeaderInfo.Id, 'ServiceOrder', SoHeaderIndex);">VIEW RELATED PARTS</button>
                                                        </div>
                                                        <div class="show_Availableline bgGrey" ng-if="Solitem.AvailablePart == 0 && Solitem.QtyNeeded == Solitem.StockCommited">  
                                                            QTY REMAINING: {{Solitem.AvailablePart}}
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(Solitem.PartId, 'SOLI_Qty_Needed_Edit_'+SoHeaderIndex+'_'+SoKitHeaderIndex+'_'+SoLineItemIndex, Solitem, SOHeader.SOHeaderInfo.Id, 'ServiceOrder', SoHeaderIndex);">VIEW RELATED PARTS</button>
                                                        </div> 
                                                    </td>
                                                    <td class="available_td" colspan="9" style="padding-left:0px;padding-right:0px;"
                                                    	ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                                        <div class="show_Availableline" ng-if="(Solitem.AvailablePart - Solitem.QtyNeeded) > 0">  
                                                            AVAILABLE INVENTORY: {{(Solitem.AvailablePart - Solitem.QtyNeeded)}} 
                                                        </div>
                                                        <div class="show_Availableline bgRed" ng-if="(Solitem.AvailablePart - Solitem.QtyNeeded) <= 0 && Solitem.QtyNeeded != Solitem.StockCommited">  
                                                            AVAILABLE INVENTORY: 0 - OUT OF STOCK
                                                        </div>
                                                        <div class="show_Availableline bgGrey" ng-if="(Solitem.AvailablePart - Solitem.QtyNeeded) == 0 && Solitem.QtyNeeded == Solitem.StockCommited">  
                                                            QTY REMAINING: {{(Solitem.AvailablePart - Solitem.QtyNeeded)}}
                                                        </div>
                                                    </td>
                                                    <td style="background:#fff"></td>
                                                </tr>
                                                <tr  ng-show="CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].isEdit"   ng-repeat-end="ng-repeat-end" class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"
                                                    ng-click="CustomerOrderModel.updateServiceOrderLineItem($parent.$parent.$index,$parent.$index,$index,$event, true)">
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td ng-class="{'BL': SOKHitem.SOKH.hasChildren}" style="background:#fff"></td>
                                                    <td style="background:#fff"></td>
                                                    <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                        <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box"
                                                            ng-class="{'edit_box_OneAction_Height': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 1, 'edit_box_TwoAction_Height': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 2, 'edit_box_ThreeAction_Height': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 3, 'edit_box_NoAction_Height': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 0}"
                                                            ng-show="CustomerOrderModel.SoItems_editRow[$parent.$parent.$index].HeaderItems_editRow[$parent.$index].SOLI_editRow[$index].isEdit"> <!-- ng-class Added by richa #2345 -->
                                                            <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                <i class="fa fa-angle-down" ng-show="CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) > 0"></i> <!-- ng-show Added by richa #2345 -->
                                                                 <!-- by kajal 20th april, 2017 -->
                                                                 <!-- <span ng-if = "Solitem.DealId == null">Actions (2 Actions Available)</span>  -->
                                                                 <span ng-if="CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) > 0"> <!--  ng-if = "Solitem.DealId == null" Changed by richa #2345 -->
                                                                 <!-- Actions ({{(!SOKHitem.SOKH.hasChildren ? (!Solitem.IsLabour ? (!Solitem.IsFee ? (Solitem.Status !='RETURN' ? 3 : 2) : 2) : 2) : 2)}} Actions Available) --> <!-- Commented by richa #2345 -->
                                                                 Actions ({{CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader)}} {{CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 1 ? 'Action' : 'Actions'}} Available) <!-- Added by richa #2345 -->
                                                                 </span>
                                                                 <span ng-if="CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 0">
                                                                    No Action Available
                                                                 </span> <!-- span added by richa #2345 -->
                                                                  <!-- by kajal 20th april, 2017 -->
                                                                <!-- <span ng-if = "Solitem.DealId != null">Actions (1 Action Available)</span> --> <!-- Commented by richa #2345 -->
            
                                                            </div>
                                                            <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body"
                                                                ng-show="CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) > 0">
                                                                <form>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" 
                                                                        ng-if="CustomerOrderModel.isSOKitHeaderLIRemoveFromOrderActionAvailable(Solitem)"> <!-- ng-if Added by richa #2345 -->
                                                                        <!-- ng-if="!(Solitem.IsPart && Solitem.Status =='Ordered')"> -->
                                                                        <label ng-click="CustomerOrderModel.changeServiceOrderKitItemsSelectedOption(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,0)">
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected == 0 }" >
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Remove From Order </span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" 
                                                                        ng-if="CustomerOrderModel.isSOKitHeaderLIBreakUpKitActionAvailable(SOKHitem, Solitem)">
                                                                        <!-- ng-if="SOKHitem.SOKH.hasChildren && Solitem.Status !='Ordered' && SOKHitem.SOKH.CanItSplit && Solitem.DealId == null" ng-if Changed by richa #2345 -->
                                                                        <label ng-click="CustomerOrderModel.changeServiceOrderKitItemsSelectedOption(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,1)">
                                                                            <p class="chk_tick edit-service-chek" 
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected == 1 }"> 
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Break up Kit</span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                        ng-if="CustomerOrderModel.isSOKitHeaderLISpecialOrderActionAvailable(Solitem)">
                                                                        <!-- ng-if="!Solitem.IsLabour && !Solitem.IsFee && Solitem.Status !='RETURN' && Solitem.DealId == null && CustomerOrderModel.VendorOrderListByVendorId.length > 0" ng-if Changed by richa #2345 --> <!-- && CustomerOrderModel.VendorOrderListByVendorId.length > 0 Added by richa #2345 -->
                                                                        <label ng-click="Solitem.Status =='Required' ? CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected = 2 : null"
                                                                            ng-class="{'disabledChkbox' : Solitem.Status !='Required'}"> <!-- CustomerOrderModel.changeServiceOrderKitItemsSelectedOption(SoHeaderIndex,SoKitHeaderIndex,SoLineItemIndex,2) ng-click Changed, ng-class disabledChkbox Added by richa #1918 24 april-->
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected == 2 }">
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Special Order</span>
                                                                            <span class="select_box_container">
                                                                            <select class="form-control" 
                                                                                ng-options="VOHeaderList.VOId as VOHeaderList.VOName for  VOHeaderList in CustomerOrderModel.VendorOrderListByVendorId"
                                                                                ng-model="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].radioValue">
                                                                                 <!-- ng-disabled="Solitem.Status != 'Required'" --> <!-- Commented by richa #2345 -->
                                                                            </select>
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                        ng-show="CustomerOrderModel.isSOKitHeaderLIMoveToActionAvailable(SOKHitem, Solitem, SOHeader)">
                                                                        <!-- ng-show="CustomerOrderModel.coHeaderDetails.COType != 'Internal Service' && !SOKHitem.SOKH.hasChildren && Solitem.DealId == null && filteredListServiceJob.length > 0" ng-show Changed by richa #2345 --><!-- edited by kajal 7th june, 2017 #2278 --> <!-- && filteredListServiceJob.length > 0 Added by richa #2345 -->
                                                                        <label ng-click="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected = 3">
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected == 3 }">
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span class = "width-88">Move To </span>    
                                                                            <span class="select_box_container">
                                                                            <select class="form-control" 
                                                                                ng-options= "section.Id as section.Name    for  section in filteredListServiceJob = (CustomerOrderModel.AllSectionList | filter:getSectionToMove(SOHeader.SOHeaderInfo.Id))" 
                                                                                ng-model="CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].MoveTosection"> <!-- filteredListServiceJob Added by richa #2345 -->
                                                                            </select>   
                                                                            </span>
                                                                        </label>
                                                                    </div>
                                                                    <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                        class="btn btn-default editform_btn" role="button"
                                                                        ng-class="{'ApplyBtn_OneAction_Top': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 1, 'ApplyBtn_TwoAction_Top': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 2, 'ApplyBtn_ThreeAction_Top': CustomerOrderModel.SOKitHeaderLIAvailableActions(SOKHitem, Solitem, SOHeader) == 3}"
                                                                        ng-click="CustomerOrderModel.serviceItemGoAction(CustomerOrderModel.SoItems_editRow[SoHeaderIndex].HeaderItems_editRow[SoKitHeaderIndex].SOLI_editRow[SoLineItemIndex].optionSelected, SOKHitem.SOKH.Id,Solitem.Id,SoKitHeaderIndex,SoHeaderIndex,SoLineItemIndex)">Apply</a> <!-- ng-class Added by richa #2345 -->                                
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <!--  -->
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- End Grid -->
                                    <!-- Added by Tarun -->
                                    <div class="main_section_COU_Header row" id="ServiceAttachmentsSection{{$index}}" ng-show="SOHeader.AttachmentList.length > 0 ">
                                        <p class="actionRow T2" style="display:inline;">
                                            <span class="sectionText">Attachments </span>
                                            <span class="ActionIcons">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Service Job Attachments"></i>
                                            </span>
                                        </p>
                                    </div>
                                    <div class="gid_container_Customer" id="CO_CheckOutGrid_gid_container" ng-show="SOHeader.AttachmentList.length > 0">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 --><!-- || SOHeader.ShowAttachments == true - Removed by kajal - #178 - 01/10/2016 -->
                                        <table class="table" id="CM_Owned_UnitsGrid"
                                            ng-if="SOHeader.AttachmentList.length != 0">
                                            <col width="2%"  />
                                            <col width="2%"  />
                                            <col width="6%"  />
                                            <col width="20%"  />
                                            <col width="50%"  />
                                            <col width="20%"  />
                                            <tr class="tableHeader T3 C2" ng-click="CustomerOrderModel.editAttachmentItem(SoHeaderIndex, null)">
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th>UPLOADED</th>
                                                <th>FILE NAME</th>
                                                <th>SOURCE</th>
                                            </tr>
                                            <tbody ng-repeat="Attachment in SOHeader.AttachmentList">
                                                <!-- Display rows -->
                                                <tr class="clickable_row" id="row1" rel="owned_unit_row{{$index}}_edit" ng-class-even="'C2'"
                                                    ng-click = "CustomerOrderModel.editAttachmentItem(SoHeaderIndex, $index);"
                                                    ng-class = "{'disabledEditableRow' : (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service')}">
                                                    <td style="background:#fff"></td>
                                                    <td></td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_1_{{$index}}" > 
                                                        <a class="edite_btn"> </a>
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_3_{{$index}}" class="T7 " >
                                                        {{Attachment.UploadedDate}}
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_4_{{$index}}" class="T7">
                                                        <a href="/servlet/servlet.FileDownload?file={{Attachment.AttachmentId}}" target="_blank">{{Attachment.AttachmentName}} </a>
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_5_{{$index}}" class="T7">
                                                        {{Attachment.Source}} 
                                                    </td>
                                                </tr>
                                                <tr ng-show="CustomerOrderModel.Attachment_editRow[$parent.$index].SOHeader_Attachment_editRow[$index].isEdit" class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit">
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td colspan="5" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}">
                                                        <div class="edit_box col-lg-9 col-md-9" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box" 
                                                            ng-show="CustomerOrderModel.Attachment_editRow[$parent.$index].SOHeader_Attachment_editRow[$index].isEdit">
                                                            <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                <img src="{!Application_Images}/edit_icon.png" styleClass="img_action"/>
                                                                <!-- <div class="sprite edit_icon pull-left" style="margin-top: 3px; margin-right: 3.5px;"></div> -->

                                                                <span>Action (1 Action Available)</span>
                                                            </div>
                                                            <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                <form>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                        <label>
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.Attachment_editRow[$parent.$index].SOHeader_Attachment_editRow[$index].radioValue == 0 }" >
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Remove From Order </span>
                                                                        </label>
                                                                    </div>
                                                                    <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" class="btn btn-default editform_btn attachmenteditform_btn" role="button"
                                                                        ng-click = "CustomerOrderModel.editAttachmentApplyAction(Attachment.AttachmentId, SOHeader.SOHeaderInfo.Id, SoHeaderIndex, $index)">Apply</a>                                
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
            
                                        <div class="clearfix" > </div>
                                    </div>
                                    <!--  Added by tarun --> 
                                    <div class="main_section_COU_Header row" id="ServiceHLSection{{$index}}" ng-show="SOHeader.HoursLoggedList.length > 0 || SOHeader.ShowHoursLoggedGrid == true">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016  -->
                                        <p class="actionRow T2" style="display:inline;">
                                            <span class="sectionText">Hours Logged 
                                            <i class="fa fa-plus cou_plus_icon " ng-click="CustomerOrderModel.createLogHoursPopup(SOHeader.SOHeaderInfo.Id, $index)"
                                                ng-if="!(CustomerOrderModel.isServiceOrderDisabled(SoHeaderIndex))"
                                                ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"></i>
                                            </span>
                                            <span class="ActionIcons">
                                                <!-- START: Edited by Kajal - #171 - 09/27/2016 -->
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Service Job Hours Logged Section"></i>
                                                <!-- END: Edited by Kajal - #171 - 09/27/2016 -->
                                            </span>
                                        </p>
                                    </div>
                                    <div class="gid_container_Customer" id="CO_CheckOutGrid_gid_container" ng-show="SOHeader.HoursLoggedList.length > 0 || SOHeader.ShowHoursLoggedGrid == true">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                        <table class="table" id="CM_Owned_UnitsGrid">
                                            <col width="2%"  />
                                            <col width="2%"  />
                                            <col width="6%"  />
                                            <col width="15%"  />
                                            <col width="15%"  />
                                            <col width="30%"  />
                                            <col width="12%"  />
                                            <col width="12%"  />
                                            <col width="12%"  />
                                            <col width ="1%" />
                                            <col width ="1%" />
                                            <tr  class="tableHeader T3 C2"
                                                ng-click="CustomerOrderModel.editHoursLoggedItem(SoHeaderIndex, null)">
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th>LOG</th>
                                                <th>DATE</th>
                                                <th>TECHNICIAN</th>
                                                <th>IN</th>
                                                <th>OUT</th>
                                                <th>HOURS</th>
                                                <th class="text-center">NOTES</th>
                                                <th></th>
                                            </tr>
                                            <tbody ng-repeat="HoursLogged in SOHeader.HoursLoggedList">
                                                <!-- Display rows -->
                                                <tr class="clickable_row" id="row1" rel="owned_unit_row{{$index}}_edit" ng-class-even="'C2'"
                                                    ng-click="CustomerOrderModel.editHoursLoggedItem(SoHeaderIndex, $index);"
                                                    ng-class = "{'disabledEditableRow' : (!GroupOnlyPermissions['Service job']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service') || (!GroupOnlyPermissions['Internal Service']['create/modify'] && CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service')}">
                                                    <td style="background:#fff"></td>
                                                    <td></td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_1_{{$index}}" >
                                                        <a  class="edite_btn" rel="row1_edit">
                                                        
                                                        <i class="blue_008DC1" ng-include="'{!Application_Images}/Icons/job-clocking.svg'"></i>
                                                    
                                                       <!--  <img src="{!Application_Images}/user-3.png" class="first_img" /> -->
                                                        <!-- <div class="sprite user-3"></div> --> 
                                                        </a>
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_3_{{$index}}" class="T7 " >
                                                        {{HoursLogged.Log}}
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_4_{{$index}}" class="T7">
                                                        {{HoursLogged.StartDate}}
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_5_{{$index}}" class="T7">
                                                        {{HoursLogged.EmployeeName}}
                                                    </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_6_{{$index}}" class="T7">{{HoursLogged.TimeIn}}</td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_7_{{$index}}" class="T7">{{HoursLogged.TimeOut}}</td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_8_{{$index}}" class="T7">{{HoursLogged.CalculatedHours}} </td>
                                                    <td id="CM_Owned_Units_block_grid_container_tbody_tr_td_9_{{$index}}"  class="T7" style="width:350px;" >
                                                        <p data-toggle="tooltip" class="text-center hour-notestext" tooltip="tooltip"
                                                            title="{{HoursLogged.Notes}}"><span ng-if ="HoursLogged.NotesRequired == true ">
                                                            <i class="fa fa-exclamation " aria-hidden="true" style="color:red; margin-right:7px;"/>
                                                            </span>{{HoursLogged.Notes}}
                                                        </p>
                                                    </td><td style="background:#fff"></td>
                                                </tr>
                                                <tr ng-show="CustomerOrderModel.HoursLogged_editRow[$parent.$index].SOHeader_HoursLogged_editRow[$index].isEdit" class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit">
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td style="backgroung-color:#fff"></td>
                                                    <td colspan="5" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}">
                                                        <div class="edit_box col-lg-9 col-md-9" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box" 
                                                            ng-show="CustomerOrderModel.HoursLogged_editRow[$parent.$index].SOHeader_HoursLogged_editRow[$index].isEdit">
                                                            <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                                <img src="{!Application_Images}/edit_icon.png" styleClass="img_action"/>
                                                                <!-- <div class="sprite edit_icon pull-left" style="margin-top: 3px; margin-right: 3.5px;"></div> -->

                                                                <span>Action (1 Action Available)</span>
                                                            </div>
                                                            <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                                <form>
                                                                    <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                        <label>
                                                                            <p class="chk_tick edit-service-chek"
                                                                                ng-class="{'chked' : CustomerOrderModel.HoursLogged_editRow[$parent.$index].SOHeader_HoursLogged_editRow[$index].radioValue == 0 }" >
                                                                                <i class="fa fa-check-square chksqure"></i>
                                                                            </p>
                                                                            <span>Edit </span>
                                                                        </label>
                                                                    </div>
                                                                    <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" class="btn btn-default editform_btn" role="button"
                                                                        ng-click="CustomerOrderModel.editHoursLoggedGoAction(SoHeaderIndex, $index)">Go</a>                                
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <!-- action editable Row -->
                                            </tbody>
                                        </table>
                                    </div>
            
                                    <div class="main_section_COU_Header row" id="ServiceCustomerApprovalSection{{$index}}" ng-show="SOHeader.CustomerApprovalList.length > 0">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                        <p class="actionRow T2" style="display:inline;">
                                            <span class="sectionText">Customer Approval
                                            <i class="fa fa-plus cou_plus_icon " ng-click="CustomerOrderModel.openCustomerApproval($index)"
                                                ng-class="{'defaultCursor' : (!GroupOnlyPermissions['Service job']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup != 'Internal Service')) || (!GroupOnlyPermissions['Internal Service']['create/modify'] && (CustomerOrderModel.coHeaderDetails.SellingGroup == 'Internal Service'))}"></i>
                                            </span>
            
                                            <span class="ActionIcons">
            
                                                <!-- START: Edited by Kajal - #171 - 09/27/2016 -->
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Service Job Hours Logged Section"></i>
                                                <!-- END: Edited by Kajal - #171 - 09/27/2016 -->
                                            </span>
                                        </p>
                                    </div>
                                    <div class="gid_container_Customer" id="CO_CheckOutGrid_gid_container" ng-show="SOHeader.CustomerApprovalList.length > 0">
                                        <!-- Edited by Kajal - SOCLN_005 - 09/27/2016 -->
                                        <table class="table" id="Service_Order_Customer_Approval">
                                            <col width="2%"  />
                                            <col width="2%"  />
                                            <col width="6%"  />
                                            <col width="15%"  />
                                            <col width="15%"  />
                                            <col width="15%" />
                                            <col width="33%"  />
                                            <col width="10%"  />
                                            <col width="2%"  />
                                            <tr  class="tableHeader T3 C2"
                                                ng-click="CustomerOrderModel.editHoursLoggedItem(SoHeaderIndex, null)">
                                                <th></th>
                                                <th></th>
                                                <th></th>
                                                <th>APPROVAL</th>
                                                <th>DATE</th>
                                                <th>SOURCE</th>
                                                <th>NOTES</th>
                                                <th>STATUS</th>
                                                <th></th>
                                            </tr>
                                            <tbody ng-repeat="CustomerApproval in SOHeader.CustomerApprovalList">
                                                <tr ng-class-even="'C2'" class="clickable_row">
                                                    <td style="background:#fff"></td>
                                                    <td></td>
                                                    <td>
                                                        <a  class="edite_btn" rel="row1_edit">
                                                        <img src="{!Application_Images}/user-3.png" class="first_img" />
                                                        <!-- <div class="sprite user-3"></div> -->
                                                        </a>
                                                    </td>
                                                    <td><a ng-click="CustomerOrderModel.openPendingCustomerApproval(SoHeaderIndex, CustomerApproval.SectionKey, CustomerApproval.ApprovalCount, CustomerApproval.Status)"
                                                        style="cursor: pointer;">
                                                        {{CustomerApproval.ApprovalId}}
                                                        </a>
                                                    </td>
                                                    <td>{{CustomerApproval.ApprovalDate}}</td>
                                                    <td>{{CustomerApproval.SectionName}}</td>
                                                    <td>{{CustomerApproval.Notes}}</td>
                                                    <td ng-class="{'Requiredtd' : CustomerApproval.Status =='Pending' , 'greenColorBold' : CustomerApproval.Status =='Approved'}">{{CustomerApproval.Status}}</td>
                                                    <td style="background:#fff"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                          </div>
                        <!-- END: Kajal 12/19/2016 -->
            
                        <div id="MerchandiseSection" ng-if="CustomerOrderModel.hideMerchandiseSection == false"><!-- Edited by Kajal - 14th june 2017 #2344 -->
                        <div class="sectionHeader row"  ng-show="((CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1) || CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale'" >
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right iconadjust" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                        ng-show="!CustomerOrderModel.displaySections.Merchandise"
                                        ng-Click ="CustomerOrderModel.showPermissionSection('Merchandise')">
                                    </i> 
                                    <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}"
                                        ng-show="CustomerOrderModel.displaySections.Merchandise"
                                        ng-Click ="CustomerOrderModel.showPermissionSection('Merchandise')">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Merchandise}}</span>
                                    <span class="T2"> Merchandise</span>
                                    </span>
                                    <!-- START: Added by Kajal - 14th june 2017 #2344 -->
                                    <span class="ActionIcons pull-left">
                                        <div class="dropdown selectDropdown checkboxDropdown jobAction">
                                            <button class="btn dropdown-toggle" type="button" data-toggle="dropdown"
                                            ng-disabled = "!GroupOnlyPermissions['Merchandise']['create/modify']">Actions
                                            <span class="caret"></span></button>
                                            <ul class="dropdown-menu merchActionDropdown">
                                                <li>
                                                    <a ng-click="CustomerOrderModel.removeMerchandiseSection(CustomerOrderModel.coHeaderId)"
                                                    ng-class="{'mutedgray':CustomerOrderModel.MerchandiseItems.length > 0}">Remove Merchandise</a>
                                                </li>
                                                <li ng-if = "CustomerOrderModel.isDisplaySetCOAsQuote && CustomerOrderModel.isShowCOAsQuote()">
	                                               <a ng-click="CustomerOrderModel.isDisplaySetCOAsQuote = false; CustomerOrderModel.setCOStatusAsQuote()">Set as a Quote</a>
	                                           </li>
	                                            <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
                                                 		CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
	                                                <a ng-click="CustomerOrderModel.isDisableActivatedQuoteCO = true;
                                               						 CustomerOrderModel.openActivateQuoteConfirmModal()">
                                               						 Activate Quote</a>
	                                            </li>
	                                            <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer' && 
                                                 		CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
	                                                <a ng-click="CustomerOrderModel.isDisableDeletedQuoteCO = true; CustomerOrderModel.openDeleteQuoteConfirmModal();">
	                                                	Delete Quote</a>
	                                            </li>
	                                            <li ng-if = "CustomerOrderModel.coHeaderDetails.COType == 'Customer'">
	                                                <a class="subSectionLink" ng-if = "CustomerOrderModel.getSMSPhone() != ''"
                                                         ng-click="CustomerOrderModel.openMessagePopUp();" >
                                                     Send Text to Customer
                                                     </a>
                                                     <a class="subSectionLink mutedgray" ng-if = "(CustomerOrderModel.getSMSPhone() == undefined || CustomerOrderModel.getSMSPhone()==null || CustomerOrderModel.getSMSPhone() =='')">
                                                     Send Text to Customer
                                                     </a>
	                                           </li>
                                            </ul>
                                        </div>
                                    </span>
                                    <!-- END: Added by Kajal - 14th june 2017 #2344 -->

                                    <!-- START: Added by kajal 12th april,2017 #1877 -->
                                    <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Merchandise']['view']}">
                                        <i class="fa fa-print" ng-click="CustomerOrderModel.PrintPriviewMerchandise(CustomerOrderModel.coHeaderId)">
                                        </i>
                                    </span>
                                    <!-- END: Added by kajal 12th april,2017 #1877 -->
                                    <span class="T3  pull-right total">
                                    <a id="CO_Merchandise_total_price_row_h3_a" 
                                        ng-mouseover="CustomerOrderModel.calculateTotalOverlay($event, null, 'merchandise')" 
                                        ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()">${{CustomerOrderModel.MerchandiseTotal}} </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div >
                            <div class="main_section_COU row" ng-show="(CustomerOrderModel.displaySections.Merchandise && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1 ) &&( CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale' || CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0)"   >
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">Items <i class="fa fa-plus cou_plus_icon " ng-click="AddToSearch('Merchandise:')"></i></span>
            
                                        <span class="ActionIcons">
            
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Merchandise Items Section"></i>
                                        </span>
                                    </p>
                                </div>
                                <div class="gid_container_Customer" id="CO_Merchandise_block_grid_container">
                                    <table class="table" id="CustomerOrder_MerchandiseItemGrid">
                                        <col width="2%"  />
                                        <col width="2%"  />
                                        <col width="3%"  />
            
                                        <col width="38%"  />
                                        <col width="7%"  />
                                        <col width="1%"  />
                                        <col width="7%"  />
                                        <col width="1%"  />
                                        <col width="7%" />
                                        <col width="10%"  />
                                        <col width="10%"  />
                                        <col width="10%"  />
                                        <col width="2%"  />
                                        <thead>
                                            <tr class="tableHeader T3 C2">
                                                <th></th>
                                                <th></th>
                                                <th></th>
            
                                                <th>Item/Description</th>
                                                <th class="text-center">Need</th>
                                                <th></th>
                                                <th class="text-center">Commited</th>
                                                <th></th>
                                                <th class="text-center">Order</th>
                                                <th class="text-center">STATUS</th>
                                                <th class="text-center">Price</th>
                                                <th class="text-center">Subtotal</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody ng-repeat="COKHitem  in CustomerOrderModel.MerchandiseItems" class="parentBody" ng-init="COKitHeaderIndex = $index">
                                            <tr ng-show="COKHitem.Id != null && !CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].isEdit"
                                                ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true); CustomerOrderModel.setDefaultSelectedMerchEditGridOption(COKHitem, null, COKitHeaderIndex, null);"
                                                ng-class="{'C2' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify']}" id="editMerchandicseItem"> <!-- CustomerOrderModel.setDefaultSelectedMerchEditGridOption(COKHitem, null, COKitHeaderIndex, null); Added by richa issue #2 of ticket #2345 -->
                                                <td class="HG50"></td>
                                                <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                </td>
                                                <td>{{COKHitem.ItemDescription}}</td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td class="text-center">{{COKHitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span>{{COKHitem.Price | currency}}</span>
                                                    <i class="fa fa-lock FC7" ng-show="COKHitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="COKHitem.IsFixedKitHeaderCO"></i>
                                                </td>
                                                <td></td>
                                            </tr>
                                            <tr ng-show="COKHitem.Id != null && CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].isEdit" class="Editable_row"
                                                ng-class="{'C2' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify'] }" ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true)" id="editMerchItem">
                                                <td class="HG50"></td>
                                                <td><i class="fa fa-link FC7" style="font-size: 24px;"></i></td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                </td>
                                                <td>{{COKHitem.ItemDescription}}</td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td ng-if="COKHitem.IsFixedPrice || !(GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{COKHitem.Price | currency}}</td>
                                                <td ng-if="!COKHitem.IsFixedPrice && GroupOnlyPermissions['Override price'].enabled">
                                                    <number-only-input-co input-value="COKHitem.Price" id-val="COKHitem_Header_Price_Edit_{{$index}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, null, 'COKHitem_Header_Price_Edit_'+COKitHeaderIndex)" ng-blur="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, null, 'COKHitem_Header_Price_Edit_'+COKitHeaderIndex)"/>
            
            
                                                </td>
                                                <td class="text-center">
                                                    <span>{{COKHitem.Price | currency}}</span>
                                                    <i class="fa fa-lock FC7" ng-show="COKHitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="COKHitem.IsFixedKitHeaderCO"></i>
                                                </td>
                                                <td></td>
                                            </tr>
                                            <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"  
                                                ng-show="COKHitem.Id !=null && CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].isEdit" 
                                                ng-class="{'C2' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify']}" ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true)">
                                                <td style="backgroung-color:#fff"></td>
                                                <td ng-class="{'BL': COKHitem.hasChildren}" style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <!-- <td style="background:#fff"></td> -->
                                                <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box"
                                                        ng-class="{'edit_box_OneAction_Height': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 1, 'edit_box_TwoAction_Height': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 2, 'edit_box_ThreeAction_Height': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 3, 'edit_box_NoAction_Height': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 0}"> <!-- ng-class Added by richa #2345 -->
                                                        <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down" ng-if="CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) > 0"></i> <!-- ng-if Added by richa #2345 -->
                                                            <span ng-if="CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) > 0"> <!-- ng-if Added by richa #2345 -->
                                                                <!-- Actions (3 Actions Available) --> <!-- Commented by richa #2345 -->
                                                                Actions ({{CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem)}} {{CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 1 ? 'Action' : 'Actions'}} Available) <!-- Added by richa #2345 -->
                                                            </span>   <!-- 2 ==> 3 by kajal 20th april, 2017 #1904 -->
                                                            <span ng-if="CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 0">
                                                                No Action Available
                                                            </span> <!-- span Added by richa #2345 -->
                                                        </div>
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body"
                                                            ng-show="CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) > 0"> <!-- ng-show Added by richa #2345 -->
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                    ng-if="CustomerOrderModel.isMerchKitHeaderRemoveFromOrderActionAvailable()"> <!-- ng-if Added by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue = 0">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue == 0 }" >
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Remove From Order</span>
                                                                    </label>
                                                                </div>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{SoKitHeaderIndex}}_edit-body_radio1" 
                                                                    ng-if="CustomerOrderModel.isMerchKitHeaderBreakUpKitActionAvailable(COKHitem)">
                                                                    <!-- ng-if="COKHitem.hasChildren && COKHitem.CanItSplit" ng-if Changed by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue = 1">
                                                                        <p class="chk_tick edit-service-chek" 
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue == 1 }" >
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Break up Kit (will lose custom kit pricing)</span>
                                                                    </label>
                                                                </div>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                    ng-show="CustomerOrderModel.isMerchKitHeaderMoveToActionAvailable(COKHitem)">
                                                                    <!-- ng-show="COKHitem.hasChildren && filteredListMerchandiseForKit.length > 0" ng-show Changed by richa #2345 --> <!-- && filteredListMerchandiseForKit.length > 0 Added by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue = 3"
                                                                        ng-disabled="COlitem.isSpecialOrder">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue == 3 }">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span class = "width-88">Move To </span>
                                                                        <span class="select_box_container">
                                                                        <select class="form-control" 
                                                                            ng-options= "section.Id as section.Name    for  section in filteredListMerchandiseForKit = (CustomerOrderModel.AllSectionList | filter:getSectionToMove('Merchandise'))" 
                                                                            ng-model="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].MoveTosection"
                                                                            ng-disabled="COlitem.isSpecialOrder" > <!-- filteredListMerchandiseForKit Added by richa #2345 -->
                                                                        </select> 
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editform_btn" role="button"
                                                                    ng-class="{'ApplyBtn_OneAction_Top': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 1, 'ApplyBtn_TwoAction_Top': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 2, 'ApplyBtn_ThreeAction_Top': CustomerOrderModel.MerchKitHeaderAvailableActions(COKHitem) == 3}"
                                                                    ng-click="CustomerOrderModel.MerchandiseGoAction(CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].radioValue,
                                                                    COKHitem.Id, null, COKitHeaderIndex, null)">Apply</a> <!-- ng-class Added by richa #2345 -->                            
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
											
                                            <tr ng-repeat-start="COlitem in COKHitem.COLIList" ng-init="COLineItemIndex = $index"
                                                ng-show="!CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].isEdit"
                                                ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, COLineItemIndex, true); CustomerOrderModel.setDefaultSelectedMerchEditGridOption(COKHitem, COlitem, COKitHeaderIndex, COLineItemIndex);"
                                                ng-class="{'C2' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].rowNumber % 2 == 0 , 'disabledEditableRow' : !GroupOnlyPermissions['Merchandise']['create/modify']}" id="editRowCoKit"> <!-- CustomerOrderModel.setDefaultSelectedMerchEditGridOption(COKHitem, COlitem, COKitHeaderIndex, null); Added by richa issue #2 of ticket #2345 -->
                                                <td class="HG50" ng-class="{'BGFF': COKHitem.hasChildren}"></td>
                                                <td ng-class="{'BL BGFF': COKHitem.hasChildren}">
                                                    <i ng-class="{'fa fa-link FC7 servicesitem': COKHitem.hasChildren}" >
                                                    </i>
                                                </td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" ng-if="COlitem.IsPart" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug" ng-if="COlitem.IsPart"></div> -->
                                                    <img src="{!Application_Images}/dollor.png" ng-if="COlitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                    <!-- <div class="sprite dollor" ng-if="COlitem.IsFee"></div> -->  
                                                </td>
                                                <td ng-if="!COlitem.IsPart">
                                                    {{COlitem.Item}}
                                                </td>
                                               <td ng-if="COlitem.IsPart">
                                                    <a ng-mouseover="CustomerOrderModel.openpartpopup($event, COlitem.partId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{COlitem.Item}}</a>
                                                    <span class="Infonotification" ng-if="COlitem.Status=='Ordered' && !COlitem.IsNonInventoryPart && 
                                                    	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                    	Special Order generated
                                                    </span>
                                                    <span class="notification" ng-if="COlitem.AvaliablePartsQty < 0 && COlitem.Status !='Ordered' && 
                                                    	!COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                    	{{COlitem.Qty > COlitem.QtyCommitted ? 'Action Required (not enough stock)' : ''}}
                                                    </span>
                                                    <span class="AvalaibleQtyNotification"  ng-if="COlitem.AvaliablePartsQty > 0 && COlitem.Status=='Required' && 
                                                    	!COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">
                                                    	{{COlitem.AvaliablePartsQty}} More Available Click To Add Save
                                                    </span>
                                                    <span class="Infonotification" ng-if="COlitem.Status=='In Stock' && !COlitem.IsNonInventoryPart && 
                                                    	CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" > 
                                                    	&nbsp;
                                                    </span>
                                                    <span ng-if="COlitem.IsNonInventoryPart || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">&nbsp;</span>
                                                </td>
                                                <td class="text-center">{{COlitem.Qty}}</td>
                                                <td></td>
                                                <td class="text-center" ng-if = "COlitem.IsPart && !COlitem.IsNonInventoryPart && COlitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" >{{COlitem.QtyCommitted}}</td>
                                                <td  ng-if = "(COlitem.IsPart && COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || COlitem.IsFee" ></td>
                                                <td class="text-center" ng-if = "(COlitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')" >-</td>

                                                <td></td>
                                                <td class="text-center"  ng-if = "COlitem.IsPart && !COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">{{COlitem.QtyOrder}} </td>
                                                <td  ng-if = "(COlitem.IsPart && COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || COlitem.IsFee" ></td>
                                                <td class="text-center" ng-if = "(COlitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote')" >-</td>

                                                <td class="text-center" ng-class="{'Requiredtd' : COlitem.Status =='Required' || COlitem.Status =='RETURN' || COlitem.Status =='Oversold', 'blueColor' : COlitem.Status =='Invoiced', 'greenColor' : COlitem.Status =='Ordered'}" ng-if="COlitem.IsPart && !COlitem.IsNonInventoryPart">{{COlitem.Status}} </td><!-- {{COlitem.IsPart ? COlitem.Status : "Ready" }} --> <!-- ng-if Added Richa 16/11/2016 -->
                                                <td class="text-center" ng-class="{'blueColor' : COlitem.Status == 'Invoiced'}" ng-if="COlitem.IsPart && COlitem.IsNonInventoryPart">{{COlitem.Status == "Invoiced"  ? "Invoiced" : "In Stock" }} </td><!-- {{COlitem.IsPart ? COlitem.Status : "Ready" }} --> <!-- ng-if Added Richa 16/11/2016 -->
                                                

                                                <td class="text-center" ng-class="{'blueColor' : COlitem.Status == 'Invoiced'}" ng-if="COlitem.IsFee">{{COlitem.Status == "Invoiced"  ? "Invoiced" : "Ready" }}</td> <!-- Richa Added 16/11/2016 --> <!-- Changed by richa 28/11/2016 -->
            
            
                                                <td class="text-center">{{COlitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span ng-if="COlitem.SubTotal == null">{{(COlitem.Qty * COlitem.Price) | currency}}</span>
                                                    <span ng-if="COlitem.SubTotal != null">{{COlitem.SubTotal | currency }}</span>
                                                    <i class="fa fa-lock FC7" ng-show="COlitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="COlitem.IsFixedPriceForCO"></i>
                                                </td>
                                                <td style="background-color: #FFF;"></td>
                                            </tr>
                                            <tr ng-show="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].isEdit"
                                                ng-class="{'C2' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].rowNumber % 2 == 0 }" 
                                                ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true)">
                                                <td class="HG50" ng-class="{'BGFF': COKHitem.hasChildren}"></td>
                                                <td ng-class="{'BL BGFF': COKHitem.hasChildren}">   
                                                    <i ng-class="{'fa fa-link FC7 servicesitem': COKHitem.hasChildren}" >
                                                    </i>
                                                </td>
                                                <td ng-class="{'BGFF': COKHitem.hasChildren}">
                                                    <img src="{!Application_Images}/sparkplug.png" ng-if="COlitem.IsPart" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug" ng-if="COlitem.IsPart"></div> -->
                                                    <img src="{!Application_Images}/dollor.png" ng-if="COlitem.IsFee" style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                    <!-- <div class="sprite dollor" ng-if="COlitem.IsFee"></div> -->  
                                                </td>
                                                <td ng-if="!COlitem.IsPart && !COlitem.IsFee">
                                                    {{COlitem.Item}}
                                                </td>
                                                <td ng-if="!COlitem.IsPart && COlitem.IsFee && COKHitem.Id != null">
                                                    {{COlitem.ItemCode}} - 
                                                    <input type="text" ng-model="COlitem.ItemDescription"
                                                        class="form-control descEditInput" id = " COLI_decs_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" ng-show="!COlitem.IsFixedPrice" ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Price_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex , 'shiftTabEvent')"/>
                                                    <input type="text" ng-model="COlitem.ItemDescription" id = " COLI_decs_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}"
                                                        class="form-control descEditInput" ng-show="COlitem.IsFixedPrice"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Price_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex ,'shiftTabEvent')"/>
                                                </td>
                                                  <td ng-if="!COlitem.IsPart && COlitem.IsFee && COKHitem.Id == null">
                                                    {{COlitem.ItemCode}} - 
                                                    <input type="text" ng-model="COlitem.ItemDescription" id = " COLI_decs_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}"
                                                        class="form-control descEditInput" ng-show="!COlitem.IsFixedPrice" ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex , 'shiftTabEvent')"/>
                                                    <input type="text" ng-model="COlitem.ItemDescription" id = " COLI_decs_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}"




                                                        class="form-control descEditInput" ng-show="COlitem.IsFixedPrice"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex ,'shiftTabEvent')"/>
                                                </td>
                                                <td ng-if="COlitem.IsPart"><a ng-mouseover="CustomerOrderModel.openpartpopup($event, COlitem.partId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{COlitem.Item}}</a></td>
                                                <td ng-if="!(COlitem.IsFixedPrice || COKHitem.hasChildren) && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && GroupOnlyPermissions['Returns'].enabled">
                                                    <number-only-input-blur input-value="COlitem.Qty" id-val="COLI_Qty_Needed_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" include-negative="true"
                                                        ng-keydown="CustomerOrderModel.editRowBlur($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Price_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex" />
                                                </td>
                                                <td ng-if="(!(COlitem.IsFixedPrice || COKHitem.hasChildren) && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote') 
                                                			|| (!(COlitem.IsFixedPrice || COKHitem.hasChildren) && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote' && !GroupOnlyPermissions['Returns'].enabled)">
                                                    <number-only-input-blur input-value="COlitem.Qty" id-val="COLI_Qty_Needed_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" include-negative="false"
                                                        ng-keydown="CustomerOrderModel.editRowBlur($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Price_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex"
                                                        /> <!-- disable-attr="COlitem.Qty < 0"  -->
                                                </td>
                                                <td ng-if="(COlitem.IsFixedPrice || COKHitem.hasChildren)" class="text-center">{{COlitem.Qty}}</td>
                                                 <td   ><span ng-if="(!COlitem.IsFixedPrice  && COlitem.IsPart) && !COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">=</span></td>
                                                <td class="text-center"  >
                                                    <div>
                                                    <!-- Quote -->
                                                        <div ng-if="COlitem.IsPart && !COlitem.IsFixedPrice && COlitem.Qty > 0 && !COlitem.IsNonInventoryPart && 
																			CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">
                                                            <number-only-input-blur input-value="COlitem.QtyCommitted"  include-zero="true"
                                                                id-val="COLI_Qty_Commited_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}"   
                                                                ng-keydown="CustomerOrderModel.editRowBlur($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Price_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                                callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex" />
                                                        </div>
                                                        <div ng-if="((COlitem.IsPart && COlitem.IsFixedPriceCOlitem.IsFixedPrice && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote')) && 
                                                        				!COlitem.IsNonInventoryPart">{{COlitem.QtyCommitted}}</div>
                                                        <div ng-if="(COlitem.IsPart && COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || COlitem.IsFee"></div>
                                                        <div class="text-center" ng-if="COlitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">-</div>
                                                    </div>
                                                </td>
            

                                                <td  ng-if = "" ><span ng-if="!COlitem.IsFixedPrice && COlitem.IsPart && !COlitem.IsNonInventoryPart && 
                                                									CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">+</span></td>
                                                <td class="text-center"  ng-if = "COlitem.IsPart && !COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'" >{{COlitem.QtyOrder}}</td>
                                                <td  ng-if = "(COlitem.IsPart && COlitem.IsNonInventoryPart && CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') || COlitem.IsFee " ></td>
                                                <td class="text-center" ng-if = "COlitem.IsPart && CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">-</td>
                                                <td class="text-center" ng-class="{'Requiredtd' : COlitem.Status =='Required' || COlitem.Status =='RETURN' || COlitem.Status =='Oversold',
                                                     'blueColor' : COlitem.Status =='Invoiced', 'greenColor' : COlitem.Status =='Ordered'}" ng-if="COlitem.IsPart && !COlitem.IsNonInventoryPart">{{ COlitem.Status }}</td>
                                                <td class="text-center" ng-class="{'blueColor' : COlitem.Status == 'Invoiced'}" ng-if="COlitem.IsPart && COlitem.IsNonInventoryPart">{{COlitem.Status == "Invoiced"  ? "Invoiced" : "In Stock" }}</td>

                                                <!-- Start: Added by pooja 25 Nov. 2016 -->
                                                <td class="text-center" ng-class="{'blueColor' : COlitem.Status == 'Invoiced'}" ng-if="COlitem.IsFee">{{COlitem.Status == "Invoiced"  ? "Invoiced" : "Ready" }}</td>
                                                <!-- End: Added by pooja 25 Nov. 2016 -->  
                                                <td ng-if="!COlitem.IsFixedPrice && COKHitem.Id == null && GroupOnlyPermissions['Override price'].enabled">


                                                    <number-only-input-blur input-value="COlitem.Price" id-val="COLI_Price_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex"/>
                                                </td>
                                                <td ng-if="!COlitem.IsFixedPrice && COKHitem.Id != null && !COlitem.IsPart && GroupOnlyPermissions['Override price'].enabled">
                                                    <number-only-input-blur input-value="COlitem.Price" id-val="COLI_Price_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_decs_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex"/>
                                                </td>
                                                 <td ng-if="!COlitem.IsFixedPrice && COKHitem.Id != null && COlitem.IsPart && GroupOnlyPermissions['Override price'].enabled">
                                                    <number-only-input-blur input-value="COlitem.Price" id-val="COLI_Price_Edit_{{COKitHeaderIndex}}_{{COLineItemIndex}}" include-zero="true"
                                                        ng-keydown="CustomerOrderModel.editRowTabOut($event, COKitHeaderIndex, COLineItemIndex, 'COLI_Qty_Commited_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex)"
                                                        callback-Function="CustomerOrderModel.editRowBlur(event,KitIndex,ColiIndex,FocusId)"  kit-Index = "COKitHeaderIndex" coli-Index="COLineItemIndex"/>
                                                </td>
                                                <td ng-if="COlitem.IsFixedPrice || !(GroupOnlyPermissions['Override price'].enabled)" class="text-center">{{COlitem.Price | currency}}</td>
                                                <td class="text-center">
                                                    <span ng-if="COlitem.SubTotal == null">{{(COlitem.Qty * COlitem.Price) | currency}}</span>
                                                    <span ng-if="COlitem.SubTotal != null">{{COlitem.SubTotal | currency }}</span>
                                                    <i class="fa fa-lock FC7" ng-show="COlitem.IsFixedPrice"></i>
                                                    <i class="fa fa-pencil FC7" ng-show="COlitem.IsFixedPriceForCO"></i>
                                                </td>
                                                <td style="background-color: #FFF;"></td>
                                            </tr>
                                            <tr ng-show="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].isEdit && 
                                            			!COlitem.IsLabour && !COlitem.IsFee && !COlitem.IsNonInventoryPart"
                                            			ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true)">
                                                <td style="background:#fff"></td>
                                                <td style="background:#fff" ng-class="{'BL': COKHitem.hasChildren}"></td>
                                                <td style="background:#fff"></td>
                                                <!-- <td style="background:#fff"></td> -->
                                                <td class="text-center available_td" colspan="9" style="padding-left:0px;padding-right:0px;" 
                                                	ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote'">
                                                    <div class="show_Availableline" ng-if="COlitem.AvaliablePartsQty > 0">  
                                                        AVAILABLE INVENTORY: {{COlitem.AvaliablePartsQty}} 
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(COlitem.partId, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex, COlitem, CustomerOrderModel.coHeaderId, 'Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                    <div class="show_Availableline bgRed" ng-if="COlitem.AvaliablePartsQty <= 0 && COlitem.Qty != COlitem.QtyCommitted">  
                                                        AVAILABLE INVENTORY: 0 - OUT OF STOCK
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(COlitem.partId, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex, COlitem, CustomerOrderModel.coHeaderId, 'Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                    <!-- ng-if condition Changed by richa -->
                                                    <div class="show_Availableline bgGrey" ng-if="COlitem.AvaliablePartsQty == 0 && COlitem.Qty == COlitem.QtyCommitted">  
                                                        QTY REMAINING: {{COlitem.AvaliablePartsQty}}
                                                            <button class="helperLineButton" data-target="#SupersededPart" data-toggle="modal"
                                                            	ng-click="CustomerOrderModel.showRelatedParts(COlitem.partId, 'COLI_Qty_Needed_Edit_'+COKitHeaderIndex+'_'+COLineItemIndex, COlitem, CustomerOrderModel.coHeaderId, 'Merchandise');">VIEW RELATED PARTS</button>
                                                    </div>
                                                    <!-- Added by richa -->
                                                </td>
                                                <td class="available_td" colspan="9" style="padding-left:0px;padding-right:0px;" 
                                                	ng-if="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Quote'">
                                                    <div class="show_Availableline" ng-if="(COlitem.AvaliablePartsQty - COlitem.Qty) > 0">  
                                                        AVAILABLE INVENTORY: {{(COlitem.AvaliablePartsQty - COlitem.Qty)}} 
                                                    </div>
                                                    <div class="show_Availableline bgRed" ng-if="(COlitem.AvaliablePartsQty - COlitem.Qty) <= 0 && COlitem.Qty != COlitem.QtyCommitted">  
                                                        AVAILABLE INVENTORY: 0 - OUT OF STOCK
                                                    </div>
                                                    <!-- ng-if condition Changed by richa -->
                                                    <div class="show_Availableline bgGrey" ng-if="(COlitem.AvaliablePartsQty - COlitem.Qty) == 0 && COlitem.Qty == COlitem.QtyCommitted">  
                                                        QTY REMAINING: {{(COlitem.AvaliablePartsQty - COlitem.Qty)}}
                                                    </div>
                                                    <!-- Added by richa -->
                                                </td>
                                                <td style="background:#fff"></td>
                                            </tr>
                                            <tr ng-repeat-end="ng-repeat-end" class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"
                                                ng-show="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].isEdit" ng-click="CustomerOrderModel.editMerchItem($event, COKitHeaderIndex, null, true)">
                                                <td style="backgroung-color:#fff"></td>
                                                <td ng-class="{'BL': COKHitem.hasChildren}" style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <!-- <td style="background:#fff"></td> -->
                                                <td colspan="9" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box"
                                                        ng-class="{'edit_box_OneAction_Height': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 1, 'edit_box_TwoAction_Height': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 2, 'edit_box_ThreeAction_Height': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 3, 'edit_box_NoAction_Height': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 0}"> <!-- ng-class Added by richa #2345 -->
                                                        <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down" ng-if="CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) > 0"></i> <!-- ng-if Added by richa #2345 -->

                                                            <!-- START: edited by kajal 20th april, 2017 #1904 -->
                                                            <!-- <span>Actions (2 Actions Available)</span> -->
                                                            <span ng-if="CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) > 0"> <!-- ng-if Added by richa #2345 -->
                                                                Actions ({{CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem)}} {{CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 1 ? 'Action' : 'Actions'}} Available) <!-- Added by richa #2345 -->
                                                                <!-- Actions ({{(!COKHitem.hasChildren ? (!COlitem.IsLabour ? (!COlitem.IsFee ? (COlitem.Status !='RETURN' ? 3 : 2) : 2) : 2) : 2)}} Actions Available) --> <!-- Commented by richa #2345 -->
                                                            </span>
                                                            <span ng-if="CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 0"> <!-- span Added by richa #2345 -->
                                                                No Action Available
                                                            </span>
                                                            <!-- END: edited by kajal 20th april, 2017 #1904 -->
                                                        </div>
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body"
                                                            ng-show="CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) > 0"> <!-- ng-show Added by richa #2345 -->
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" 
                                                                ng-if="CustomerOrderModel.isMerchKitHeaderLIRemoveFromOrderActionAvailable(COlitem)">
                                                                <!-- ng-if="COlitem.Status !='Ordered'" ng-if Changed by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue = 0">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue == 0 }" >
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Remove From Order </span>
                                                                    </label>
                                                                </div>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1" 
                                                                    ng-if="CustomerOrderModel.isMerchKitHeaderLIBreakUpKitActionAvailable(COKHitem)">
                                                                    <!-- ng-if="COKHitem.hasChildren && COKHitem.CanItSplit" ng-if Changed by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue = 1">
                                                                        <p class="chk_tick edit-service-chek" 
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue == 1 }"> 
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Break up Kit</span>
                                                                    </label>
                                                                </div>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                    ng-if="CustomerOrderModel.isMerchKitHeaderLISpecialOrderActionAvailable(COlitem)">
                                                                    <!-- ng-if="!COlitem.IsLabour && !COlitem.IsFee && COlitem.Status !='RETURN' && CustomerOrderModel.VendorOrderListByVendorIdForMerchandise.length > 0" ng-if Changed by richa #2345 --> <!-- && CustomerOrderModel.VendorOrderListByVendorIdForMerchandise.length > 0 Added by richa #2345 -->
                                                                    <label ng-click="COlitem.Status =='Required' ? CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue = 2 : null"


                                                                         ng-class="{'disabledChkbox' : COlitem.Status !='Required'}">
                                                                        <p class="chk_tick edit-service-chek" ng-disabled="true" 
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue == 2 }">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Special Order</span>
                                                                        <span class="select_box_container">
                                                                        <select class="form-control" 
                                                                            ng-options="VOHeaderList.VOId as VOHeaderList.VOName for  VOHeaderList in CustomerOrderModel.VendorOrderListByVendorIdForMerchandise"
                                                                            ng-model="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].optionSelected">

                                                                            <!-- ng-disabled="COlitem.Status !='Required'" > --> <!-- Commented by richa #2345 -->
                                                                        </select>
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1"
                                                                    ng-show="CustomerOrderModel.isMerchKitHeaderLIMoveToActionAvailable(COKHitem, COlitem)">
                                                                    <!-- ng-show="!COKHitem.hasChildren && filteredListMerchandise.length > 0" ng-show Changed by richa #2345 --> <!-- && filteredListMerchandise.length > 0 Added by richa #2345 -->
                                                                    <label ng-click="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue = 3">
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue == 3 }">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span class = "width-88">Move To </span>
                                                                        <span class="select_box_container">
                                                                        <select class="form-control" 
                                                                            ng-options= "section.Id as section.Name    for  section in filteredListMerchandise = (CustomerOrderModel.AllSectionList | filter:getSectionToMove('Merchandise'))" 
                                                                            ng-model="CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].MoveTosection" > <!-- filteredListMerchandise Added by richa #2345 -->
                                                                        </select> 
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editform_btn" role="button"
                                                                    ng-class="{'ApplyBtn_OneAction_Top': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 1, 'ApplyBtn_TwoAction_Top': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 2, 'ApplyBtn_ThreeAction_Top': CustomerOrderModel.MerchKitHeaderLIAvailableActions(COKHitem, COlitem) == 3}"
                                                                    ng-click="CustomerOrderModel.MerchandiseGoAction(CustomerOrderModel.MerchandiseItems_editRow[COKitHeaderIndex].lineItems[COLineItemIndex].radioValue, 
                                                                    COKHitem.Id, COlitem.CoLineItemId, COKitHeaderIndex, COLineItemIndex)">Apply</a> <!-- ng-class ADded by richa #2345 -->
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        </div>
                         <div id="SpecialOrderSection">
                        <div class="sectionHeader row" ng-show="CustomerOrderModel.SpecialOrder.length > 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Special_Orders')>-1" >
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                        ng-show="!CustomerOrderModel.displaySections.SpecialOrder"
                                        ng-Click="CustomerOrderModel.displaySections.SpecialOrder = true">
                                    </i> 
                                    <i class="fa fa-angle-down" style="width:10px;"
                                        ng-show="CustomerOrderModel.displaySections.SpecialOrder"
                                        ng-Click="CustomerOrderModel.displaySections.SpecialOrder = false">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class = "headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Special_Orders}}</span>
                                    <span class="T2"> Special Orders</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div >
                            <div class="main_section_COU row" ng-show="CustomerOrderModel.displaySections.SpecialOrder && CustomerOrderModel.SpecialOrder.length >0  && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Special_Orders')>-1">
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">Special Orders <!-- <i class="fa fa-plus cou_plus_icon " ng-click="AddToSearch('Special Orders:')"></i> --></span>
            
                                        <span class="ActionIcons">
            
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Special Order Section"></i>
                                        </span>
                                    </p>
                                </div>
                                <div class="gid_container_Customer" id="CO_Merchandise_block_grid_container">
                                    <table class="table" id="CustomerOrder_SpecialOrderItemGrid">
                                        <col width="2%"  />
                                        <col width="2%"  />
                                        <col width="3%"  />
            
                                        <col width="33%"  />
                                        <col width="7%"  />
                                        <col width="10%"  />
                                        <col width="12%"  />
                                        <col width="9%" />
                                        <col width="12%"  />
                                        <col width="8%"  />
                                        <col width="2%"  />
                                        <thead>
                                            <tr class="tableHeader T3 C2">
                                                <th></th>
                                                <th></th>
                                                <th></th>
            
                                                <th>ITEM/DESC</th>
                                                <th class="text-center">QTY REQ</th>
                                                <th class="text-center">STATUS</th>
                                                <th class="text-center">PO</th>
                                                <th class="text-center">PO STATUS</th>
                                                <th class="text-center">EXPECTED DELIVERY</th>
                                                <th class="text-center">ETA</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody ng-repeat="specialOrderItem  in CustomerOrderModel.SpecialOrder" ng-init="specialorderindex = $index" class="parentBody">
                                            <tr ng-click="CustomerOrderModel.editSpecialOrderItem($index,$event)"
                                             ng-class="{'disabledEditableRow': !GroupOnlyPermissions['Special order'].enabled}">
                                                <td class="HG50"></td>
                                                <td></td>
                                                <td>
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                </td>
                                                <td><a ng-mouseover="CustomerOrderModel.openpartpopup($event, specialOrderItem.PartId);" ng-mouseleave="CustomerOrderModel.hidePartPopUp();">{{specialOrderItem.Item}}</a>
                                                </td>
                                                <td class="text-center">{{specialOrderItem.QtyNeeded}}</td>
                                                <td class="text-center" ng-class="{'Requiredtd' : specialOrderItem.Status =='Required', 'blueColor' : specialOrderItem.Status =='Invoiced', 'greenColor' : specialOrderItem.Status =='Ordered'}">{{specialOrderItem.Status}}</td>
                                                <td class="text-center">{{specialOrderItem.PONumber}}</td>
                                                <td class="text-center"> {{specialOrderItem.POStatus}}</td>
                                                <td class="text-center">{{specialOrderItem.ExpectedDelivery}}</td>
                                                <td class="text-center">3 Days</td>
                                                <td></td>
                                            </tr>
                                            <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"  
                                                ng-show="CustomerOrderModel.SpecialOrder_editRow[$index].isEdit" ng-class="{'C2' : CustomerOrderModel.SpecialOrder_editRow[specialorderindex].rowNumber % 2 == 0 }" ng-click="CustomerOrderModel.editSpecialOrderItem($index,$event)">
                                                <td style="backgroung-color:#fff"></td>
                                                <td ng-class="{'BL': specialOrderItem.hasChildren}" style="background:#fff"></td>
                                                <td style="background:#fff"></td>
            
                                                <td colspan="7" class="edit-service-item" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-12 " id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                        <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down"></i>
                                                            <span>Action (1 Action Available)</span>  
                                                        </div>
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                    <label>
                                                                        <p class="chk_tick edit-service-chek chked">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Add to PO</span>
                                                                        <span class="select_box_container">
                                                                        <select class="form-control" 
                                                                            ng-options="VOHeaderList.VOId as VOHeaderList.VOName for  VOHeaderList in CustomerOrderModel.VendorOrderListByVendorIdForSpecialOrder"
                                                                            ng-model="CustomerOrderModel.SpecialOrder_editRow[specialorderindex].optionSelected"
                                                                            >
                                                                        </select>
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editform_btn" role="button"   ng-click="CustomerOrderModel.createNewSpecialorder(specialOrderItem.PartId , specialOrderItem.COLineItemId , CustomerOrderModel.SpecialOrder_editRow[specialorderindex].optionSelected);">Apply</a>                                
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                          </div>
            
                        <div id="DepositSection" class="" ng-show="CustomerOrderModel.displayCODepositeSection()"> <!-- class="deposit_checkout_mh: Added By pooja 3 Mar. 2017 --><!-- class="deposit_checkout_mh" removed 7th march, 2017 by kajal #1587 -->
                        <div class="sectionHeader row" ng-show = "CustomerOrderModel.Customer.Name !=null"><!-- ng-show edited by kajal 7th april, 2017 -->
                            
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                        ng-show="!CustomerOrderModel.displaySections.Deposit || CustomerOrderModel.collapseDepositSection == true "
                                        ng-Click="CustomerOrderModel.showPermissionSection('Deposit');"> <!-- ng-click: , ng-show; CustomerOrderModel.collapseDepositSection = false;: Added By Pooja 1 Mar. 2017 -->
                                    </i> 
                                    <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                        ng-show="CustomerOrderModel.displaySections.Deposit && CustomerOrderModel.collapseDepositSection == false"
                                        ng-Click="CustomerOrderModel.showPermissionSection('Deposit'); CustomerOrderModel.collapseDepositSection = true;CustomerOrderModel.selectedOption = 'Please Select';CustomerOrderModel.isRefundDepositBtnClicked = false;CustomerOrderModel.deposit_Amount = '';"> <!-- ng-click:, ng-show ; CustomerOrderModel.isPaymentDropdownOpen = false; CustomerOrderModel.collapseDepositSection = true;": Added By Pooja 1 Mar. 2017 -->
                                    </i> 
                                    <!-- START: EDited by kajal 02/24/2017 #1587 -->
                                    <div ng-show="CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.collapseDepositSection == false" class="hideDepositBtn">
                                                                                                                                                                                                <!-- ng-show: CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.displaySections.Deposit == true -> 
                                                                                                                                                                                                    CustomerOrderModel.Deposits.length>0 || CustomerOrderModel.collapseDepositSection == false: 
                                                                                                                                                                                                    Changed By Pooja 1 Mar. 2017 -->

                                    <span class="divider">|</span>
                                    <span class ="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Deposits}}</span>

                                    <span class="T2"> Deposits</span>
                                    </div>
                                    <div ng-show = "CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.collapseDepositSection == true" class="addADepositBtnInGrid deposit_checkout_mh"> 
                                                                                                                                <!-- ng-show: CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.displaySections.Deposit == false -> 
                                                                                                                                    CustomerOrderModel.Deposits.length==0 && CustomerOrderModel.collapseDepositSection == true
                                                                                                                                    : Changed By Pooja 1 Mar. 2017 -->
                                        <div>
                                            <button class="btn btn-default editDepositBtn text-uppercase" 
                                            	ng-disabled = "!GroupOnlyPermissions['Customer invoicing']['create/modify']"
                                                ng-click="CustomerOrderModel.expandDepositSection($event)" 
                                                ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Add A Deposit
                                            </button>
                                        </div>
                                    </div>
                                    <!-- END: EDited by kajal 02/24/2017 #1587 -->
                                    </span>
            <span class="ActionIcons service_order_print_icon pull-left " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}">
                                        <i class="fa fa-print"  
                                            ng-click="CustomerOrderModel.PrintCODeposits(CustomerOrderModel.coHeaderDetails.COHeaderId)">
                                        </i>
                                    </span> 
                                    <!-- <span class="T3  pull-right total" >
                                    <a id="CO_Deposits_block_total_price_row_h3_a" ng-mouseleave="CustomerOrderModel.hidePriceInfoOverlay()"
                                        ng-mouseover="CustomerOrderModel.calculateDepositTotalOverlay($event)" class="ng-binding"> ${{CustomerOrderModel.calculateDepositTotal()}}</a>
                                    </span> EDited by kajal 02/24/2017 #1587 -->
                                </div>
                            </div>
                        </div>
                        <div  ng-show = "CustomerOrderModel.Customer.Name !=null 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Deposits')>-1
                        && !(CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' && CustomerOrderModel.Deposits.length == 0)
                        &&(((CustomerOrderModel.MerchandiseItems.length > 0 || CustomerOrderModel.MerchandiseGhostItems.length > 0) && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Merchandise')>-1) || CustomerOrderModel.coHeaderDetails.SellingGroup=='Part Sale' || CustomerOrderModel.coHeaderDetails.SellingGroup=='Cash Sale' || 
                         CustomerOrderModel.showDepositeSection()  )"><!-- ng-show edited by kajal 7th april, 2017 -->
                            <div class="main_section_COU row depositSectionBody" ng-show="CustomerOrderModel.displaySections.Deposit == true 
                            && CustomerOrderModel.collapseDepositSection == false" ><!-- EDited by kajal 02/24/2017 - #1587 --><!-- EDited by kajal 11/22/2016 - #1302 -->
                                                                                                                            <!-- ng-show: && CustomerOrderModel.collapseDepositSection == false": Added By Pooja 1 Mar. 2017 -->
                                <div class="main_section_COU_Header row" id="CheckoutDepositSection" ng-if = "GroupOnlyPermissions['Customer invoicing']['create/modify']">
                                    <p class="actionRow T2 depositSubSection" ng-class="{'depositSubSectionMB0' : CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'}"><!-- edited by kajal 7th april, 2017 -->
                                        <span class="sectionText">Deposits</span>
                                        <span class="ActionIcons">
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Checkout Deposit Section"></i>
                                        </span>
                                    </p>

                                    <div class="row" ng-show="CustomerOrderModel.coHeaderDetails.OrderStatus != 'Closed'"><!--  7th april, 2017 edited by kajal -->
                                        <div class="col-md-10 col-lg-10">
                                            <div class="col-lg-3 col-md-3 Plr0" ng-show="CustomerOrderModel.Deposits.length > 0 
                                            && CustomerOrderModel.isRefundDepositBtnClicked == false && CustomerOrderModel.isPaymentDropdownOpen == false">
                                                <div class="addADepositBtnInGrid addADepositBtn">
                                                    <div>

                                                        <button class="btn btn-default editDepositBtn text-uppercase addDepositipaymentBut" 
                                                            ng-click="CustomerOrderModel.expandDepositSection($event)" 
                                                            ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Add A Deposit
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-3 col-lg-3 PR0" ng-show="CustomerOrderModel.Deposits.length == 0 
                                            || CustomerOrderModel.isRefundDepositBtnClicked == true 
                                            || CustomerOrderModel.isPaymentDropdownOpen == true">
                                                <div class="checkoutPaymentDropdown input-group">
                                                    <div class="input-group-btn" id="depositDropDownDiv" ng-class="{'open': CustomerOrderModel.isPaymentDropdownOpen == true}">
                                                        <button type="button" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle depositSelectDropdownBtn T7" 
                                                            id="depositSelectDropdownBtn" data-toggle="dropdown"
                                                            ng-class="{'selectedOptionTextColor': CustomerOrderModel.selectedOption != 'Please Select'}"
                                                            ng-click="CustomerOrderModel.isDepositAmountError = false;"> <!-- Edited by kajal 02/24/2017 #1587 -->
                                                            <span class="fa fa-angle-down"></span>{{ CustomerOrderModel.selectedOption }}
                                                        </button><!-- Edited 15th march 2017 -->
                                                        <ul class="checkoutPaymentUL dropdown-menu" role="menu" id="checkoutPaymentUL_Id"> 
                                                            <li data-value="Cash" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Cash', $event);" ng-enter="CustomerOrderModel.optionSelected('Cash', $event);"> 
                                                                    <span class="T7">Cash</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Debit" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Debit', $event);" ng-enter="CustomerOrderModel.optionSelected('Debit', $event);"> 
                                                                    <span class="T7">Debit</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Cheque" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Cheque', $event);" ng-enter="CustomerOrderModel.optionSelected('Cheque', $event);"> 
                                                                    <span class="T7">Cheque</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Visa" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Visa', $event);" ng-enter="CustomerOrderModel.optionSelected('Visa', $event);">
                                                                    <span class="T7">Visa</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Mastercard" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Mastercard', $event);" ng-enter="CustomerOrderModel.optionSelected('Mastercard', $event);">
                                                                    <span class="T7">Mastercard</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Amex" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Amex', $event);" ng-enter="CustomerOrderModel.optionSelected('Amex', $event);">
                                                                    <span class="T7">Amex</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Gift Card" class="paymentOptions">
                                                                <a  ng-click="CustomerOrderModel.optionSelected('Gift Card', $event);" ng-enter="CustomerOrderModel.optionSelected('Gift Card', $event);">
                                                                    <span class="T7">Gift Card</span>
                                                                </a>
                                                            </li>
                                                            <li data-value="Store Credit" class="paymentOptions"
                                                                ng-if="CustomerOrderModel.isRefundDepositBtnClicked == true">
                                                                <a ng-click="CustomerOrderModel.optionSelected('Store Credit', $event);"
                                                                ng-enter="CustomerOrderModel.optionSelected('Store Credit', $event);"> 
                                                                    <span class="T7">Store Credit</span>
                                                                </a>
                                                            </li>




                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-3 Plr0 showPaymentSelector" id="CO_Deposits_block_deposit_header_amount_block" 
                                                ng-show="(CustomerOrderModel.Deposits.length == 0 || CustomerOrderModel.isRefundDepositBtnClicked == true 
                                                || CustomerOrderModel.isPaymentDropdownOpen == true) && CustomerOrderModel.selectedOption != 'Please Select'"
                                                ng-class="{'showAddBtn' : (CustomerOrderModel.showHideAddDepositBtn() == true) || 
                                                            (CustomerOrderModel.isRefundDepositBtnClicked == false && CustomerOrderModel.selectedOption != 'Please Select' && CustomerOrderModel.deposit_Amount > 0), 
                                                'showRefundBtn' : CustomerOrderModel.Deposits.length > 0 && (CustomerOrderModel.isRefundDepositBtnClicked == true 
                                                        && CustomerOrderModel.selectedOption != 'Please Select' && CustomerOrderModel.deposit_Amount > 0)}"><!-- style removed, ng-class, class,  added bby kajal 17th april, 2017 -->
                                                <!-- style="padding-left: 43px;" Commented by kajal 02/24/2017 #1587-->
                                                <div id="CO_Deposits_block_deposit_header_amount_block_pricebox" class="pricebox pull-left">
                                                    <div class="input-group"><!-- style="width: 300px; removed" 17th april 2017 by kajal -->
                                                        <span class="input-group-addon">$</span>

                                                        <price-only-input id-value="CO_Deposits_block_deposit_header_amount_block_pricebox_input" 
                                                        class="form-control dealDepositBox dealDepositeTextBox"  
                                                            ng-class="{'text_box_error' : CustomerOrderModel.isDepositAmountError}"
                                                            ng-disabled="CustomerOrderModel.isReverseDeposit || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" 
                                                            packaged = "!(CustomerOrderModel.isReverseDeposit || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed')"
                                                            input-value="CustomerOrderModel.deposit_Amount"
                                                            validation-modal = "CustomerOrderModel.DealFormValidationModal"
                                                            validation-modal-key = "DownPayment"
                                                            max-length = "15"
                                                            place-holder-value = "0.00"
                                                            precision-length = "2"
                                                            input-model = "CustomerOrderModel"
                                                            key-down="CustomerOrderModel.showHideAddDepositBtn"
                                                            ng-enter-in-pricebox="CustomerOrderModel.addOrRefundDepositOnEnter();"/>
                                                            <!-- style="width: 62% removed 17th april 2017 by kajal -->
                                                            <!-- ng-enter to ng-enter-in-pricebox 9th march, 2017 by kajal #1587 --><!-- Edited by kajal 02/24/2017 #1587 -->

                                                            <!-- id: CO_Deposits_block_deposit_header_amount_block_pricebox -> CO_Deposits_block_deposit_header_amount_block_pricebox_input: Changed By Pooja 1 Mar.2017-->
                                                        <div id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg1" class="error_msg" ng-if="CustomerOrderModel.isDepositAmountError">
                                                            <span id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg_span1" ng-bind="CustomerOrderModel.isDepositAmountErrorMsg">Please Enter Amount</span>
                                                        </div>
                                                        <button ng-if="(CustomerOrderModel.showHideAddDepositBtn() == true) || 
                                                            (CustomerOrderModel.isRefundDepositBtnClicked == false 
                                                            && CustomerOrderModel.selectedOption != 'Please Select' 
                                                            && CustomerOrderModel.deposit_Amount > 0)"
                                                            class="btn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_addbtn"
                                                            ng-click="CustomerOrderModel.addDeposit();"  
                                                            ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"
                                                            style="margin-left:34px;background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                            font-size: 12px;padding: 7px 20px;font-weight: 600;">Add</button> <!-- style edited 17th april, 2017 kajal --> <!-- Edited by kajal 02/24/2017 #1587 -->
                                                        <!-- START: Added by kajal 17th april, 2017 -->
                                                        <button class="btn" 
                                                        ng-click="CustomerOrderModel.refundDepositBtnClick($event)" 
                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}"
                                                        ng-if="CustomerOrderModel.Deposits.length > 0 
                                                        && (CustomerOrderModel.isRefundDepositBtnClicked == true 
                                                        && CustomerOrderModel.selectedOption != 'Please Select' && CustomerOrderModel.deposit_Amount > 0) 
                                                        && CustomerOrderModel.calculateLeftPanelDeposits() > 0"
                                                        style="margin-left:34px;background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                        font-size: 12px;padding: 7px 20px;font-weight: 600;">
                                                            Refund Deposit
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- START: EDited by kajal 17th april, 2017 -->
                                            <div class="col-lg-3 col-md-3 Plr0" ng-show="CustomerOrderModel.Deposits.length > 0 
                                                && (CustomerOrderModel.isRefundDepositBtnClicked == false && CustomerOrderModel.isPaymentDropdownOpen == false) 




                                                && CustomerOrderModel.calculateLeftPanelDeposits() > 0">
                                                <div class="addADepositBtnInGrid addADepositBtn ML0 PL0">
                                                    <button class="btn btn-default refundDepositBtn text-uppercase" 
                                                        ng-click="CustomerOrderModel.isRefundDepositBtnClicked = true;CustomerOrderModel.refundDepositBtnClick($event)" 

                                                        ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">
                                                        Refund Deposit
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- END: Edited by kajal 17th april, 2017 -->
                                            <!-- START: 17th april, 2017 kajal -->
                                            <div class="col-lg-3 col-md-3 Plr0" 
                                            ng-if="(CustomerOrderModel.Deposits.length == 0 && CustomerOrderModel.selectedOption != 'Please Select')
                                                    || CustomerOrderModel.isRefundDepositBtnClicked == true 
                                                    || CustomerOrderModel.isPaymentDropdownOpen == true"
                                            ><!-- ng-if="CustomerOrderModel.Deposits.length > 0 
                                            && CustomerOrderModel.isPaymentDropdownOpen == true" edited by kajal 21st APRIL, 2017 --> 
                                                <button class="btn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_cancelbtn"
                                                    ng-click="CustomerOrderModel.cancelDeposit();"
                                                    ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"
                                                    style="background-color: #00aeef; color: #fff; text-transform: uppercase;
                                                    font-size: 12px;padding: 7px 20px;font-weight: 600;">Cancel</button><!-- ng-click edited by kajal 21st APRIL, 2017 -->
                                            </div>
                                            <!-- END: 17th april, 2017 kajal -->
                                        </div>
                                    </div>
                                    
                                    <!-- END: Added by kajal 02/24/2017 #1587 -->

                                    </div>
                                    
                                <div class="gid_container_Customer depositSectionTable" id="CO_deposit_block_gid_container" ng-show="CustomerOrderModel.Deposits.length > 0"><!-- Added by kajal 02/24/2017 #1587 -->
                                    <table class="table" id="CO_deposit_block_gid_container_table">
                                        <col width="1%"  />
                                        <col width="3%"  />
                                        <col width="15%"  />
                                        <col width="31%" /> <!-- Added by kajal - #1302 - 11/24/2016 -->
                                        <col width="20%" /><!-- 12/01/2016  -->
                                        <col width="16%"  />
                                        <col width="5%" /><!-- 12/01/2016  -->
                                        <col width="3%" />
                                        <tr class="tableHeader T3 C2" id="CO_final_invlice_block_gid_container_table_tableHeader" >
                                            <th></th>
                                            <th></th>
                                            <th>DATE</th>
                                            <th>PAYMENT METHOD</th>
                                            <th></th>
                                            <th class="text-right">AMOUNT</th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                        <tbody ng-repeat="deposit in CustomerOrderModel.Deposits">
                                            <tr class="T7" ng-class-even="'C2'" ng-click="CustomerOrderModel.editDepositItem($index)"
                                            ng-class="{'shrinkTd':(deposit.PaymentMethod == 'Invoice' || deposit.PaymentMethod == '' || deposit.PaymentMethod == null || deposit.PaymentMethod == undefined) 
                                            && (deposit.COInvoiceNumber == '' || deposit.COInvoiceNumber == null || deposit.COInvoiceNumber == undefined), 'disabledEditableRow' : !GroupOnlyPermissions['Customer invoicing']['create/modify']}"><!-- 17th april, 2017 by kajal -->
                                                <td style="background-color:#fff"></td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_1_{{$index}}">




                                                </td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_2_{{$index}}">{{deposit.CreatedDate}}</td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_3_{{$index}}">
                                                    {{deposit.PaymentMethod == 'Invoice' ? deposit.COInvoiceNumber : deposit.PaymentMethod}}
                                                    <!-- <u></u> removed by kajal 02/24/2017 #1587 -->
                                                    <!-- START: added by kajal 02/24/2017 #1587 -->
                                                    <div>
                                                        <span class="referenceNoInDeposit">Reference Number {{deposit.DepositName}}</span>
                                                    </div>
                                                    <!-- START: added by kajal 02/24/2017 #1587 -->
                                                </td><!-- <u> removed by kajal 02/24/2017 #1587 -->
                                                <td class="Requiredtd" ng-if="deposit.Deal != null">Deposit on Deal</td><!-- Added by kajal - #1302 - 11/24/2016 -->
                                                <td class="" ng-if="deposit.Deal == null"></td> <!-- Added by kajal - #1302 - 11/24/2016 -->
                                                <td class="text-right" id="CO_Deposits_block_gid_container_table_tbody_tr_td_4_{{$index}}" ng-class="{'Requiredtd' : deposit.Amount < 0}">
                                                    {{deposit.Amount | currency}}
                                                </td>
                                                <td></td>
                                                <td style="background-color:#fff"></td>
                                            </tr>
























                                            <!-- START: Added by kajal 02/24/2017 #1587 -->
                                            <tr class="edit_panel sample-show-hide T7" ng-show="CustomerOrderModel.Deposits_editRow[$index].isEdit
                                            && (deposit.ReverseLink == '' || deposit.ReverseLink == null || !(deposit.Deal == undefined || deposit.Deal == null || deposit.Deal == '' || deposit.Amount < 0))
                                            && deposit.PaymentMethod != 'Invoice'
                                            && deposit.Amount <= CustomerOrderModel.calculateLeftPanelDeposits()"><!-- edited by kajal 7th april, 2017 #1815 -->
                                            <!-- ng-hide="(!(deposit.ReverseLink == '' || deposit.ReverseLink == null)) || (deposit.Deal != undefined && deposit.Deal != null && deposit.Deal != '') || (deposit.Amount < 0)"> --><!-- ng-hide ?? -->
                                                <td style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <td colspan="9" class="edit-service-item" id="CO_Deposits_block_gid_container_table_tbody_expandtr_td_1_{{$index}}" style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-11" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                        <!-- <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down"></i>
                                                            <span>Actions (1 Actions Available)</span>  
                                                        </div> ???????????????? -->
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                    <label>
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.Deposits_editRow[$index].radioValue == 0 }" 
                                                                            ng-click="CustomerOrderModel.Deposits_editRow[$index].radioValue = 0">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Reverse Deposit</span>
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editFormBtn" role="button"
                                                                    ng-click="CustomerOrderModel.ReverseDeposit(deposit);CustomerOrderModel.addDeposit();">Apply</a>                                
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <!-- END: Added by kajal 02/24/2017 #1587 -->
                                        </tbody>
                                    </table>
                                </div>
                                <!-- START: Added by kajal 02/24/2017 #1587 -->
                                <div ng-show="CustomerOrderModel.Deposits.length > 0" class="col-md-12">
                                    <div class="col-md-offset-8 col-md-3 depositTotalSpan">
                                        <span class="T3">Total Deposits</span>
                                    </div>
                                    <div class="col-md-1 text-right">
                                        <span class="T3">{{(CustomerOrderModel.calculateLeftPanelDeposits()) | currency}}</span>
                                        <!-- CustomerOrderModel.calculateDepositTotal() ==> CustomerOrderModel.calculateLeftPanelDeposits() by kajal 7th april, 2017 #1815 -->
                                    </div>
                                </div>
                                <!-- END: Added by kajal 02/24/2017 #1587 -->
                            </div>
                        </div>
                          </div>
                        <!-- End: Sprint3-Ticket#131: Added by Pooja 15-09-2016 -->
                        <div id="CheckoutSection" class="CheckoutSectionClass" 
                        ng-show="(CustomerOrderModel.activeSidepanelink =='#CheckoutSection' || (CustomerOrderModel.showCheckoutSection == true
	                        && CustomerOrderModel.CheckOutItems.length > 0 
	                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1)) && 
					                (CustomerOrderModel.coHeaderDetails.OrderStatus != 'Quote') 
					                && GroupOnlyPermissions['Customer invoicing']['create/modify']">
                        <!-- class="deposit_checkout_mh" removed 7th march, 2017 by kajal #1587 -->

                        <!-- Edited by kajal 03/03/2017 #1590 --> <!-- class="deposit_checkout_mh CheckoutSectionClass": Added By ooja 3 Mar. 2017 -->
                        <div class="sectionHeader row"  
                        ng-show="CustomerOrderModel.CheckOutItems.length > 0 
                        && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1">
                         <!-- && CustomerOrderModel.checkOutMode != 'Internal' removed 7th march, 2017 by kajal #1587 -->
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                        <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;"
                                            ng-show="!CustomerOrderModel.displaySections.Checkout || CustomerOrderModel.collapseCheckoutSection == true"
                                            ng-Click="CustomerOrderModel.checkoutRightArrowClick()">
                                        </i>  <!-- ng-show: || CustomerOrderModel.collapseCheckoutSection == true: 
                                                    ng-click: CustomerOrderModel.displaySections.Checkout = true; -> CustomerOrderModel.checkoutRightArrowClick()
                                                    Added and Changed By Pooja 3 Mar. 2017 -->
                                        <i class="fa fa-angle-down" style="width:10px;"
                                            ng-show="CustomerOrderModel.displaySections.Checkout && CustomerOrderModel.collapseCheckoutSection == false"
                                            ng-Click="CustomerOrderModel.checkoutDownArrowClick()">
                                        </i> <!--  ng-show: && CustomerOrderModel.collapseCheckoutSection == false;
                                                ng-click: CustomerOrderModel.displaySections.Checkout = false -> CustomerOrderModel.checkoutDownArrowClick():
                                                Added and Changed By Pooja 3 Mar. 2017 -->
                                       
                                       
                                        <div class="hideDepositBtn" ng-show="CustomerOrderModel.Payment.length>0 || CustomerOrderModel.collapseCheckoutSection == false"><!-- Added by kajal 03/03/2017 #1590 -->

                                        <span class="divider">|</span>
                                            <span class ="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Checkout}} </span>
                                        <span class="T2">Checkout</span>
                                        </div><!-- Added by kajal 03/03/2017 #1590 -->
                                        <div ng-show="CustomerOrderModel.Payment.length == 0 && CustomerOrderModel.collapseCheckoutSection == true" class="addADepositBtnInGrid deposit_checkout_mh"> 
                                            <div>
                                                <button class="btn btn-default editDepositBtn text-uppercase addCheckoutBtn" 
                                                    ng-click="CustomerOrderModel.expandCheckoutSection($event)" 
                                                    ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">Checkout
                                                </button><!-- Class: addCheckoutBtn: Added By Pooja 3 Mar. 2017 -->
                                            </div>
                                        </div>
                                        <!-- END: EDited by kajal 03/03/2017 #1590 -->
                                    </span>

                                    <!-- START: Ticket#1984: Added by Pooja 3 May 2017 -->
                                    <span class="ActionIcons service_order_print_icon pull-left " ng-if="CustomerOrderModel.isPrintInvoiceBtnVisible == true">
                                        <i class="fa fa-print" ng-click="CustomerOrderModel.invoicePrintPriviewBeforeFinalize()">
                                        </i>
                                    </span>
                                    <!-- End: Ticket#1984: Added by Pooja 3 May 2017 -->
                                </div>
                            </div>
                        </div>
            

                        <div >
                            <div class="main_section_COU row depositSectionBody" ng-show="CustomerOrderModel.displaySections.Checkout && CustomerOrderModel.CheckOutItems.length > 0 && CustomerOrderModel.CoTypesToVisibleSectionsMap[CustomerOrderModel.coHeaderDetails.SellingGroup].indexOf('Show_Checkout')>-1
                                && CustomerOrderModel.collapseCheckoutSection == false"> <!-- ng-show: && CustomerOrderModel.collapseCheckoutSection == false: Added By Pooja 3 Mar. 2017 -->
                                <div class="row checkout_mode" ng-if="CustomerOrderModel.checkoutModeContainerShown()">
                                    <i class="fa fa-user modeIcon" aria-hidden="true"
                                        ng-if="CustomerOrderModel.checkoutModeVisible('Customer')"
                                        ng-class="{'activeCheckoutmode' : CustomerOrderModel.checkOutMode == 'Customer'}"
                                        ng-click="CustomerOrderModel.changeCheckoutMode('Customer')"></i>
                                    <i class="fa fa-paper-plane modeIcon" aria-hidden="true" 
                                        ng-if="CustomerOrderModel.checkoutModeVisible('Third-Party')"
                                        ng-class="{'activeCheckoutmode' : CustomerOrderModel.checkOutMode == 'Third-Party'}"
                                        ng-click="CustomerOrderModel.changeCheckoutMode('Third-Party')"></i>
                                    <i class="fa fa-home modeIcon" aria-hidden="true"
                                        ng-if="CustomerOrderModel.checkoutModeVisible('Internal')"
                                        ng-class="{'activeCheckoutmode' : CustomerOrderModel.checkOutMode == 'Internal'}"
                                        ng-click="CustomerOrderModel.changeCheckoutMode('Internal')"></i>
                                     <i class="fa fa-thumbs-up modeIcon" aria-hidden="true"
                                        ng-if="CustomerOrderModel.checkoutModeVisible('Deal')"
                                        ng-class="{'activeCheckoutmode' : CustomerOrderModel.checkOutMode == 'Deal'}"
                                        ng-click="CustomerOrderModel.changeCheckoutMode('Deal')"></i>
                                </div>
                                <div class="row checkout_mode_name">
                                    <p>{{CustomerOrderModel.checkOutMode}} Checkout</p>
                                </div>
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">Items</span>
            
                                        <span class="ActionIcons">
            
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Checkout Items Section"></i>
                                        </span>
                                    </p>
                                </div>
                                <div class="gid_container_Customer" id="CO_CheckOutGrid_gid_container">
                                    <table class="table" id="CO_CheckOutGrid_gid_container_table">
                                        <col width="1%" />
                                        <col width="3%" />
                                        <col width="5%" />
                                        <col width="5%" />
                                        <col width="40%" />
                                        <col width="15%" />
                                        <col width="15%" />
                                        <col width="15" />
                                        <col width="1%" />
                                        <tr class="tableHeader T3 C2" id="CO_final_invlice_block_gid_container_table_tableHeader" >
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th>ITEM/DESC</th>
                                            <th>QTY</th>
                                            <th>PRICE</th>
                                            <th>TOTAL</th>
                                            <th></th>
                                        </tr>
                                        <tbody>
                                            <tr ng-repeat="CheckOutItem in CustomerOrderModel.CheckOutItems" class="T7" ng-class-even="'C2'" 
                                                ng-class="{'disabledCheckOut' : (CustomerOrderModel.checkOutMode != CheckOutItem.CheckoutType) || CustomerOrderModel.EnableCheckout(CheckOutItem,$Index)
                                                			|| CustomerOrderModel.disableCheckOutItemAddAction(CheckOutItem) }" >
                                                <td style="background-color:#fff"></td>
                                                <td id="CO_CheckOutGrid_gid_container_table_tbody_tr_td_1_{{$index}}"
                                                    style="padding-top:12px;padding-bottom:12px" >
                                                    <span class="chk_tick" 
                                                        ng-click="AddRemoveItems($index)"  
                                                        ng-class="{'chked' : CheckOutItem.IsActive, 
                                                        'disabledChk' : (CustomerOrderModel.checkOutMode != CheckOutItem.CheckoutType) || CustomerOrderModel.EnableCheckout(CheckOutItem,$Index) 
                                                        				|| CustomerOrderModel.disableCheckOutItemAddAction(CheckOutItem)}">
                                                    <i class="fa fa-check-square chksqure"></i>
                                                    </span>
                                                </td>
                                                <td>
                                                    <span class="chkoutmodeicon" ng-if="CheckOutItem.CheckoutType == 'Customer'">
                                                    <i class="fa fa-user" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="CheckOutItem.CheckoutType == 'Third-Party'">
                                                    <i class="fa fa-paper-plane" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="CheckOutItem.CheckoutType == 'Internal'">
                                                    <i class="fa fa-home" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="CheckOutItem.CheckoutType == 'Deal'">
                                                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                                                    </span>
                                                </td>
                                                <td>
                                                    <span ng-if="CheckOutItem.ItemType == 'Part'">
                                                    <img src="{!Application_Images}/sparkplug.png" style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite sparkplug"></div> -->
                                                    </span>
                                                    <span ng-if="CheckOutItem.ItemType == 'Kit'">
                                                    <i class="fa fa-link  Plr5 FC7 F18"></i>
                                                    </span>
                                                    <span ng-if="CheckOutItem.ItemType == 'Fee'">
                                                    <img src="{!Application_Images}/dollor.png"  style="height: 26px;width: 26px;border-radius: 13px;"/>
                                                    <!-- <div class="sprite dollor"></div> -->
                                                    </span>
                                                    <span ng-if="CheckOutItem.ItemType == 'Labor'">
                                                    <img src="{!Application_Images}/hammer.png"  style="height: 26px;width: 26px;"/>
                                                    <!-- <div class="sprite hammer"></div> -->
                                                    </span>
                                                    <span ng-if="CheckOutItem.ItemType == 'Work'">
                                                    <span class="workIcon Plr5 FC7 F18">W</span>
                                                    </span>
                                                    <span ng-if="CheckOutItem.ItemType == 'Claim'">
                                                    <span class="claimIcon Plr5 FC7 F18">C</span>
                                                    </span> 
                                                </td>
                                                <td id="CO_CheckOutGrid_gid_container_table_tbody_tr_td_2_{{$index}}"><u>{{CheckOutItem.Item}}</u></td>
                                                <td id="CO_CheckOutGrid_gid_container_table_tbody_tr_td_3_{{$index}}">{{CheckOutItem.Qty | number:2}}</td>
                                                <td id="CO_CheckOutGrid_gid_container_table_tbody_tr_td_4_{{$index}}">
                                                    <span ng-if="CheckOutItem.Price != null">{{CheckOutItem.Price | currency}}</span>
                                                </td>
                                                <td id="CO_CheckOutGrid_gid_container_table_tbody_tr_td_5_{{$index}}">
                                                    <!-- <span ng-show="!CustomerOrderModel.IsTaxIncludingPricing">{{(CheckOutItem.Total + CheckOutItem.TaxAmount) | currency}}</span> -->
                                                    <span>{{CheckOutItem.Total | currency}}</span>       
                                                </td>
                                                <td style="background-color:#fff"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="main_section_COU_Header row" id="CheckoutFinalizeSection"
                                   ><!-- ng-if="CustomerOrderModel.checkOutMode != 'Internal'" Edited 7th march, 2017 by kajal #1587 -->
                                    <p class="actionRow T2" ng-show="CustomerOrderModel.calculateBalanceDue() != 0 && CustomerOrderModel.checkOutMode != 'Internal'
                                    && CustomerOrderModel.checkOutMode != 'Third-Party' && CustomerOrderModel.checkOutMode != 'Deal'"><!-- 17th april, 2017 kajal -->
                                        <span class="sectionText">Payments</span>
                                        <span class="ActionIcons">
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Checkout Payment Section"></i>
                                        </span>
                                    </p>
                                    <p class="actionRow T2" ng-show="CustomerOrderModel.calculateBalanceDue() == 0 || CustomerOrderModel.checkOutMode == 'Internal'
                                    || CustomerOrderModel.checkOutMode == 'Third-Party' || CustomerOrderModel.checkOutMode == 'Deal'"><!-- 17th april, 2017 kajal -->
                                    <!-- Edited 7th march, 2017 by kajal #1587 -->
                                        <span class="sectionText">Finalize </span>
                                        <span class="ActionIcons">
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Finalize Order Section"></i>
                                        </span>
                                    </p>
                                    
                                    <!-- START: Added by kajal 03/03/2017 #1590 -->
                                    <div class="row" >
                                        <div class="col-md-8 col-lg-8 totalSalesTaxForCheckout">



                                            <div class="col-md-12 Plr0" 
                                            ng-show="CustomerOrderModel.calculateBalanceDue() != 0 
                                            && CustomerOrderModel.isPaymentDropdownVisibleForCheckout == true
                                            && CustomerOrderModel.displayAddPaymentBtnForCheckout == false
                                            && CustomerOrderModel.checkOutMode != 'Internal'
                                            && CustomerOrderModel.checkOutMode != 'Third-Party' 
                                            && CustomerOrderModel.checkOutMode != 'Deal'"><!-- 17th april, 2017 kajal --><!-- || CustomerOrderModel.displayAddPaymentBtnForCheckout == false Edited 7th march, 2017 by kajal #1587 -->

                                                <div class="col-md-3 col-lg-3 Pr0" 
                                                ng-show="CustomerOrderModel.isPaymentDropdownVisibleForCheckout == true 
                                                || CustomerOrderModel.displayAddPaymentBtnForCheckout == false" style="width:29.9%"><!-- Edited 7th march, 2017 by kajal #1587 -->
                                                    <div class="checkoutPaymentDropdown input-group">
                                                        <div class="input-group-btn" id="checkoutDropDownDiv" ng-class="{'open': CustomerOrderModel.isPaymentDropdownOpenForCheckout == true}">
                                                            <button type="button" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle depositSelectDropdownBtn T7" 
                                                                id="depositSelectDropdownBtn" data-toggle="dropdown"
                                                                ng-class="{'selectedOptionTextColor': CustomerOrderModel.selectedOptionForCheckout != 'Please Select'}"
                                                                ng-click="CustomerOrderModel.isDepositAmountError = false;"> <!-- Edited by kajal 02/24/2017 #1587 -->
                                                                <span class="fa fa-angle-down"></span>{{ CustomerOrderModel.selectedOptionForCheckout }}
                                                            </button><!-- Edited 15th march 2017 -->
                                                            <ul class="checkoutPaymentUL dropdown-menu" role="menu" id="checkoutPaymentUL_Id"> 
                                                                <li data-value="Cash" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Cash', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Cash', $event);"> 
                                                                        <span class="T7">Cash</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Debit" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Debit', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Debit', $event);"> 
                                                                        <span class="T7">Debit</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Cheque" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Cheque', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Cheque', $event);"> 
                                                                        <span class="T7">Cheque</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Visa" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Visa', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Visa', $event);">
                                                                        <span class="T7">Visa</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Mastercard" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Mastercard', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Mastercard', $event);">
                                                                        <span class="T7">Mastercard</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Amex" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Amex', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Amex', $event);">
                                                                        <span class="T7">Amex</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Gift Card" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Gift Card', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Gift Card', $event);">
                                                                        <span class="T7">Gift Card</span>
                                                                    </a>
                                                                </li>
                                                                <li data-value="Charge Account" class="paymentOptions">


                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Charge Account', $event);" ng-enter="CustomerOrderModel.optionSelectedForCheckout('Charge Account', $event);"> 
                                                                        <span class="T7">Charge Account</span>
                                                                    </a>
                                                                </li>
                                                                <!-- START: 10th march 2017 kajal -->
                                                                <li data-value="Use Deposit" class="paymentOptions">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Use Deposit', $event);" 
                                                                    ng-enter="CustomerOrderModel.optionSelectedForCheckout('Use Deposit', $event);"> 
                                                                        <span class="T7">Use Deposit</span>
                                                                    </a>
                                                                </li>
                                                                <!-- END: 10th march 2017 kajal -->
                                                                <!-- Start: Added by richa #1969 -->
                                                                <li data-value="Use Deposit" class="paymentOptions" ng-if="CustomerOrderModel.isFinancingPaymentMethodAvailable()">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Financing', $event);" 
                                                                    ng-enter="CustomerOrderModel.optionSelectedForCheckout('Financing', $event);"> 
                                                                        <span class="T7">Financing</span>
                                                                    </a>
                                                                </li>
                                                                <!-- End: Added by richa #1969 -->
                                                                
                                                                <li data-value="Store Credit" class="paymentOptions"
                                                                	ng-if="CustomerOrderModel.isStoreCreditPaymentMethodAvailable()">
                                                                    <a  ng-click="CustomerOrderModel.optionSelectedForCheckout('Store Credit', $event);" 
                                                                    ng-enter="CustomerOrderModel.optionSelectedForCheckout('Store Credit', $event);"> 
                                                                        <span class="T7">Store Credit</span>
                                                                    </a>
                                                                </li>
                                                            </ul>


                                    </div>
                                                        <!-- START: added by kajal 7th april, 2017 #1815 -->
                                                       <p class="Requiredtd depositAmountMsgInCheckout" 
                                                            ng-if="((!CustomerOrderModel.isDealCheckoutActive && (CustomerOrderModel.calculateDepositTotalWithoutDeal() - CustomerOrderModel.calculateDepositUsed() > 0))
                                                            || (CustomerOrderModel.isDealCheckoutActive && (CustomerOrderModel.calculateDealDepositTotal() - CustomerOrderModel.calculateDepositUsed() > 0)))
                                                            && CustomerOrderModel.calculateBalanceDue() != 0 
                                                            && CustomerOrderModel.isPaymentDropdownVisibleForCheckout == true
                                                            && CustomerOrderModel.displayAddPaymentBtnForCheckout == false
                                                            && CustomerOrderModel.checkOutMode != 'Internal'"><!-- 28th april, 2017 kajal -->
                                                            <span>{{(CustomerOrderModel.isDealCheckoutActive ? (CustomerOrderModel.calculateDealDepositTotal()) :
                                                            	 (CustomerOrderModel.calculateDepositTotalWithoutDeal() - CustomerOrderModel.calculateDepositUsed())) | currency}} in deposits</span><!-- 28th april, 2017 kajal -->
                                                            <span>available for invoice payments</span>
                                                        </p><!-- CustomerOrderModel.calculateDepositTotal() -->
                                                        <!-- END: added by kajal 7th april, 2017 #1815 -->
                                </div>
                                                </div>




                                                <!-- col-lg-3 col-md-3 -->
                                                <div class="col-lg-7 col-md-7 Plr0" id="CO_Deposits_block_deposit_header_amount_block" 
                                                    ng-show="CustomerOrderModel.isPaymentDropdownVisibleForCheckout == true 
                                                    && ((CustomerOrderModel.selectedOptionForCheckout != 'Please Select') 
                                                    || (CustomerOrderModel.selectedOptionForCheckout == 'Please Select' && CustomerOrderModel.Payment != undefined && CustomerOrderModel.Payment != '' && CustomerOrderModel.Payment != null && CustomerOrderModel.Payment.length > 0)) 
                                                    && CustomerOrderModel.displayAddPaymentBtnForCheckout == false"><!-- col-lg-5 ==> col-lg-7 edited kajal 17th april, 2017 -->
                                                    <!--  || CustomerOrderModel.displayAddPaymentBtnForCheckout == false ??  -->
                                                    <!--&& CustomerOrderModel.checkOutMode != 'Internal' -->
                                                    <!-- Edited 7th march, 2017 by kajal #1587 -->
                                                    <div id="CO_Deposits_block_deposit_header_amount_block_pricebox" class="pricebox pull-left">
                                                        <div class="input-group" style="width: 440px;"><!-- width: 320px ==> 440 col-lg-7 edited kajal 17th april, 2017 -->
                                                            <span class="input-group-addon" ng-if="!CustomerOrderModel.cancelPaymentClicked">$</span><!-- kajal 21th APRIL, 2017 -->
                                                                <input id="CO_Deposits_block_deposit_header_amount_block_pricebox_input_For_Checkout" type="text" 
                                                                    class="form-control dealDepositBox" 
                                                                    ng-class="{'text_box_error' : CustomerOrderModel.isPaymentAmountError}"
                                                                    ng-disabled="CustomerOrderModel.isReversePayment || CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'" 
                                                                    ng-model="CustomerOrderModel.Payment_Amount" 
                                                                    style="width: 168px; min-height: 34px; margin-top: 0px;" 
                                                                    placeholder = "0.00"
                                                                    precision-length = "2"
                                                                    max-length = "15"
                                                                    ng-focus="CustomerOrderModel.displayTotalCheckoutAmount($event)" 
                                                                    ng-blur = "CustomerOrderModel.hideTotalCheckoutAmount()"
                                                                    ng-change = "CustomerOrderModel.displayTotalCheckoutAmount($event)"
                                                                    ng-enter-in-pricebox="CustomerOrderModel.addOrRefundPaymentOnNgEnter();" 
                                                                    ng-if="!CustomerOrderModel.cancelPaymentClicked"/><!-- kajal 21th APRIL, 2017 --><!-- ng-enter-in-pricebox fron ng-enter Added by Kajal 9 Mar. 2017 -->
                                                                    <!-- style="width: 63%;"   -->
                                                                                                                
                                                            <div id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg" class="error_msg" ng-if="CustomerOrderModel.isPaymentAmountError && !CustomerOrderModel.cancelPaymentClicked"><!-- kajal 21th APRIL, 2017 -->
                                                                <span id="CO_Deposits_block_deposit_header_amount_block_pricebox_error_msg_span" ng-bind="CustomerOrderModel.isPaymentAmountErrorMsg">Please Enter Amount</span>
                                                            </div>
                                                            <button ng-if="(CustomerOrderModel.Payment_Amount != 0) && CustomerOrderModel.calculateBalanceDue() > 0"
                                                                class="btn addRefundPaymentBtn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_addbtn_Payments"
                                                                ng-click="CustomerOrderModel.addPayment();"  
                                                                ng-class="{'C5' : CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || CustomerOrderModel.selectedOptionForCheckout == 'Please Select'}"



                                                                ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || CustomerOrderModel.selectedOptionForCheckout == 'Please Select'">Add</button>
                                                            <button ng-if="(CustomerOrderModel.Payment_Amount != 0) && CustomerOrderModel.calculateBalanceDue() < 0"
                                                                class="btn addRefundPaymentBtn refundBtn1" id="CO_Deposits_block_deposit_header_amount_block_pricebox_addbtn_Payments"
                                                                ng-click="CustomerOrderModel.refundCheckoutPayment();"  
                                                                ng-class="{'C5' : CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || CustomerOrderModel.selectedOptionForCheckout == 'Please Select'}"



                                                                ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed' || CustomerOrderModel.selectedOptionForCheckout == 'Please Select'">Refund</button>
                                                            <!-- Added by kajal 12th april, 2017 -->
                                                            <button ng-if="CustomerOrderModel.showCancelBtnInCheckout() && CustomerOrderModel.cancelPaymentClicked == false"
                                                                class="btn addRefundPaymentBtn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_cancelbtn_Payments"
                                                                ng-click="CustomerOrderModel.cancelPayment();"  
                                                                ng-class="{'C5' : CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed',
                                                                'ML0' : CustomerOrderModel.isPaymentDropdownVisibleForCheckout == true && (CustomerOrderModel.Payment_Amount == 0 || CustomerOrderModel.Payment_Amount == '')
                                                                && CustomerOrderModel.cancelPaymentClicked}"
                                                                ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'">Cancel</button><!-- ng-if edited by kajal 3rd may 2017, kajal -->
                                                            <!-- Added by kajal 12th april, 2017 -->
                                                        </div>
                                                    </div>
                                                    <!-- Start: Added by richa #1991 -->
                                                    <div ng-if="CustomerOrderModel.selectedOptionForCheckout == 'Cash' && CustomerOrderModel.calculateBalanceDue() >= 0" 
                                                        class="AmountDescContainer">
                                                        <div class="P0">
                                                            <p class="AmountDesc">Change Due {{((CustomerOrderModel.Payment_Amount - CustomerOrderModel.RoundedBalanceDue) > 0 ? (CustomerOrderModel.Payment_Amount - CustomerOrderModel.RoundedBalanceDue) : 0) | currency}}</p>
                                                        </div>
                                                    </div>
                                                    <!-- End: Added by richa #1991 -->
                                                    <div class ="pull-left payment_TotalAmount" ng-show="CustomerOrderModel.payment_TotalAmount && !CustomerOrderModel.cancelPaymentClicked && !(CustomerOrderModel.selectedOptionForCheckout == 'Cash' && CustomerOrderModel.calculateBalanceDue() >= 0)" > <!-- kajal 21th APRIL, 2017 --> <!-- CustomerOrderModel.selectedOptionForCheckout == 'Cash' && CustomerOrderModel.calculateBalanceDue() >= 0 Added by richa told by hitesh #1991 -->
                                                        <p class ="Requiredtd">{{CustomerOrderModel.calculateBalanceDue() >= 0 ? '$' :'-$'}}
                                                            {{CustomerOrderModel.calculateBalanceDue() >= 0 ? CustomerOrderModel.calculateBalanceDue() : -1 * CustomerOrderModel.calculateBalanceDue()}} <span>Owing</span>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12 col-lg-12 Plr0" 
                                            ng-show="CustomerOrderModel.calculateBalanceDue() > 0 
                                            && CustomerOrderModel.checkOutMode != 'Internal'
                                            && CustomerOrderModel.displayAddPaymentBtnForCheckout == true
                                            && CustomerOrderModel.checkOutMode != 'Third-Party' 
                                            && CustomerOrderModel.checkOutMode != 'Deal'"><!-- 17th april, 2017 kajal --><!--&& CustomerOrderModel.isPaymentDropdownVisibleForCheckout == false  Edited 7th march, 2017 by kajal #1587 -->

                                               <div class="col-md-4 col-lg-4">
                                                   <div class="addADepositBtnInGrid addADepositBtn">
                                                        <button class="btn btn-default editDepositBtn text-uppercase" 
                                                            ng-click="CustomerOrderModel.addPaymentBtnClicked();">
                                                            Add Payment 
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12 col-lg-12 Plr0" 


                                            ng-show="CustomerOrderModel.calculateBalanceDue() < 0 
                                            && CustomerOrderModel.isPaymentDropdownVisibleForCheckout == false 

                                            && CustomerOrderModel.checkOutMode != 'Internal'
                                            && CustomerOrderModel.checkOutMode != 'Third-Party' 
                                            && CustomerOrderModel.checkOutMode != 'Deal'"><!-- 17th april, 2017 kajal --><!-- Edited 7th march, 2017 by kajal #1587 -->
                                               <div class="col-md-4 col-lg-4">
                                                   <div class="addADepositBtnInGrid addADepositBtn">
                                                        <button class="btn btn-default editDepositBtn text-uppercase" 
                                                            ng-click="CustomerOrderModel.refundPaymentBtnClicked();">
                                                            Refund 
                                                        </button>








                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12 col-lg-12 Plr0" 
                                            ng-show="CustomerOrderModel.calculateBalanceDue() == 0 || CustomerOrderModel.checkOutMode == 'Internal'
                                            || CustomerOrderModel.checkOutMode == 'Third-Party' 
                                            || CustomerOrderModel.checkOutMode == 'Deal'"><!-- 17th april, 2017 kajal --><!-- Edited 7th march, 2017 by kajal #1587 -->
                                                <!-- <button ng-if="CustomerOrderModel.Payment_Amount > 0"
                                                    class="btn" id="CO_Deposits_block_deposit_header_amount_block_pricebox_addbtn_Payments"
                                                    ng-click="CustomerOrderModel.addPayment();"  
                                                    ng-disabled="CustomerOrderModel.coHeaderDetails.OrderStatus == 'Closed'"
                                                    style="margin-left:34px;background-color: #00aeef; color: #fff; text-transform: uppercase;">Finalize Invoice</button> -->
                                                    
                                               <div class="col-md-4 col-lg-4 addADepositBtnInGrid finalizeInvoiceBtnSection" ng-show="!CustomerOrderModel.EnableFinaliseOrder()">
                                                    <button id="CO_active_invoice_not_Invoiced_gid_container_finalize_btn" 



                                                        class="btn btn-default text-uppercase finalizeInvOrderBtn" ng-class="{'active_btn' : CustomerOrderModel.EnableFinaliseInvoice() || !CustomerOrderModel.EnableFinaliseInvoice1(), 'C5': !CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1()}"  
                                                        ng-disabled='!CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1()' 
                                                        ng-click="FinaliseInvoice()"><!-- addmoreinfoBtn -->
                                                        FINALIZE INVOICE 
                                                        <!-- <i class="fa fa-angle-right" style="font-size: 15px; margin-left: 5px;"></i> -->
                                                    </button>
                                                </div>
                                                <div class="col-md-4 col-lg-4 addADepositBtnInGrid  finalizeInvoiceBtnSection" ng-show="CustomerOrderModel.EnableFinaliseOrder()">
                                                    <button id="CO_active_invoice_not_Invoiced_gid_container_finalize_btn" 



                                                        class="btn btn-default text-uppercase finalizeInvOrderBtn" ng-class="{'active_btn' : CustomerOrderModel.EnableFinaliseInvoice() || !CustomerOrderModel.EnableFinaliseInvoice1(), 'C5': !CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1()}"  
                                                        ng-disabled='!CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1()' 
                                                        ng-click="FinaliseOrder()"><!-- addmoreinfoBtn -->
                                                        FINALIZE ORDER 
                                                        <!-- <i class="fa fa-angle-right" style="font-size: 15px; margin-left: 5px;"></i> -->
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <div class="col-md-12 col-lg-12"
                                                style="margin-top: 10px;" 
                                                ng-show="CustomerOrderModel.calculateBalanceDue() == 0 || CustomerOrderModel.checkOutMode == 'Internal'
                                                        || CustomerOrderModel.checkOutMode == 'Third-Party' 
                                                        || CustomerOrderModel.checkOutMode == 'Deal'"><!-- 17th april, 2017 kajal --><!-- 7th march, 2017 by kajal #1587 -->
                                                <span class="chk_tick finalizeInvoiceCheckBox" 
                                                        ng-class="{'chked' : CustomerOrderModel.enablePrintInvoiceCheckBox == true, 
                                                                'disabledChk' : (!CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1())}" >
                                                    <i class="fa fa-check-square chksqure" ng-click="CustomerOrderModel.printInvoiceChkboxClicked();"></i><!-- CustomerOrderModel.enablePrintInvoiceCheckBox = !CustomerOrderModel.enablePrintInvoiceCheckBox -->
                                                </span>
                                                <span>Print Invoice</span>
                                            </div>
                                            
                                            <div class="col-md-12 col-lg-12"
                                                style="margin-top: 10px;" 
                                                ng-show="CustomerOrderModel.calculateBalanceDue() == 0 || CustomerOrderModel.checkOutMode == 'Internal'
                                                        || CustomerOrderModel.checkOutMode == 'Third-Party' 
                                                        || CustomerOrderModel.checkOutMode == 'Deal'"><!-- 17th april, 2017 kajal --><!-- 7th march, 2017 by kajal #1587 -->
                                                <span class="chk_tick finalizeInvoiceCheckBox" 
                                                        ng-class="{'chked' : CustomerOrderModel.enableEmailInvoiceCheckBox == true, 
                                                                'disabledChk' : (!CustomerOrderModel.EnableFinaliseInvoice() || CustomerOrderModel.EnableFinaliseInvoice1())}" >
                                                    <i class="fa fa-check-square chksqure" ng-click="CustomerOrderModel.emailInvoiceChkboxClicked();"></i>
                                                </span>
                                                <span>Email invoice to customer</span>
                                            </div>
                                            
                                            <div class="col-md-12 col-lg-12" 
                                                ng-show="CustomerOrderModel.coHeaderDetails.COType != 'Internal Service' && CustomerOrderModel.TotalDiscountAmount >0" 
                                                style="padding-top: 5px; margin-top: 10px;"><!-- 17th april, 2017 kajal --><!-- 7th march, 2017 by kajal #1587 -->
                                                <span class="chk_tick finalizeInvoiceCheckBox" 
                                                        ng-class="{'chked' : CustomerOrderModel.enableshowAmountSavedCheckBox == true}" >
                                                    <i class="fa fa-check-square chksqure" ng-click="CustomerOrderModel.showAmountSaved();"></i><!-- CustomerOrderModel.enablePrintInvoiceCheckBox = !CustomerOrderModel.enablePrintInvoiceCheckBox -->
                                                </span>
                                               <p class = "T7">Show amount saved <span ng-if = "CustomerOrderModel.enableshowAmountSavedCheckBox " style="padding-left: 20px;">{{CustomerOrderModel.TotalDiscountAmount | currency}}</span></p>
                                            </div>
                                            
                                            <div class="col-md-12">
                                                
                                            </div>
                                            
                                            
                                        </div>
                                        <div class="col-md-4 col-lg-4" style="width: 30%;">
                                            <div ng-repeat="tax in CustomerOrderModel.checkoutSalesTaxList"
                                                ng-if="!CustomerOrderModel.IsTaxIncludingPricing">
                                                    <div class="col-md-6 col-lg-6 totalSalesTaxForCheckoutLabel">
                                                    <span class="T3">{{tax.TaxName}}</span>
                                                </div>
                                                <div class="col-md-6 col-lg-6 Plr0 totalSalesTaxForCheckoutValue">
                                                    <span class="T3">{{tax.TaxAmount | currency}}</span>
                                                </div>
                                            </div>
                                            
                                            <div class="col-md-6 col-lg-6 totalSalesTaxForCheckoutLabel">
                                                <span class="T3">Total Due</span>
                                            </div>
                                            <div class="col-md-6 col-lg-6 Plr0 totalSalesTaxForCheckoutValue">
                                                <span class="T3">{{(CustomerOrderModel.calculateTotalDue()) | currency}}</span>
                                            </div>
                                            
                                            <div ng-repeat="tax in CustomerOrderModel.checkoutSalesTaxList"
                                                ng-if="CustomerOrderModel.IsTaxIncludingPricing">
                                                    <div class="col-md-6 col-lg-6 totalSalesTaxForCheckoutLabel">
                                                    <span class="T3">{{tax.TaxName}} included</span>
                                                </div>
                                                <div class="col-md-6 col-lg-6 Plr0 totalSalesTaxForCheckoutValue">
                                                    <span class="T3">{{tax.TaxAmount | currency}}</span>
                                                </div>
                                            </div>
                                            
                                            <div class="col-md-6 col-lg-6 totalSalesTaxForCheckoutLabel" ng-show="CustomerOrderModel.Payment.length > 0">
                                                <span class="T3">Less Payments</span>
                                            </div>
                                            <div class="col-md-6 col-lg-6 Plr0 totalSalesTaxForCheckoutValue" ng-show="CustomerOrderModel.Payment.length > 0">
                                                <span class="T3">{{(CustomerOrderModel.calculatePaymentTotal()) | currency}}</span>
                                            </div>
                                            
                                            <div class="col-md-6 col-lg-6 totalSalesTaxForCheckoutLabel" ng-show="CustomerOrderModel.Payment.length > 0">
                                                <span class="T3">Balance Due</span>
                                            </div>
                                            <div class="col-md-6 col-lg-6 Plr0 totalSalesTaxForCheckoutValue" ng-show="CustomerOrderModel.Payment.length > 0">
                                                <span class="T3" ng-class="{'Requiredtd' : CustomerOrderModel.calculateBalanceDue() < 0}">{{(CustomerOrderModel.calculateBalanceDue()) | currency}}</span>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <!-- <div class="row" >
                                        <div class="col-md-8 col-lg-8 totalSalesTaxForCheckout"></div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 col-lg-8 totalSalesTaxForCheckout">
                                            
                                        </div>
                                        
                                    </div>
                                    <div class="row" >
                                        <div class="col-md-8 col-lg-8 totalSalesTaxForCheckout">
                                            
                                        </div>
                                        
                                    </div> -->
                                    <!-- END: Added by kajal 03/03/2017 #1590 -->
                                </div>




























                                <div class="gid_container_Customer paymentSectionTable" id="CO_Payment_block_gid_container">
                                    <table class="table" id="CO_deposit_block_gid_container_table"
                                        ng-if="CustomerOrderModel.Payment.length != 0">
                                        <col width="1%"  />
                                        <col width="3%"  />
                                        <col width="15%"  />
                                        <col width="62%" />
                                        <col width="16%"  />
                                        <col width="3%" />
                                        <tr class="tableHeader T3 C2" id="CO_final_invlice_block_gid_container_table_tableHeader" 
                                            ng-click="CustomerOrderModel.closeEditPaymentRow()">
                                            <th></th>
                                            <th></th>
                                            <th>DATE</th>
                                            <th>PAYMENT METHOD</th>
                                            <th>AMOUNT</th>
                                            <th></th>
                                        </tr>
                                        <tbody ng-repeat="Payment in CustomerOrderModel.Payment" ng-if="Payment.PaymentMethod != 'Cash Rounding'"> <!-- ng-if Added by richa #1991 -->
                                            <tr class="T7" ng-class-even="'C2'" 
                                                ng-click="CustomerOrderModel.editPaymentItem($index)">
                                                <td style="background-color:#fff"></td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_1_{{$index}}">





                                                </td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_2_{{$index}}">{{Payment.CreatedDate}}</td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_3_{{$index}}">
                                                    {{Payment.PaymentMethod == 'Invoice' ? Payment.COInvoiceNumber : Payment.PaymentMethod}}
                                                    <!-- <u></u> removed by kajal #1590 03/03/2017 -->
                                                    <!-- START: added by kajal #1590 03/03/2017 -->
                                                    <div>
                                                        <span class="referenceNoInDeposit">Reference Number {{Payment.COInvoicePaymentNumber}}</span>
                                                    </div>
                                                    <!-- END: added by kajal #1590 03/03/2017 -->
                                                </td>
                                                <td id="CO_Deposits_block_gid_container_table_tbody_tr_td_4_{{$index}}" ng-class="{'Requiredtd' : Payment.Amount < 0}">
                                                    {{Payment.Amount | currency}}
                                                </td>
                                                <td style="background-color:#fff"></td>
                                            </tr>






























                                            <!-- START: Added by kajal 03/03/2017 #1590 -->
                                            <tr class="edit_panel sample-show-hide T7" id="merch_item_row{{$index}}_edit"
                                            ng-show="CustomerOrderModel.Payments_editRow[$index].isEdit
                                            && (Payment.ReverseLink == '' || Payment.ReverseLink == null) && Payment.PaymentMethod != 'Use Deal Deposit' "> <!-- && Payment.Amount >= 0 -->
                                            <!-- && (Payment.ReverseLink == '' || Payment.ReverseLink == null || !(Payment.Deal == undefined || Payment.Deal == null || Payment.Deal == '' || Payment.Amount < 0)) -->
                                                <td style="background:#fff"></td>
                                                <td style="background:#fff"></td>
                                                <td colspan="9" class="edit-service-item" id="CO_Deposits_block_gid_container_table_tbody_expandtr_td_1_{{$index}}" 
                                                style="padding-left:0px; padding-right:0px;">
                                                    <div class="edit_box serviceitemedit col-md-11" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box">
                                                        <!-- <div class="its-heading" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit_box_its-heading">
                                                            <i class="fa fa-angle-down"></i>
                                                            <span>Actions (1 Actions Available)</span>  
                                                        </div> ???????????????? -->
                                                        <div class="edit-body" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body">
                                                            <form>
                                                                <div class="radio" id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_radio1">
                                                                    <label>
                                                                        <p class="chk_tick edit-service-chek"
                                                                            ng-class="{'chked' : CustomerOrderModel.Payments_editRow[$index].radioValue == 0 }" 
                                                                            ng-click="CustomerOrderModel.Payments_editRow[$index].radioValue = 0">
                                                                            <i class="fa fa-check-square chksqure"></i>
                                                                        </p>
                                                                        <span>Reverse Payment</span><!-- <span>Reverse Payment - {{Payment.COInvoicePaymentNumber}}</span> -->
                                                                    </label>
                                                                </div>
                                                                <a  id="CustomerOrder_SpecialOrderGrid_tbody_expandtr_td_1_{{$index}}_edit-body_gobtn" 
                                                                    class="btn btn-default editFormBtn" role="button"
                                                                    ng-click="CustomerOrderModel.paymentGoAction($index, Payment);CustomerOrderModel.addPayment();">Apply</a>                                
                                                            </form>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <!-- END: Added by kajal 03/03/2017 #1590 -->
                                        </tbody>
                                    </table>
                                </div>

































                                </div>
                            </div>
                        </div>

                          <div id="InvoiceHistory">
                        <div class="sectionHeader row"  ng-show="CustomerOrderModel.InvoiceHistory.length > 0">
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                        <i class="fa fa-angle-right" style="width:10px; padding: 0 3px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                            ng-show="!CustomerOrderModel.displaySections.InvoiceHistory"
                                            ng-Click="CustomerOrderModel.showPermissionSection('InvoiceHistory')">
                                        </i> 
                                        <i class="fa fa-angle-down" style="width:10px;" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Customer invoicing']['view']}"
                                            ng-show="CustomerOrderModel.displaySections.InvoiceHistory"
                                            ng-Click="CustomerOrderModel.showPermissionSection('InvoiceHistory')">
                                        </i> 
                                        <span class="divider">|</span>
                                        <sapn class ="headdingFirstText">{{CustomerOrderModel.LeftSideHeadingLables.Invoice_History}}</sapn>
                                        <span class="T2"> Invoice History</span>
                                    </span>
                                </div>
                            </div>
                        </div>
            
                        <div>
                            <div class="main_section_COU row" ng-show="CustomerOrderModel.displaySections.InvoiceHistory && CustomerOrderModel.InvoiceHistory.length > 0">
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">Invoice History</span>
            
                                        <span class="ActionIcons">
            
                                            <i class="fa fa-question-circle" data-toggle="tooltip"
                                                title="Invoice Histroy Section"></i>
                                        </span>
                                    </p>
                                </div>
                                <div class="gid_container_Customer" id="CO_final_invlice_block_gid_container">
                                    <table class="table" id="CO_final_invlice_block_gid_container_table">
                                        <col width="1%"  />
                                        <col width="5%"  />
                                        <col width="28%"  />
                                        <col width="22%"  />
                                        <col width="12%" />
                                        <col width="12%"  />
                                        <col width="12%" />
                                        <col width="12%" />
                                        <col width="1%"  />
                                        <tr class="tableHeader T3 C2" id="CO_final_invlice_block_gid_container_table_tableHeader" >
                                            <th></th>
                                            <th></th>
                                            <th>INVOICE</th>
                                            <th>DATE</th>
                                            <th># ITEMS</th>
                                            <th ng-if="!CustomerOrderModel.IsTaxIncludingPricing">SUB TOTAL</th>
                                            <th ng-if="!CustomerOrderModel.IsTaxIncludingPricing">TAXES</th>
                                            <th ng-if="!CustomerOrderModel.IsTaxIncludingPricing">TOTAL</th>
                                            <th ng-if="CustomerOrderModel.IsTaxIncludingPricing">INVOICE TOTAL</th>
                                            <th ng-if="CustomerOrderModel.IsTaxIncludingPricing">TAXES INCLUDED</th>
                                            <th></th>
                                        </tr>
                                        <tbody ng-repeat="InvoiceObj in CustomerOrderModel.InvoiceHistory">
                                            <tr class="T7" ng-class-even="'C2'">
                                                <td style="background-color:#fff"></td>
                                                <td>
                                                    <span class="chkoutmodeicon" ng-if="InvoiceObj.CheckoutType == 'Customer'">
                                                    <i class="fa fa-user" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="InvoiceObj.CheckoutType == 'Third-Party'">
                                                    <i class="fa fa-paper-plane" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="InvoiceObj.CheckoutType == 'Internal'">
                                                    <i class="fa fa-home" aria-hidden="true"></i>
                                                    </span>
                                                    <span class="chkoutmodeicon" ng-if="InvoiceObj.CheckoutType == 'Deal'">
                                                     <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                                                     </span>
                                                </td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_1_{{$index}}"  style="padding-top:16px;padding-bottom:16px;">
                                                    <u><a ng-mouseover="CustomerOrderModel.showInvoiceDetail (InvoiceObj.COInvoiceHeaderId,$event)"
                                                        ng-mouseleave="CustomerOrderModel.hideInvoiceDetail()">
                                                    {{InvoiceObj.InvoiceNumber}}
                                                    </a></u>
                                                </td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_2_{{$index}}">{{InvoiceObj.ClosedInvoiceDate}}</td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_3_{{$index}}">{{InvoiceObj.NumberOfItems}}</td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_4_{{$index}}" 
                                                    ng-if="!CustomerOrderModel.IsTaxIncludingPricing">{{InvoiceObj.SubTotal | currency}}</td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_5_{{$index}}"
                                                    ng-if="!CustomerOrderModel.IsTaxIncludingPricing">{{InvoiceObj.Tax | currency}}</td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_6_{{$index}}" 
                                                    ng-if="!CustomerOrderModel.IsTaxIncludingPricing">{{InvoiceObj.Total | currency}}</td>
                                                    <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_4_{{$index}}" 
                                                    ng-if="CustomerOrderModel.IsTaxIncludingPricing">{{InvoiceObj.Total | currency}}</td>
                                                <td id="CO_final_invlice_block_gid_container_table_tbody_tr_td_5_{{$index}}"
                                                    ng-if="CustomerOrderModel.IsTaxIncludingPricing">{{InvoiceObj.Tax | currency}}</td>
                                                <td style="background-color:#fff"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                         </div>
                        <div style="height:700px; background: #E6EBEC; margin: 0 -15px;" />
                        </div>
                        <c:ServiceOrderWizard />
                    </div>
                    <div class="ConfirmBox-overlay payment_ConfirmBox" id="payment_ConfirmBox">
                        <div>
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" aria-label="Close" ng-click = "CustomerOrderModel.payment_Response(false)">
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Confirm Action</h4>
                                </div>
                                <div class="modal-body">
                                    <p>You are adding a payment which is greater than the balance owing.</p>
                                    <p class = "col-md-12 P0">Balance is {{CustomerOrderModel.calculateBalanceDue() >= 0 ? '$' :'-$'}}
                                        {{CustomerOrderModel.calculateBalanceDue() >= 0 ? CustomerOrderModel.calculateBalanceDue() : -1 * CustomerOrderModel.calculateBalanceDue()}}, Payment is {{CustomerOrderModel.Payment_Amount | currency}} 
                                    </p>
                                    Are you sure, you want to continue?
                                </div>
                                <div class="modal-footer">   
                                    <button type="button" class="btn btn-primary" ng-click = "CustomerOrderModel.payment_Response(true)">Continue</button>
                                    <button type="button" class="btn btn-default" ng-click = "CustomerOrderModel.payment_Response(false)">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>
              
                    <div class="modal fade removeUnitFromDealConfirm" id="switchCOConfirm" >
                        <div class="modal-dialog RemoveUnitOverlay">
                            <div class="modal-content" >  
                                <div class="modal-header">
                                    <button type="button" class="close" aria-label="Close" data-dismiss="modal"> 
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Switch Customer Order</h4>
                                </div>
                                <div class="modal-body">
                                    <p>{!$Label.CO_Changing_Or_Adding_Customer_With_Line_Item_Exist}</p>
                                </div>
                                <div class="modal-footer">
                                    <!-- START: Added By Nidhi - #150 - 09/26/2016 (Modified)-->
                                    <button type="button" class="btn btn-default greenBtn" ng-click="CustomerOrderModel.closeSwitchCOConfirmModal(true)">{!$Label.CO_Continue}</button>
                                    <button type="button" class="btn btn-default"  data-dismiss="modal">{!$Label.Cancel_Label}</button><!-- ng-click="CustomerOrderModel.closeSwitchCOConfirmModal(false)">Cancel -->
                                    <!-- START: Added By Nidhi - #150 - 09/26/2016 -->
                                </div>
                            </div>
                        </div>
                    </div> 
                    <div id="RemoveItemConfirmationPopup" class="modal fade RemoveItemConfirmationPopup" role="dialog">
                        <div class="modal-dialog modal-dialog_Remove_Item">
                            <!-- Modal content--> 
                            <div class="modal-content col-md-12">
                                <div class="modal-body popupContainerRemoveItemConfirmation">
                                    <div class="popupinside">
                                        <div class="RemoveItemConfirmationHeading">
                                            <p ng-if="CustomerOrderModel.SPLineItem.POStatus != 'On Order'">
                                                Item already on order
                                            </p>
                                            <p ng-if="CustomerOrderModel.SPLineItem.POStatus == 'On Order'">
                                                Item already ordered
                                            </p>
    
                                        </div>
                                        <div class="RemoveItemConfirmationHeading1">
                                            <p>This special order has already been added to 
                                                <span style="color:#00AEEF">{{CustomerOrderModel.SPLineItem.VONumber}}</span>
                                            <br/>
                                            which has a status of <span style="color:#11B187">{{CustomerOrderModel.SPLineItem.POStatus}}</span></p>
                                            <p>Your changes will modify the existing vendor order</p>
                                        </div>
                                    
                                        <div class="RemoveItemActionsContainer">
                                            <a>
                                                <img src="{!Application_Images}/Cancel_Red.png" 
                                                    ng-click="CustomerOrderModel.hideRemoveItemConfirmationPopup()"/>
                                                <!-- <div class="sprite Cancel_Red"
                                                    ng-click="CustomerOrderModel.hideRemoveItemConfirmationPopup()"></div> -->
                                                <span ng-click="CustomerOrderModel.hideRemoveItemConfirmationPopup()">CANCEL</span>
                                            </a>
                                            <div>
                                                <button id="createSpecialOrderActionBtn" type="button" class="btn btn-default RemoveItemActionBtn text-uppercase" 
                                                    ng-click="CustomerOrderModel.closeRemoveItemConfirmationPopup()">
                                                    Confirm Processing
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> 
                    </div>
                    
                    <!-- START : Special order callback popup -->
                    <div id="SpecialOrderCallbackPopup" class="modal fade RemoveItemConfirmationPopup" role="dialog">
                        <div class="modal-dialog modal-dialog_Remove_Item">
                            <!-- Modal content--> 
                            <div class="modal-content col-md-12">
                                <div class="modal-body popupContainerRemoveItemConfirmation">
                                    <div class="popupinside">
                                        <div class="RemoveItemConfirmationHeading">
                                            <p>Item already on order</p>
                                        </div>
                                        <div class="RemoveItemConfirmationHeading1">
                                            <p>This special order has already been added to 
                                                <span style="color:#00AEEF">{{CustomerOrderModel.SPLineItem.VONumber}}</span>
                                            <br/>
                                            which has a status of <span style="color:#11B187">{{CustomerOrderModel.SPLineItem.POStatus}}</span></p>
                                            <p>{{CustomerOrderModel.specialOrderCallbackMessage}}</p>
                                        </div>
                                    
                                        <div class="RemoveItemActionsContainer">
                                            <div>
                                                <button id="createSpecialOrderActionBtn" type="button" 
                                                    ng-click="CustomerOrderModel.hideSpecialOrderCallbackPopup()" 
                                                    class="btn btn-default RemoveItemActionBtn text-uppercase">
                                                    Ok
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End : Special order callback popup -->
                    <!-- Start : Delete Quote -->
                    <div class="modal fade removeUnitFromDealConfirm" id="deleteQuoteConfirm" >
                        <div class="modal-dialog RemoveUnitOverlay">
                            <div class="modal-content" >  
                                <div class="modal-header">
                                    <button type="button" class="close" aria-label="Close" data-dismiss="modal"> 
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Delete Quote</h4>
                                </div>
                                <div class="modal-body">
                                    <p>Deleting quote will delete this order. Are you sure, you want to continue?</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default greenBtn" ng-click="CustomerOrderModel.closeDeleteQuoteConfirmModal(true)">{!$Label.CO_Continue}</button>
                                    <button type="button" class="btn btn-default"  data-dismiss="modal">{!$Label.Cancel_Label}</button>
                                </div>
                            </div>
                        </div>
                    </div> 
                	<!-- End : Delete Quote -->
                	<!-- Start : Activate Quote -->
                    <div class="modal fade removeUnitFromDealConfirm" id="activateQuoteConfirm" >
                        <div class="modal-dialog RemoveUnitOverlay">
                            <div class="modal-content" >  
                                <div class="modal-header">
                                    <button type="button" class="close" aria-label="Close" data-dismiss="modal"> 
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Activate Quote</h4>
                                </div>
                                <div class="modal-body">
                                    <p>This action will activate all sections on this order. Do you want to continue?</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default greenBtn" ng-click="CustomerOrderModel.closeActivateQuoteConfirmModal(true)">{!$Label.CO_Continue}</button>
                                    <button type="button" class="btn btn-default"  data-dismiss="modal">{!$Label.Cancel_Label}</button>
                                </div>
                            </div>
                        </div>
                    </div> 
                	<!-- End : Activate Quote -->
                	<!-- Start : Commit Units To Deal -->
                    <div class="modal fade removeUnitFromDealConfirm" id="commitUnitConfirm" >
                        <div class="modal-dialog RemoveUnitOverlay">
                            <div class="modal-content" >  
                                <div class="modal-header">
                                    <button type="button" class="close" aria-label="Close" data-dismiss="modal"> 
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h4 class="modal-title">Commit Units To Deal</h4>
                                </div>
                                <div class="modal-body">
                                    <p>Commiting units to deal will activate all sections on this order and you will no longer be able to set this order as Quote. 
                                    	Are you sure, you want to continue?</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default greenBtn" ng-click="CustomerOrderModel.closeCommitUnitToDealConfirmModal()">{!$Label.CO_Continue}</button>
                                    <button type="button" class="btn btn-default"  data-dismiss="modal">{!$Label.Cancel_Label}</button>
                                </div>
                            </div>
                        </div>
                    </div> 
                	<!-- End : Commit Units To Deal -->
                </div>
                <div class="modal fade  bp-table bp-model-dialog bp-confirmation-model-dialog addSupersededPartPopup" id="SupersededPart" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				  	<div class="modal-dialog" role="document">
						<div class="modal-content">
					  		<div >
								<button type="button" class="close bp-close-but CreatePartLabelCloseIcon" data-dismiss="modal" aria-label="Close"
									ng-click="CustomerOrderModel.hideRelatedPartPopup()">
			                 		<span aria-hidden="true">
			                 			<i class="white_FFF svg_width closeiconWidth" ng-include="'{!Application_Images}/Icons/close.svg'"></i>
			                 		</span>
			            		</button>
					  		</div>		 
					  		<div class="modal-body">
					  			<div class="Modal-Info-Area">
								<div class="heading bp-text-uppercase">Related Part selection</div>
									<div class="heading subheading">
										<div ng-if="CustomerOrderModel.alternatePartData.lineItem.QtyOrder == 0">
											<span>The selected part has fulfilled the customers need of 
												<span class="bp-blue-link">Qty {{CustomerOrderModel.alternatePartData.lineItem.Qty}}</span>
											</span>
											<span>Below is a list of related parts:</span>
										</div>
										
										<div ng-if="CustomerOrderModel.alternatePartData.lineItem.QtyOrder != 0">
											<span>The selected part cannot fulfill the customers need of 
												<span class="bp-blue-link">Qty {{CustomerOrderModel.alternatePartData.lineItem.Qty}}
												</span>
											</span>
											<span>Select from this list of related parts:</span>
										</div>
										
									</div>
								
									<div class="row M0 printBarCodeLabelTabelWrapper">
						                <table class="table feeGrid relatedPartGrid">
						                	<col width="35%" />
						                	<col width="15%" />
						                	<col width="20%" />
						                	<col width="10%" />
						                	<col width="10%" />
						                	<col width="10%" />
										  <thead>
										    <tr>
										      <th class="tableHeadText firstChild">ITEM DESCRIPTION</th>
										      <th class="tableHeadText thirdChild">VENDOR</th>
										      <th class="tableHeadText thirdChild">RELATIONSHIP</th>  
										      <th class="tableHeadText text-center thirdChild">AVAILABLE</th> 
										      <th class="tableHeadText thirdChild">PRICE</th>  
										      <th class="tableHeadText forthChild"></th>
										    </tr>
										  </thead>
										  <tbody>
										    <tr ng-repeat="alterPart in CustomerOrderModel.alternatePartsList">
										      	<td class = "text-left codeText firstChild">{{alterPart.ItemDesc}}</td>
					                            <td class = "text-left nrmlText thirdChild ">{{alterPart.Vendor}}</td>
				                             	<td class = "text-left nrmlText thirdChild ">{{alterPart.RelationShip}}</td>
				                             	<td class = "text-center nrmlText thirdChild ">{{alterPart.Available}}</td>
				                             	<td class = "text-left nrmlText thirdChild ">{{alterPart.Price | currency}}</td>
				                              	<td class = "text-left nrmlText forthChild">
				                              		<span class="chk_tick" id="isInstall" ng-class="{'chked': alterPart.IsSelected }" 
                                     	               ng-click = "CustomerOrderModel.selectAlternatePart($index)">
                                                    	<i class="green_00A3DB doneIcon svg_width closeiconWidth" ng-include="'{!Application_Images}/Icons/check-1.svg'"></i>
                                                    </span>
             					                </td>
										    </tr>
										  </tbody>
										</table>
										
                                        <button class="bp-btn bp-btn-normal bp-btn-medium bp-saveButton"
                                          data-dismiss="modal"
                                          ng-click = "CustomerOrderModel.addAlternateParts()" 
                                          ng-disabled ="CustomerOrderModel.disableAlternatePartButton()" >
                                          Select  	
                                        </button>
									</div>
		                		</div>
		                	</div>
		                </div>
		            </div>
		        </div>
		
</apex:component>
