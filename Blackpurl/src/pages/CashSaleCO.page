<apex:page standardStylesheets="false" showChat="false" showHeader="false" sidebar="false" docType="html-5.0" controller="GlobalController">
        <!-- <apex:stylesheet value="{!Application}/css/CashSaleCo.css"/> -->    
        <div class="fadein" ui-view="CashSaleCOChildView" autoscroll='false'></div>
        <div>
            <route-loading-indicator></route-loading-indicator>
            <div ng-cloak="ng-cloak" >  <!-- ng-if="!isRouteLoading" -->
                <div class="content cashSaleContainer"
                    ng-show="CashSaleModel.showContent">
                    <!-- Start: cash Sale Crumbs Section -->
                    <div class="row cashSaleCrumbsDiv M0">
                        <div id="cashSaleCrumbs" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 cashSaleCrumbs p0">
                           <ul class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p0 cashSaleCrumbs_UL">
                              <li class="col-xs-1 col-sm-1 col-md-1 col-lg-1 p0 cashSaleCrumbs_li1">
                                 <a class="M0" ng-class="{'previousElementOfactiveChevron' : CashSaleModel.selectedcashSaleChevronIndex == '1', 
                                    'activeChevron' : CashSaleModel.selectedcashSaleChevronIndex == '0'}" ng-click="CashSaleModel.NextActionOnBack()">
                                    <i class="fa fa-angle-left" aria-hidden="true" style="font-size: 20px;"></i> Back
                                 </a>  <!-- href="#" -->
                              </li>
                              <li class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0 cashSaleCrumbs_li2">
                                 <a class="M0" ng-class="{'previousElementOfactiveChevron' : CashSaleModel.selectedcashSaleChevronIndex == '2', 
                                    'activeChevron' : CashSaleModel.selectedcashSaleChevronIndex == '1', 'disableChevron': CashSaleModel.disableChevronWhenOrderClosed() || CashSaleModel.IsLineItemEditMode}" 
                                    ng-click="CashSaleModel.NextAction(1)">Add to Sale</a>  <!-- href="#" --> <!-- CashSaleModel.IsLineItemEditMode Added by richa 17/11/2016 -->
                              </li>
                              <li class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0 cashSaleCrumbs_li3">
                                 <a class="M0" ng-class="{'previousElementOfactiveChevron' : CashSaleModel.selectedcashSaleChevronIndex == '3', 
                                    'activeChevron' : CashSaleModel.selectedcashSaleChevronIndex == '2', 'disableChevron': (CashSaleModel.disableChevronWhenNoLI() && 
                                    !CashSaleModel.IsNewLineItemInserted) || CashSaleModel.disableChevronWhenOrderClosed()}" ng-click="CashSaleModel.NextAction(2)">Edit Sale</a> <!-- href="#" --> 
                              </li> 
                              <li class="col-xs-2 col-sm-2 col-md-2 col-lg-2 p0 cashSaleCrumbs_li4">
                                 <a class="M0" ng-class="{'previousElementOfactiveChevron' : CashSaleModel.selectedcashSaleChevronIndex == '4', 
                                    'activeChevron' : CashSaleModel.selectedcashSaleChevronIndex == '3', 'disableChevron': CashSaleModel.disableChevronWhenNoLI() || CashSaleModel.disableChevronWhenOrderClosed() || CashSaleModel.IsLineItemEditMode}" ng-click="CashSaleModel.NextAction(3)">Review Sale</a>  <!-- href="#" --> <!-- CashSaleModel.disableChevronWhenNoLI() || Added by richa 10/11/2016 --> <!-- CashSaleModel.IsLineItemEditMode Added by richa 17/11/2016 -->
                              </li> <!-- 'disableChevron': CashSaleModel.disableChevronWhenOrderClosed() Added by Pooja 25-10-2016  --> 
                              
                              <li class="col-xs-3 col-sm-3 col-md-3 col-lg-3 p0 cashSaleCrumbs_li5">
                                 <a class="M0" ng-class="{'activeChevron' : CashSaleModel.selectedcashSaleChevronIndex == '4', 'disableChevron': CashSaleModel.disableChevronWhenNoLI() || CashSaleModel.IsLineItemEditMode}" 
                                    ng-click="CashSaleModel.NextAction(4); CashSaleModel.openCheckoutScreen($event);">Checkout</a> <!-- href="#" --> <!-- 17/10/2016 --> <!-- CashSaleModel.IsLineItemEditMode Added by richa 17/11/2016 -->
                              </li>
                              
                              
                           </ul>
                        </div>
                    </div>
                    <!-- End: cash Sale Crumbs Section -->
                    
                    <!-- Start: cash Sale Content Section -->
                    <div class="row cashSaleContent M0">
                        <!-- Start: Cash Sale left panel -->
                        <!-- Start: Add To Sale left panel -->
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 barcodeScanner_And_STA_Wrapper p0" ng-if="CashSaleModel.displaySection == 'Add to Sale'">
                            <!-- <div class="barcodeScanner">
                                <div>Scan the barcode</div>
                            </div> -->
                            
                            <!-- <div class="barcodeScannerBorderBottom">
                                <div></div>
                            </div> -->
                            
                            <div class="STA_text_header">
                                <div class="STA_Holder">
                                    <h3>Search for the Part/Fee to add:</h3>
                                        <!-- <div class="fadein" ui-view="CashSaleSTA" autoscroll='false'></div> -->
                                        <c:CashSaleSTA />
                                </div>
                            </div>
                        </div>
                        <!-- End: Add To Sale left panel -->
                        
                        
                        <!-- Start: Edit Sale left panel -->
                        <!-- Start: Edit Sale content section  -->
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 EditSaleSection EditSaleSectionScroll p0 ng-scope" ng-show="CashSaleModel.displaySection == 'Edit Sale' && CashSaleModel.IsLineItemEditMode"> <!-- ng-if -> ng-show: Changed & 
                                                                                                                                                                                                    EditSaleSectionScroll: class Added By Pooja 14 Feb. 2017 -->
                            <div class="cashSalePartDetailsSection">
                                 <p class="cashSalePartDetailsSectionHeader M0">{{CashSaleModel.editLineItem.IsPart ? "These are the part's details:" : "These are the fee's details:"}}</p><!-- These are the part's details: -> Replaced with conditional text: by pooja 17 Nov. 2016 -->
    
    
    
    
                                 <!-- Start: Commented and Added by Pooja 2 Feb. 2017 -->
                                 <!-- <h3 class="cashSalePartNo M0">{{CashSaleModel.editLineItem.Item}}</h3> -->
                                 <h3 class="cashSalePartNo M0 cashSalePartNoWordBreak">{{CashSaleModel.editLineItem.ItemCode}}</h3>
                                 <h3 class="cashSalePartNo M0" ng-if="CashSaleModel.editLineItem.ItemCode && CashSaleModel.editLineItem.ItemDescription">&nbsp;-&nbsp;</h3>
                                 <h3 class="cashSalePartNo M0 cashSalePartNoWordBreak" ng-if="!CashSaleModel.isItemDescEditMode">{{CashSaleModel.editLineItem.ItemDescription}}</h3>
                                 
                                 <!-- <div class="cashSalePartDetailsEditSection" ng-show="CashSaleModel.isItemDescEditMode && CashSaleModel.editLineItem.IsFee"> -->
                                    <input id="cashSalePartDetailsSectionEditItemDescId" class="cashSalePartDetailsSectionEditItemDescClass" type="text" ng-model="CashSaleModel.COLI_ItemDesc" 
                                        onfocus="this.select();" ng-show="CashSaleModel.isItemDescEditMode && CashSaleModel.editLineItem.IsFee" ng-focus="CashSaleModel.setFocusOnLineItemAttribute()" 
                                            ng-keydown="CashSaleModel.keydown($event)" ng-blur="CashSaleModel.removeFocusOnLineItemAttribute($event)" ng-disabled=""/>
                                                                                                                    <!--  onfocus="this.select();": Added By Pooja 7 Feb. 2017-->
    
    
    
                                 <!-- </div> --> 
                                 
                                 <img class="cashSalePartNo cashSalePartDetailsSectionEditActionBtn" src="{!Application_Images}/EditSale.png"
                                    ng-if="CashSaleModel.editLineItem.IsFee && !CashSaleModel.isItemDescEditMode  && GroupOnlyPermissions.Fees.enabled" ng-click="CashSaleModel.OpenLineItemDescEditAction()"/> 
                                 <!-- <div class="sprite EditSale EditSaleIconMargin pull-left" ng-if="CashSaleModel.editLineItem.IsFee && !CashSaleModel.isItemDescEditMode" 
                                    ng-click="CashSaleModel.OpenLineItemDescEditAction()"></div> -->
                                 
                                 <div class="cashSalePartDetailsActionBtn" ng-if="CashSaleModel.editLineItem.IsFee && CashSaleModel.isItemDescEditMode">
                                    <div class="cashSalePartDetailsActionBtn1">
                                        <div class="cashSalePartDetailsCancelAction text-uppercase">  <!-- ng-if="CashSaleModel.editLineItem.IsFee && CashSaleModel.isItemDescEditMode" -->
                                            <img src="{!Application_Images}/Cancel_Red.png" ng-click="CashSaleModel.cancelLineItemDescEditAction()" />
                                            <!-- <div class="sprite Cancel_Red pull-left" ng-click="CashSaleModel.cancelLineItemDescEditAction()"></div> -->
                                            <span ng-click="CashSaleModel.cancelLineItemDescEditAction()">CANCEL</span>
                                         </div>
                     
                                         <div class="cashSalePartDetailsCancelAction cashSalePartDetailsSaveAction text-uppercase"> <!-- ng-if="CashSaleModel.editLineItem.IsFee && CashSaleModel.isItemDescEditMode" -->
                                            <i class="fa fa-check-circle-o" ng-click="CashSaleModel.editCOLIItemDesc()"></i> 
                                            <span ng-click="CashSaleModel.editCOLIItemDesc()">Save</span>
                                         </div>
    
                                    </div> 
                                     
                                </div>
                                 <!-- End: Commented and Added by Pooja 2 Feb. 2017 -->
    
    
                                 <div class="AvailableInventoryAndPrice">
                                    <div ng-if="CashSaleModel.editLineItem.IsPart && !CashSaleModel.editLineItem.NonInventoryPart"> <!-- && !CashSaleModel.editLineItem.NonInventoryPart: Added By Pooja 8 Feb. 2017 -->
                                     <p class="M0 AvailableInventoryLabel">Available Inventory:</p>
                                     <p class="M0 AvailableInventoryValue">{{CashSaleModel.editLineItemCopy.Qty &lt; 0 ? CashSaleModel.editLineItem.AvaliablePartsQty : (CashSaleModel.editLineItem.AvaliablePartsQty + CashSaleModel.editLineItemCopy.Qty)}}</p> <!-- CashSaleModel.editLineItem.AvaliablePartsQty 05/11/2016 --> <!-- Changed 11/11/2016 -->
                                     <p class="M0 AvailableInventoryAndPriceDivider">|</p>
                                    </div>  
                                     <p class="M0 priceLabel">Price:</p>
                                     <p class="M0 priceValue">{{CashSaleModel.editLineItemCopy.Price | currency}}</p> <!-- editLineItem -> editLineItemCopy 02/11/2016 -->
                                 </div>
                             </div>   
                             
                             <div class="AvailableInventoryAndPriceBorderBottom"></div>    
                             
                             <div class="saleQuantityAndPrice">
                                <div class="saleQuantityContent">
                                    <p class="M0">{{CashSaleModel.editLineItem.Qty &lt; 0 ? 'How many would you like to return?' : 'How many would you like to sell?'}}</p>
                                    <!-- <input type="text" id="saleQuantityContent" ng-model="CashSaleModel.editLineItem.Qty"/> --> <!-- 14-10-2016  Pooja -->
                                    <number-only-input-cash-sale input-value="CashSaleModel.editLineItem.Qty" id-val="saleQuantityContent" ng-keydown="" 
                                        ng-if="GroupOnlyPermissions.Returns.enabled"/><!-- 14-10-2016  Pooja -->
                                    <number-only-input-cash-sale input-value="CashSaleModel.editLineItem.Qty" id-val="saleQuantityContent" ng-keydown=""  
                                     ng-if="!(GroupOnlyPermissions.Returns.enabled)" include-negative ="false"/>
                                    <!-- focus="CashSaleModel.setFocusOnLineItemAttribute($event)" blur="CashSaleModel.removeFocusOnLineItemAttribute($event)" -->
                                                                    
                                </div>
    
                                <div class="editSalePrice" ng-class="{disabledOverrideSalePrice: !(GroupOnlyPermissions['Override price'].enabled)}">
                                    <p class="M0">Confirm or change the price</p>
                                    <div>
                                        <h1 class="M0">$</h1>
                                        <!-- <input type="text" ng-model="CashSaleModel.editLineItem.Price" /> --><!-- 14-10-2016  Pooja -->
                                        <number-only-input-cash-sale input-value="CashSaleModel.editLineItem.Price" id-val="editSalePrice" ng-keydown="" include-zero="true" 
                                            disable-attr="!(GroupOnlyPermissions['Override price'].enabled)"/><!-- 14-10-2016  Pooja -->
                                        <!-- focus="CashSaleModel.setFocusOnLineItemAttribute($event)" blur="CashSaleModel.removeFocusOnLineItemAttribute($event)" -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="editSaleActionBtns">
                                <div class="editSaleCancelAction"> <!--  ng-if="!CashSaleModel.IsNewLineItemInserted" 05/11/2016 --> <!-- ng-click="CashSaleModel.cancelEditAction()": Removed by pooja 17 Nov. 2016 -->
                                    <img src="{!Application_Images}/Cancel_Red.png" ng-click="CashSaleModel.cancelEditAction(CashSaleModel.editLineItem.CoLineItemId)" /><!-- ng-click="CashSaleModel.cancelEditAction()": Added by Pooja 17 Nov. 2016 -->
                                    <!-- <div class="sprite Cancel_Red pull-left" ng-click="CashSaleModel.cancelEditAction(CashSaleModel.editLineItem.CoLineItemId)"></div> -->
                                                                                                                                                                                                            <!-- ng-click="CashSaleModel.cancelEditAction(CashSaleModel.editLineItem.CoLineItemId)": 
                                                                                                                                                                                                                parameter added by Pooja 15 Mar.2017 -->
                                    <span ng-click="CashSaleModel.cancelEditAction(CashSaleModel.editLineItem.CoLineItemId)">CANCEL</span><!-- ng-click="CashSaleModel.cancelEditAction()": Added by pooja 17 Nov. 2016 -->
                                                                                                                                        <!-- ng-click="CashSaleModel.cancelEditAction(CashSaleModel.editLineItem.CoLineItemId)": 
                                                                                                                                        parameter added by Pooja 15 Mar.2017 -->
                                  </div>
      
                                <div class="editSaleRemoveItemAction marginLeftFromCancel marginTopFromCancel" ng-if="!CashSaleModel.IsNewLineItemInserted"> <!-- ng-class="{'marginLeftFromCancel': !CashSaleModel.IsNewLineItemInserted, 'marginTopFromCancel': !CashSaleModel.IsNewLineItemInserted}" 05/11/2016 -->
    
    
    
                                                                                                                                                            <!-- ng-if="!CashSaleModel.IsNewLineItemInserted":
                                                                                                                                                             Added By Pooja 15 Mar. 2017 -->
                                    <button type="button" class="btn btn-default editSaleBtn text-uppercase removeItemImage removeItemButtonPL"
                                        ng-click="CashSaleModel.removeLineItem(CashSaleModel.editLineItem.CoLineItemId)"> <!-- removeItemImage, removeItemButtonPL classes Added by richa 24/10/2016 -->
                                    <!-- <span>
                                        <img src="{!URLFOR($Resource.CashSaleCOImages, '/CashSaleCOImages/trash.png')}" />
                                    </span> --><!-- Commented by richa 24/10/2016 -->
                                            Remove Item
                                    </button>
                                </div>
                                <div class="editSaleAddToSaleAction marginTopFromCancel" ng-class="{'ML_From_Cancel': CashSaleModel.IsNewLineItemInserted}"> <!-- ng-class="{'marginTopFromCancel': !CashSaleModel.IsNewLineItemInserted}" 05/11/2016 -->
                                                                                                                                                            <!-- ng-class="{'ML_From_Cancel': !CashSaleModel.IsNewLineItemInserted}": 
                                                                                                                                                                Added By Pooja 15 mar. 2017 -->
                                    <button id="editSaleSaveBtnId" type="button" class="btn btn-default editSaleBtn text-uppercase"
                                        ng-click="CashSaleModel.UpdateLineItem();">
                                            <!-- {{CashSaleModel.editLineItem.IsTemporary ? 'Add to Sale' : 'Save &amp; Review'}} --> <!-- 04/11/2016 -->
                                            <!-- {{CashSaleModel.IsNewLineItemInserted &amp;&amp; CashSaleModel.editLineItem.Qty &lt; 0 ? 'Return Item' : (!CashSaleModel.IsNewLineItemInserted ? 'Save &amp; Review' : 'Add to Sale')}} 04/11/2016 05/11/2016 -->
                                            <!-- {{CashSaleModel.editLineItem.Qty &lt; 0 ? 'Return Item' : 'Save &amp; Review'}} --><!-- 05/11/2016 --> <!-- Commented By Pooja 8 Feb. 2017 -->
                                            {{CashSaleModel.editLineItem.Qty &lt; 0 ? 'Return Item' : 'Save'}}  <!-- Added By Pooja 8 Feb. 2017 -->
                                    </button> <!-- 05/11/2016 --> <!-- ng-click: "CashSaleModel.EditSaleSaveBtnVal='SaveOrReturn';: Added By Pooja 8 Feb. 2017-->
                                                                 <!-- ng-click: "CashSaleModel.EditSaleSaveBtnVal='SaveOrReturn';: Removed and id="editSaleSaveBtnId": Added By Pooja 15 Mar. 2017-->
                                </div>
                                
                                <!-- Start: Removed By Pooja 15 Mar. 2017 -->
                                <!-- Start: Added By Pooja 8 Feb. 2017 -->
                                <!-- <div class="editSaleAddToSaleAction marginTopFromCancel ML0"> 
                                    <button  id="editSaleSaveAndAddBtnId"  type="button" class="btn btn-default editSaleBtn text-uppercase"
                                        ng-click="CashSaleModel.EditSaleSaveBtnVal='SaveAndAdd'; CashSaleModel.UpdateLineItem();">
                                            Save &amp; Add
                                    </button> id="editSaleSaveAndAddBtnId": Added By Pooja 9 Feb. 2017
    
                                </div> -->
                                <!-- End: Added By Pooja 8 Feb. 2017 -->
                                <!-- End: Removed By Pooja 15 Mar. 2017 -->                         
                            </div>
                        </div> 
                        <!-- End: Edit Sale content section  -->
                        
                        <!-- Start: Edit Sale Dropdown section  -->
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 EditSaleSection p0 ng-scope" ng-if="CashSaleModel.displaySection == 'Edit Sale' && !CashSaleModel.IsLineItemEditMode">
                            <!-- Start: Edit Sale Dropdown Container  -->
                            <div ng-if="CashSaleModel.COData.allCOLineItemRecs && CashSaleModel.COData.allCOLineItemRecs.length > 0" class="EditSaleDropdownContainer">
                                <div class="EditSaleDropdownLabel">
                                    <h3>Please, select the item you would like to edit</h3> <!-- Class="M0 Removed by richa 17/11/2016 -->
                                </div>
                                <div class="input-group EditSaleDropdown-input-group">
                                    <div class="input-group-btn">
                                        <button class="btn btn-default dropdown-toggle EditSaleDropdown-dropdown-toggle" data-toggle="dropdown" type="button" aria-haspopup="true" aria-expanded="false">Please Select<!-- {{CashSaleModel.selectedItemToEdit}} -->
                                            <span class="fa fa-angle-down"></span>
                                        </button>
                                        <ul class="dropdown-menu" role="menu">
                                            <li ng-repeat="coli in CashSaleModel.COData.allCOLineItemRecs" 
                                                data-value="coli.Item" 
                                                ng-enter="CashSaleModel.openeditAction($index)"
                                                ng-click="CashSaleModel.openeditAction($index)">
                                                <!-- ng-if="!coli.IsTemporary" --> <!-- 05/11/2016 -->
                                                <a>
                                                    <!-- Start: 02/11/2016 -->
                                                    <span class="titlestyle SearchItemName">{{coli.Item}}</span> <!-- SearchItemName Added by richa 17/11/2016 -->
                                                    <span class="titlestyle AdditionalInfo" ng-if="coli.IsPart && !coli.NonInventoryPart">Quantity available: {{coli.AvaliablePartsQty}}</span>
                                                                                                                                                            <!-- && !coli.NonInventoryPart: Added By Pooja 8 Feb. 2017 -->  
    
                                                    <!-- End: 02/11/2016 -->
                                                </a>
                                            </li>
                                        </ul>
                                      </div>
                                    </div>
                                </div>
                                <!-- End: Edit Sale Dropdown Container  -->
                                
                                <div class="EditSaleDropdownLabel" ng-if="!CashSaleModel.COData.allCOLineItemRecs || CashSaleModel.COData.allCOLineItemRecs.length == 0">
                                    <h3 class="M0">No line item to edit, Please first add items</h3>
                                </div>
                            
                        </div>
                        <!-- End: Edit Sale Dropdown section  -->
                        <!-- End: Edit Sale left panel -->
                        
                        
                        
                        
                        <!-- Start: Checkout left panel -->
                        <!-- Start: Checkout left panel When Line Item Recs length greater than 0 -->
                        <div ng-show="CashSaleModel.displaySection == 'Checkout' && CashSaleModel.COData.allCOLineItemRecs && CashSaleModel.COData.allCOLineItemRecs.length > 0">
                            <!-- Start: Checkout content section -->
                            <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 Checkout_Wrapper p0" ng-if="CashSaleModel.displaySection == 'Checkout' &&  !CashSaleModel.IsPaymentReverseMode">
                                <div ng-show="CashSaleModel.COData.coHeaderRec.OrderStatus == 'Open'">
                                    <div class="checkoutHeader">
                                        <p>Balance due</p>
                                    </div>
                                    <div class="checkoutBalance">
                                        <p ng-class="{'zeroBalance': CashSaleModel.calculateBalanceDue() == 0}">{{ CashSaleModel.calculateBalanceDue() | currency }}</p>
                                    </div>
                                    <div ng-show="CashSaleModel.calculateBalanceDue() != 0"> <!-- CashSaleModel.calculateBalanceDue() != 0 -> CashSaleModel.calculateBalanceDue() > 0 Changed by richa 24/10/2016 --> <!-- Reversed 04/11/2016 -->
                                        <div class="checkoutPayment">
                                            <p>{{CashSaleModel.calculateBalanceDue() &lt; 0 ? 'How are you refunding this customer?' : 'How is the customer paying for this order?'}}</p> <!-- 04/11/2016 -->
                                        </div>
                                        <div class="row checkoutPaymentContainer">
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutPaymentDropdown input-group">
                                          <div class="input-group-btn" id="dropDownDiv" ng-class="{'open': CashSaleModel.isPaymentDropdownOpen == true}">
                                            <button type="button" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle depositSelectDropdownBtn" id="depositSelectDropdownBtn" data-toggle="dropdown"
                                            ng-class="{'selectedOptionTextColor': CashSaleModel.selectedOption != 'Please Select'}">
                                                {{ CashSaleModel.selectedOption }}<!-- Please Select --> <!-- Changed by richa 15/10/2015 -->
                                                <span class="fa fa-angle-down"></span>
                                            </button>
                                            <ul class="checkoutPaymentUL dropdown-menu" role="menu" id="checkoutPaymentUL_Id"> <!-- id="checkoutPaymentUL_Id" Added and  href # of all child a: Removed by pooja 17 Nov. 2016 -->
                                                <li data-value="Cash" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Cash');" ng-enter="CashSaleModel.optionSelected('Cash');"> 
                                                        <span class = "">Cash</span>
                                                    </a>
                                                </li>
                                                <li data-value="Debit" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Debit');" ng-enter="CashSaleModel.optionSelected('Debit');"> 
                                                        <span class = "">Debit</span>
                                                    </a>
                                                </li>
                                                <li data-value="Cheque" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Cheque');" ng-enter="CashSaleModel.optionSelected('Cheque');"> 
                                                        <span class = "">Cheque</span>
                                                    </a>
                                                </li>
                                                <li data-value="Visa" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Visa');" ng-enter="CashSaleModel.optionSelected('Visa');">
                                                        <span class = "">Visa</span>
                                                    </a>
                                                </li>
                                                <li data-value="Mastercard" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Mastercard');" ng-enter="CashSaleModel.optionSelected('Mastercard');">
                                                        <span class = "">Mastercard</span>
                                                    </a>
                                                </li>
                                                <li data-value="Amex" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Amex');" ng-enter="CashSaleModel.optionSelected('Amex');">
                                                        <span class = "">Amex</span>
                                                    </a>
                                                </li>
                                                <li data-value="Gift Card" class="paymentOptions">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Gift Card');" ng-enter="CashSaleModel.optionSelected('Gift Card');">
                                                        <span class = "">Gift Card</span>
                                                    </a>
                                                </li>
                                                <li data-value="Charge Account" class="paymentOptions"
                                                    ng-if="CashSaleModel.COData.coHeaderRec.CustomerId != null">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Charge Account');" ng-enter="CashSaleModel.optionSelected('Charge Account');"> 
                                                        <span class = "">Charge Account</span>
                                                    </a>
                                                </li>
                                                <li data-value="Charge Account" class="paymentOptions" 
                                                    ng-if="CashSaleModel.isStoreCreditPaymentMethodAvailable()">
                                                    <a href="" ng-click="CashSaleModel.optionSelected('Store Credit');" ng-enter="CashSaleModel.optionSelected('Store Credit');"> 
                                                        <span class = "">Store Credit</span>
                                                    </a>
                                                </li>
                                            </ul>
                                          </div><!-- /btn-group -->
                                        </div> <!-- /input-group -->
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutPaymentInput" id="">
                                            <div class="input-group">
                                                <span class="input-group-addon">$</span>
                                                <!-- Start: Changed by pooja 17-10-2016  -->
                                                <!-- <input class="form-control checkoutPaymentInputBox" id="" type="text" /> -->
                                                <number-only-input-cash-sale  class-val="form-control checkoutPaymentInputBox" id-val="checkoutPaymentInputBoxId" 
                                                input-value="CashSaleModel.Payment_Amount" ng-keydown=""
                                                disable-attr = "CashSaleModel.calculateBalanceDue() < 0"/> <!-- disable-attr 04/11/2016 -->
                                                <!-- End: Changed by pooja 17-10-2016  -->
                                            </div>
                                             <div ng-if="CashSaleModel.selectedOption == 'Cash' && CashSaleModel.calculateBalanceDue() >= 0" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 P0">
                                            <div class="P0">
                                                <p class="AmountDesc">Change Due {{((CashSaleModel.Payment_Amount - CashSaleModel.RoundedBalanceDue) > 0 ? (CashSaleModel.Payment_Amount - CashSaleModel.RoundedBalanceDue) : 0) | currency}}</p>
                                            </div>
                                        </div>
                                        </div>
                                         
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutAddPayment">
                                            <button type="button" id="checkoutAddPaymentBtnId" class="btn btn-default checkoutAddPaymentBtn" ng-click="CashSaleModel.addPayment()" ng-class="{'checkoutAddPaymentBtnDisabled': CashSaleModel.selectedOption == 'Please Select' || CashSaleModel.Payment_Amount == ''}" ng-disabled="CashSaleModel.selectedOption == 'Please Select' || CashSaleModel.Payment_Amount == ''">
                                            {{CashSaleModel.calculateBalanceDue() &lt; 0 ? 'REFUND PAYMENT' : 'ADD PAYMENT'}}
                                            </button> <!-- ADD PAYMENT 04/11/2016 -->
                                        </div>
                                    </div>
                                    </div>
                                    <div ng-if="!CashSaleModel.processingPayment">
                                        <div ng-show="!CashSaleModel.disableReversePaymentBtn() || CashSaleModel.calculateBalanceDue() == 0"> <!-- CashSaleModel.calculateBalanceDue() == 0 -> !CashSaleModel.disableReversePaymentBtn() Changed by richa 24/10/2016 -->
                                            <div class="checkoutPayment" ng-if="CashSaleModel.calculateBalanceDue() == 0">
                                                <p>Finalize the sale to close this order</p>
                                            </div>
                                            <div class="row checkoutPaymentContainer" ng-class="{'checkoutOtherPaymentActionPT': CashSaleModel.calculateBalanceDue() != 0}">
                                                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction reversePaymentDivForPartialPayment">
                                                    <button type="button" class="btn btn-default checkoutAddPaymentBtn reversePaymentBtnForPartialPayment" 
                                                        ng-click="CashSaleModel.openReversePaymentScreen()"
                                                        ng-class="{'checkoutAddPaymentBtnDisabled': CashSaleModel.disableReversePaymentBtn()}" 
                                                        ng-disabled="CashSaleModel.disableReversePaymentBtn()">
                                                        {{CashSaleModel.reverseRefundOption() ? 'REVERSE REFUND' : 'REVERSE PAYMENT'}} <!-- REVERSE PAYMENT -->
                                                    </button>
                                                </div>
                                                <div ng-if="CashSaleModel.calculateBalanceDue() == 0" class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction">
                                                    <button id="checkoutFinaliseSaleBtnId" type="button" class="btn btn-default checkoutAddPaymentBtn reversePaymentBtnForPartialPayment" ng-click="CashSaleModel.finalizeQuickSale();"
                                                    ng-class="{'checkoutAddPaymentBtnDisabled': CashSaleModel.calculateBalanceDue() != 0}" 
                                                    ng-disabled="CashSaleModel.calculateBalanceDue() != 0 || CashSaleModel.disableFinalizeButton "> <!-- ng-disabled, ng-class Added by richa 24/10/2016 -->
                                                    FINALIZE SALE
                                                    </button><!-- ng-click Added by richa 17/10/2016 -->
                                                </div>
                                            </div> 
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="CashSaleModel.COData.coHeaderRec.OrderStatus == 'Closed'">
                                    <div class="checkoutHeader">
                                        <p>Balance due</p>
                                    </div>
                                    <div class="checkoutBalance">
                                        <p ng-class="{'zeroBalance': CashSaleModel.calculateBalanceDue() == 0}">{{ CashSaleModel.calculateBalanceDue() | currency }}</p>
                                    </div>
                                    <div class="checkoutPayment">
                                        <p>This order is now closed</p>
                                    </div>
                                
                                    <div class="row checkoutPaymentContainer">
                                        <!-- Start: 02/11/2016 -->
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction">
                                            <button type="button" id="checkoutPrintReceiptBtnId" class="btn btn-default checkoutAddPaymentBtn" ng-click="CashSaleModel.printReceipt()">
                                            PRINT RECEIPT
                                            </button>
                                        </div>
                                        <!-- End: 02/11/2016 -->
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction">
                                            <button type="button" id="checkoutPrintInvoiceBtnId" class="btn btn-default checkoutAddPaymentBtn" ng-click="CashSaleModel.invoicePrintPriview()">
                                            PRINT INVOICE
                                            </button>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction">
                                            <button type="button" class="btn btn-default checkoutAddPaymentBtn exitButtontMT" ng-click="CashSaleModel.EmailInvoicePreview()">
                                            EMAIL INVOICE
                                            </button>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutOtherPaymentAction RedirectHomeLink">
                                            <a href ="" ng-click="CashSaleModel.NextActionOnExit()">
                                            GO BACK TO DASHBOARD
                                            </a>
                                        </div>
                                    </div>
                                </div>                          
                            </div>
                            <!-- End: Checkout content section -->
                            
                            
                            <!-- Start: Checkout reverse payment Dropdown and selected reverse payment section  -->
                            <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 p0" 
                            ng-class="{'Checkout_Wrapper': CashSaleModel.reversiblePaymentListLength() == 1 || CashSaleModel.isReversePaymentMethodSelectedFromDropdown, 'EditSaleSection': CashSaleModel.reversiblePaymentListLength() > 1 && !CashSaleModel.isReversePaymentMethodSelectedFromDropdown}"
                            ng-show="CashSaleModel.displaySection == 'Checkout' && CashSaleModel.IsPaymentReverseMode"> <!-- (CashSaleModel.COData.coInvoicePaymentRecs && CashSaleModel.COData.coInvoicePaymentRecs.length == 1) -->
                             <!-- (CashSaleModel.COData.coInvoicePaymentRecs && CashSaleModel.COData.coInvoicePaymentRecs.length > 1) --> <!-- ng-class changed by richa 24/10/2016 -->
                            
                                <!-- Start: Checkout Dropdown Container  -->
                                <div ng-show="CashSaleModel.reversiblePaymentListLength() > 1 && !CashSaleModel.isReversePaymentMethodSelectedFromDropdown" class="EditSaleDropdownContainer"> 
                                <!-- (CashSaleModel.COData.allCOLineItemRecs && CashSaleModel.COData.allCOLineItemRecs.length > 0 && CashSaleModel.COData.coInvoicePaymentRecs && CashSaleModel.COData.coInvoicePaymentRecs.length > 1) -->
                                <!-- CashSaleModel.reversiblePaymentListLength() Added by richa and commented by richa 24/10/2016 -->
                                    <div class="EditSaleDropdownLabel">
                                        <h3>Please, select the payment you would like to reverse</h3> <!-- Class="M0 Removed by richa 17/11/2016 -->
                                    </div>
                                    <div class="input-group EditSaleDropdown-input-group">
                                        <div class="input-group-btn">
                                            <button class="btn btn-default dropdown-toggle EditSaleDropdown-dropdown-toggle" data-toggle="dropdown" type="button" aria-haspopup="true" aria-expanded="false">Please Select<!-- {{CashSaleModel.selectedItemToEdit}} -->
                                                <span class="fa fa-angle-down"></span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li ng-repeat="payment in CashSaleModel.COData.coInvoicePaymentRecs" 
                                                    ng-enter="CashSaleModel.selectPaymentToBeReversed($index)"
                                                    ng-click="CashSaleModel.selectPaymentToBeReversed($index)" ng-if="CashSaleModel.COData.coInvoicePaymentRecs[$index].ReverseLink == null && CashSaleModel.COData.coInvoicePaymentRecs[$index].IsReverse == false"><!-- data-value="coli.Item" ng-if="!coli.IsTemporary", ng-if CashSaleModel.COData.coInvoicePaymentRecs[$index].Amount > 0 &&  -->
                                                    <a> 
                                                        <span class="">{{payment.PaymentMethod}} - {{payment.Amount | currency}}</span>
                                                    </a>
                                                </li>
                                            </ul>
                                          </div>
                                        </div>
                                    </div>
                                    <!-- End: Checkout Dropdown Container  -->
                                    
                                    <!-- Start: Checkout selected reverse payment -->
                                    <div  ng-show="CashSaleModel.reversiblePaymentListLength() == 1 || CashSaleModel.isReversePaymentMethodSelectedFromDropdown">
                                    <!-- (CashSaleModel.COData.allCOLineItemRecs && CashSaleModel.COData.allCOLineItemRecs.length > 0 && CashSaleModel.COData.coInvoicePaymentRecs && CashSaleModel.COData.coInvoicePaymentRecs.length == 1) -->
                                    <!-- CashSaleModel.reversiblePaymentListLength() Added by richa and commented by richa 24/10/2016 -->
                                        <div class="checkoutHeader">
                                            <p>Balance due</p>
                                        </div>
                                        <div class="checkoutBalance">
                                            <p ng-class="{'zeroBalance': CashSaleModel.calculateBalanceDue() == 0}">{{ CashSaleModel.calculateBalanceDue() | currency }}</p>
                                        </div>
                                        <div>
                                            <div class="checkoutPayment">
                                                <p>The following payment will be reversed</p> <!-- How is the customer paying for this order? 02/11/2016 -->
                                            </div>
                                            <div class="row checkoutPaymentContainer">
                                                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutPaymentDropdown input-group disabledElement">
                                                  <div class="input-group-btn" id="dropDownDiv" ng-class="{'open': CashSaleModel.isPaymentDropdownOpen == true}">
                                                    <button type="button" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle depositSelectDropdownBtn" id="depositSelectDropdownBtn" data-toggle="dropdown">
                                                        {{ CashSaleModel.selectedOption }}
                                                        <!-- <span class="fa fa-angle-down"></span> --> <!-- Commented by richa 24/10/2016 -->
                                                    </button>
                                                    <!-- <ul class="checkoutPaymentUL dropdown-menu" role="menu">
                                                        <li data-value="Cash" class="paymentOptions">
                                                            <a> 
                                                                <span class = "">Cash</span>
                                                            </a>
                                                        </li>
                                                    </ul> -->
                                                  </div><!-- /btn-group -->
                                                </div> <!-- /input-group -->
                                                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutPaymentInput disabledElement" id="">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <!-- <input class="form-control checkoutPaymentInputBox" id="" type="text" /> -->
                                                        <number-only-input-cash-sale class-val="form-control checkoutPaymentInputBox" id-val="checkoutPaymentInputBoxId" input-value="CashSaleModel.ReversePaymentAmount" ng-keydown=""/>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 landscapeWidth_col-md-4 checkoutAddPayment">
                                                    <button id="checkoutReversePaymentButton" type="button" class="btn btn-default checkoutAddPaymentBtn" ng-click="CashSaleModel.reversePayment()">
                                                    {{CashSaleModel.reverseRefundOption() ? 'REVERSE REFUND' : 'REVERSE PAYMENT'}}<!-- REVERSE PAYMENT -->
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Start: 02/11/2016 -->
                                        <div class="ReversePaymentCancelAction" style="width: 90px;"><!-- ng-click="CashSaleModel.cancelReversePaymentAction()": Removed By Pooja 17 Nov. 2016 -->
                                            <img src="{!Application_Images}/Cancel_Red.png" ng-click="CashSaleModel.cancelReversePaymentAction()"/><!-- ng-click="CashSaleModel.cancelReversePaymentAction()": Added by pooja 17 Nov. 2016 -->
                                            <!-- <div class="sprite Cancel_Red pull-left" ng-click="CashSaleModel.cancelReversePaymentAction()"></div> -->
                                            <span ng-click="CashSaleModel.cancelReversePaymentAction()">CANCEL</span><!-- ng-click="CashSaleModel.cancelReversePaymentAction()": Added by pooja 17 Nov. 2016 -->
                                        </div>
                                    </div>
                                    <!-- End: 02/11/2016 -->
                                    <!-- Start: Checkout selected reverse payment -->
                            </div>
                            <!-- End: Checkout reverse payment Dropdown and selected reverse payment section  -->
                        </div>
                        <!-- End: Checkout left panel When Line Item Recs length greater than 0 --> 
                        
                        <!-- Start: Checkout left panel When Line Item Recs length equals to 0 -->
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 EditSaleSection p0 ng-scope" ng-if="CashSaleModel.displaySection == 'Checkout' && !(CashSaleModel.COData.allCOLineItemRecs && CashSaleModel.COData.allCOLineItemRecs.length > 0)">
                            <div class="EditSaleDropdownLabel" ng-if="!CashSaleModel.COData.allCOLineItemRecs || CashSaleModel.COData.allCOLineItemRecs.length == 0">
                                <h3 class="M0">No line item added, Please first add items</h3>
                            </div>
                        </div>
                        <!-- End: Checkout left panel When Line Item Recs length equals to 0 -->        
                        <!-- End: Checkout left panel -->
                        
                        
                        <!-- Start: Review Sale left panel added by richa 14/10/2016 -->
                        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 ReviewSaleWrapper p0" ng-if="CashSaleModel.displaySection == 'Review Sale'">
                        
                            <!-- Start: Added By Pooja 15 Mar. 2017 -->
                            <div class="STA_text_header">
                                <div class="STA_Holder">
                                    <h3>Search for the Part/Fee to add:</h3>
                                        <!-- <div class="fadein" ui-view="CashSaleSTA" autoscroll='false'></div> -->
                                        <c:CashSaleSTA />
                                </div>
                            </div>
                            <!-- End: Added By Pooja 15 Mar. 2017 -->
                            
                            <!-- Start: Commented by Pooja 15 Mar. 2017 -->
                            <!-- <div class="ReviewSaleHeader">
                                <p>Please select an option</p>
                            </div> -->
                            <!-- End: Commented by Pooja 15 Mar. 2017 -->
                            
                            <div class="row ReviewSaleOptionsContainer">
                            
                                <!-- Start: Commented by Pooja 15 Mar. 2017 -->
                                <!-- <div class="ReviewSaleOptionBlock ReviewSaleAddToSaleBlock" id="ReviewSaleAddToSaleBlock" tabindex="1" 
                                ng-class="{'disableReviewOptions': CashSaleModel.disableChevronWhenOrderClosed()}"
                                ng-enter="CashSaleModel.navigateFromReviewScreen($event, 1);" ng-click="CashSaleModel.navigateFromReviewScreen($event, 1);">
                                    <img src="{!URLFOR($Resource.CashSaleCOImages, 'CashSaleCOImages/AddToCart.png')}"/>
                                    <p>ADD TO SALE</p>
                                </div> -->
                                <!-- End: Commented by Pooja 15 Mar. 2017 -->
                                
                                <div class="ReviewSaleOptionBlock ReviewSaleEditSaleBlock" id="ReviewSaleEditSaleBlock" tabindex="2" 
                                ng-class="{'disableReviewOptions': (CashSaleModel.disableChevronWhenNoLI() && !CashSaleModel.IsNewLineItemInserted) || CashSaleModel.disableChevronWhenOrderClosed()}" 
                                ng-enter="CashSaleModel.navigateFromReviewScreen($event, 2);" ng-click="CashSaleModel.navigateFromReviewScreen($event, 2);">
                                    <p>EDIT SALE</p>
                                </div>
                                <div class="ReviewSaleOptionBlock ReviewSaleCheckoutBlock" id="ReviewSaleCheckoutBlock" tabindex="3" 
                                ng-class="{'disableReviewOptions': CashSaleModel.disableChevronWhenNoLI()}" 
                                ng-enter="CashSaleModel.navigateFromReviewScreen($event, 4); CashSaleModel.openCheckoutScreen($event);" ng-click="CashSaleModel.navigateFromReviewScreen($event, 4); CashSaleModel.openCheckoutScreen($event);">
                                    <p>CHECKOUT</p>
                                </div>
                            </div>
                        </div>
                        <!-- End: Review Sale left panel added by richa 14/10/2016 -->
                        
                        
                        
                        <!-- End: Cash Sale left panel -->
                        
                        <!-- Start: Cash Sale right panel -->
                        <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 cashSaleDetailsSection p0">
                            
                            
                            <div class="cashSaleHeader_and_cashSaleGridWrpper"> <!-- <div class="cashSaleHeader_and_cashSaleGridWrpper"> Added by pooja 18 Nov. 2016 -->
                                <!-- Start: Cash Sale header, OrdNumber and status container -->
                                <div class="cashSale_header_OrdNumber_status">
                                    <div class="cashSaleHeader">
                                        <p class="coHeaderNumber">{{CashSaleModel.COData.coHeaderRec.OrderName}}</p>
                                        <p class="coHeaderStatus">Status:&nbsp;&nbsp;{{CashSaleModel.COData.coHeaderRec.OrderStatus}}</p>
                                    </div>
                                    <div class="cashSaleHeaderDivider">
                                        <span class="divider">|</span>
                                    </div>
                                    <div class="cashSaleOrdNumberAndstatus selectCustomer" ng-if="CashSaleModel.showSelectCustomerOption()">
                                      <a ng-click="CashSaleModel.addCustomer()">{{CashSaleModel.COData.coHeaderRec.CustomerId != null ? 'Change Customer' : 'Select a Customer'}}</a>
                                    </div>
                                    <div class="cashSaleOrdNumberAndstatus" ng-class="{'marginWhenNoSelectCustomerOption': !CashSaleModel.showSelectCustomerOption()}">           
                                        <div class="row M0 custName">{{CashSaleModel.COData.coHeaderRec.CustomerId != null ? CashSaleModel.COData.coHeaderRec.CustomerName : 'Cash Sale'}}</div>
                                        <div class="row M0 custDetails" ng-if="CashSaleModel.CustomerInfoData.Cust_PreferredPhone != ''">{{CashSaleModel.CustomerInfoData.Cust_FormattedPreferredPhone}}</div>
                                                                                                                                        <!-- | tel: Added By Pooja 4 Feb. 2017 -->
    
    
                                        <div class="row M0 custDetails" ng-if="CashSaleModel.CustomerInfoData.Cust_PreferredEmail != ''">{{CashSaleModel.CustomerInfoData.Cust_PreferredEmail}}</div>
                                    </div>
                                </div>
                                <!-- End: Cash Sale header, OrdNumber and status container -->
                               <div class="cashSaleGridWrpper">
                                   <!-- Start: cashSaleGridContainer -->
                                   <div class="cashSaleGridContainer">
                                        <table class="table cashSaleGrid" id="cashSaleGrid">
                                            <col width="5%"  />
                                            <col width="42%"  />
                                            <col width="16%"  />
                                            <col width="16%"  />
                                            <col width="16%"  />
                                            <col width="5%"  />
                                            <thead>
                                                <tr  class="tableHeader">
                                                    <th></th>
                                                    <th class="text-left">Item</th>
                                                    <th class="text-center">Quantity</th>
                                                    <th class="text-right priceHeader">Price</th> <!-- text-center 02/11/2016 -->
                                                    <th class="text-right">Total</th>
                                                    <th></th>
                                                </tr>       
                                           </thead> 
                                           
                                           <tbody class="cashSaleGridTbody"
                                                ng-if="CashSaleModel.COData.allCOLineItemRecs.length != 0" >
                                               <tr ng-repeat="coli in CashSaleModel.COData.allCOLineItemRecs">
                                                    <!-- ng-if="!coli.IsTemporary"> --> <!-- 05/11/2016 -->
                                                   <td></td>
    
    
                                                   <td class="text-left" id="COLI_ItemDesc_{{$index}}" 
                                                        ng-class="{'editedLineItemAttributeBackground': CashSaleModel.editedLineItemAttributeId == 'COLI_ItemDesc_{{$index}}'}">{{coli.Item}}</td>
                                                                                        <!-- ng-class="Added By Pooja 2 Feb. 2017 -->
                                                   <td class="text-center"><span id="quantity_{{$index}}" ng-class="{'editedLineItemAttributeBackground': CashSaleModel.editedLineItemAttributeId == 'quantity_{{$index}}'}">{{coli.Qty}}</span></td>
                                                   <td class="text-right"><span id="price_{{$index}}" ng-class="{'editedLineItemAttributeBackground': CashSaleModel.editedLineItemAttributeId == 'price_{{$index}}'}">{{coli.Price | currency}}</span></td> <!-- text-center 02/11/2016 -->
                                                   <td class="text-right">{{coli.SubTotal | currency}}</td>
                                                   <td></td>
                                               </tr>
                                            </tbody>
                                            <tbody class="cashSaleGridTbody"
                                                ng-if="CashSaleModel.disableChevronWhenNoLI()" >   <!-- CashSaleModel.COData.allCOLineItemRecs.length == 0 -->
                                               <tr>
                                                   <td></td>
                                                   <td class="text-left">--</td>
                                                   <td class="text-center">--</td>
                                                   <td class="text-right NoLIPaddingRight">--</td> <!-- Changed by richa 11/11/2016 --> <!-- NoLIPaddingRight Added 14/11/2016 -->
                                                   <td class="text-right">--</td>
                                                   <td></td>
                                               </tr>
                                           </tbody>
                                        </table>
                                    </div>
                                   <!-- Start: Cash Sale total due section -->
                                    
                                   <!-- Start: Cash Sale total section -->
                                   <div class="CashSaleTotalDueSection" id="gridContinerDueSection"
                                        ng-if="CashSaleModel.COData.coInvoicePaymentRecs.length != 0">
                                       <div class="salesTax"> 
                                           <div class="labelSalesTax">Sales tax</div>
                                           
                                           <div class="valueSalesTax">{{CashSaleModel.COData.SalexTax | currency}}</div>
                                       </div>
                                       
                                       <div class="totalDue"> 
                                           <div class="labelTotalDue">Total</div>
                                           
                                           <div class="valueTotalDue">{{CashSaleModel.COData.MerchandiseTotal | currency}}</div>
                                       </div>
                                   </div>
                                   <!-- Start: Cash Sale total section --> 
                               </div>  
                                <!-- Start: Cash Sale total due section -->
                            
                            
                            </div>
                            <div class="CashSaleTotalDueSection FixedCashSaleTotalDueSection" id="mainContainerDueSection"
                                ng-class="{'zeroDueBalance': CashSaleModel.calculateBalanceDue() == 0 && (CashSaleModel.COData.coInvoicePaymentRecs.length != 0 || CashSaleModel.COData.allCOLineItemRecs.length > 0)}" > <!-- || CashSaleModel.COData.allCOLineItemRecs.length > 0 added by richa 02/12/2016 -->
                                <div ng-if="CashSaleModel.COData.coInvoicePaymentRecs.length == 0">
                                    <div class="salesTax"> 
                                        <div class="labelSalesTax">Sales tax</div>
                                        <div class="valueSalesTax">{{CashSaleModel.COData.SalexTax | currency}}</div>
                                    </div>
                                    
                                    <div class="totalDue"> 
                                        <div class="labelTotalDue">Total Due</div>
                                        <div class="valueTotalDue">{{CashSaleModel.COData.MerchandiseTotal | currency}}</div>
                                    </div>
                                </div>
                                
                                <div ng-if="CashSaleModel.COData.coInvoicePaymentRecs.length != 0">
                                    <div class="salesTax FW400"> 
                                        <div class="labelSalesTax">Payment received</div>
                                    </div>
                                    
                                    <div class="salesTax PT0" 
                                        ng-repeat = "payment in CashSaleModel.COData.coInvoicePaymentRecs"
                                        ng-if="payment.PaymentMethod != 'Cash Rounding'"> 
                                        <div class="labelSalesTax">{{payment.PaymentMethod}}</div>
                                        <div class="valueSalesTax">{{payment.Amount | currency}}</div>
                                    </div>
                                    <div class="totalDue"> 
                                        <div class="labelTotalDue">Balance Due</div>
                                        <div class="valueTotalDue">{{CashSaleModel.calculateBalanceDue() | currency}}</div>
                                    </div>
                                </div>
                            </div>
                            <!-- End: Cash Sale total due section -->
                        </div>
                        <!-- End: Cash Sale right panel -->
                    </div>
                    <!-- End: cash Sale Content Section -->
                    
                    <!-- Start: cash Sale Copyright Section -->
                    <!-- <div class="row cashSaleCopyright M0">Blackpurl @ 2016 All Rights Reserved  Terms of Use  Privacy Policy</div> -->
                    
                    <div class="row cashSaleCopyright M0">
                        <p>Blackpurl @ 2016 All Rights Reserved 
                            <a href="http://www.blackpurl.com/terms-of-use/" target="_blank">Terms of Use</a>
                            <a href="http://www.blackpurl.com/privacy-policy/" target="_blank">Privacy Policy</a>
                        </p>
                   </div>
                    
                    <!-- End: cash Sale Copyright Section -->
    
    
                    <div class="modal fade" id="NavigateConfirmBox">
                        <div class="modal-dialog custom_modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Confirm Action</h4>
                                </div>
                                <div class="modal-body">
                                    <p>The Changes you made are not saved.</p>
                                </div>
                                <div class="modal-footer">   
                                    <button type="button" class="btn btn-primary YesBtn"
                                        ng-click="CashSaleModel.ConfirmBox_Response(true)">Navigate</button>
                                    <button type="button" class="btn btn-default"
                                        ng-click="CashSaleModel.ConfirmBox_Response(false)">Don't Navigate</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            
            
                <!-- Start: 07/11/2016 -->
                <div id="OversoldPopUp" class="modal fade OversoldPopUp" role="dialog" ng-controller="">
                    <div class="modal-dialog modal-dialog_Oversold">
                        <!-- Modal content-->
                        <div class="modal-content col-md-12">
                            <div class="modal-body popupContainerOversold">
                                <div class="popupinside">
                                    <div class="OversoldHeading">
                                        <p>Your needs exceed the amount available in stock.</p>
                                    </div>
                                    <div  class="M0 OversoldPartDetails">
                                      <h3 class="M0" ng-if="!CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.editLineItem.Item}}</h3>
                                      <h3 class="M0" ng-if="CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.recentlyAddedLineItem.AdditionalDetails.Item}}</h3>
                                      <div class="AvailableInventoryAndPrice">
                                        <p class="M0 AvailableInventoryLabel">Available Inventory:</p>
                                        <p class="M0 AvailableInventoryValue" ng-if="!CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.editLineItemCopy.Qty &lt; 0 ? CashSaleModel.editLineItem.AvaliablePartsQty : (CashSaleModel.editLineItem.AvaliablePartsQty + CashSaleModel.editLineItemCopy.Qty)}}</p> <!-- Changed 11/11/2016 -->
                                        <p class="M0 AvailableInventoryValue" ng-if="CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.recentlyAddedLineItem.AdditionalDetails.AvailableQty}}</p> <!-- Added 11/11/2016 -->
                                        <p class="M0 AvailableInventoryAndPriceDivider">|</p>
                                    
                                        <p class="M0 priceLabel">Price:</p>
                                        <p class="M0 priceValue" ng-if="!CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.editLineItemCopy.Price | currency}}</p> <!-- Changed 11/11/2016 -->
                                        <p class="M0 priceValue" ng-if="CashSaleModel.IsNewLineItemInserted">{{CashSaleModel.recentlyAddedLineItem.AdditionalDetails.Price | currency}}</p> <!-- Added 11/11/2016 -->
                                     </div>
                                    </div>
                                    <div class="OversoldAvailableInventoryAndPriceBorderBottom"></div>
                                    <div class="OversoldActionHeading">
                                        <p>Would you like to switch to a customer sale and create a special order?</p>
                                    </div>
                                    <div class="OversoldActionsContainer">
                                        <button id="createSpecialOrderActionBtn" type="button" class="btn btn-default OversoldActionBtn" ng-click="CashSaleModel.openSelectCustomerPopUpForSpecialOrder();"> <!-- CashSaleModel.createSpecialOrderAction() -> CashSaleModel.openSelectCustomerPopUpForSpecialOrder() Changed by richa 02/02/2017 -->
                                            CREATE SPECIAL ORDER
                                        </button>
    
    
                                        <button id="oversoldActionBtn" type="button" class="btn btn-default OversoldActionBtn OversoldActionBtnMR" 
                                            ng-click="CashSaleModel.forceOversoldAction();" ng-if="GroupOnlyPermissions['Oversell inventory'].enabled">
                                            FORCE OVERSOLD
                                        </button>
                                    </div>
                                    <div class="OversoldCancelAction" ><!-- ng-click="CashSaleModel.closeOversoldPopup();": Removed by Pooja 17 Nov. 2016 -->
                                        <img src="{!Application_Images}/Cancel_Red.png" ng-click="CashSaleModel.closeOversoldPopup(true);"/><!-- ng-click="CashSaleModel.closeOversoldPopup();": Added by pooja 17 Nov. 2016 -->
                                        <!-- <div class="sprite Cancel_Red pull-left" ng-click="CashSaleModel.closeOversoldPopup();"></div> -->
                                        <span ng-click="CashSaleModel.closeOversoldPopup(true);">CANCEL</span><!-- ng-click="CashSaleModel.closeOversoldPopup();": Added by Pooja 17 Nov. 2016 -->
                                    </div>
                            </div>
                        </div>
    
                    </div>
                </div>
                <!-- Start: Added by richa 10/02/2017 -->
                <div class="gridLoadingContainer" ng-if="CashSaleModel.displayGrid">
                    <div class="gridLoadingDiv">
                        <img src="{!Application_Images}/Home_Search_loading.gif" title="Please wait ..."/>
                    </div>
                </div>
                <!-- End: Added by richa 10/02/2017 -->
               </div>
               <!-- End: 07/11/2016 -->
            </div>
         </div>
        
</apex:page>