<apex:page standardStylesheets="false" showChat="false" showHeader="false" controller="CustomerOrderCtrl" sidebar="false" applyHtmlTag="false" applyBodyTag="false" 
    contentType="application/javascript">

    define(['Routing_AppJs_PK'], function (Routing_AppJs_PK) {
        Routing_AppJs_PK.factory('CustomerInfoService', ['$q', function ($q) {
            return {
            	EditCustomerDetails: function(customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCustomer}', customerId);
	           	},
	           	
	           	showHistoryOnSuppressPopup: function(partId , customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.showHistoryOnSuppressPopup}', partId ,customerId);
	           	},
	           	
	           	updateDealFinanceStatus: function(coHeaderId, dealId, financeList, financeStatus){
	           		financeList = angular.toJson(financeList);
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateDealFinanceStatus}', coHeaderId, dealId, financeList, financeStatus);
	           	},
	           	
	           	createDealMerchAndServiceSetion: function(dealId, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.createDealMerchAndServiceSetion}', dealId, coHeaderId);
	           	},
	           	
	           	insertLogRecord: function(WorkLog, type){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.insertLogRecord}', WorkLog, type);
	           	},
	           	
	           	customerInfo: function(customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getRecordById}', customerId);
	           	},
	           	
	           	getCOHeaderDetails: function(CoheaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCOHeaderDetails}', CoheaderId);
	           	},
	           	
    			getCOHeaderDetailsByGridName: function(CoheaderId, gridName){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCOHeaderDetailsByGridName}', CoheaderId, gridName);
	           	},
	           	
	           	removeCOLineItem: function(COLineItemId, COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.deleteCOLineItem}', COLineItemId, COHeaderId);
	           	},
 
    			updateDealStatus: function(dealId, dealStatus){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateDealStatus}', dealId, dealStatus);
	           	},
    
    			splitCOKHItem: function(COKHId, COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.splitCOKHItem}', COKHId, COHeaderId);
	           	},
	           	
	           	removeLineItemsInMerchGrid: function(lineItemId, COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeLineItemsInMerchGrid}', lineItemId, COHeaderId);
	           	},
    
      			AddDeposit: function(depositModel){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveCODeposit}', depositModel);
	           	},
        
        		AddDealDeposit: function(depositModel, dealId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveCODealDeposit}', depositModel, dealId);
	           	},
	           	
	           	getDealCoDeposits: function(dealId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getDealCoDeposits}', dealId);
	           	},
	           	
	           	getCODepositByCOHeaderId: function(coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCODepositByCOHeaderId}', coHeaderId);
	           	},
	           	
	           	UpdateChekoutItems: function(CheckoutListJson, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateCOInvoiceItem}', CheckoutListJson, coHeaderId);
	           	},
	           	
	           	AddPayment: function(PaymentModel){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveCOInvoicePayment }', PaymentModel);
	           	},
	           	
	           	removeCustomer: function(coHeaderId, customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addCustomer }', coHeaderId, customerId);
	           	},
	           	
	           	FinaliseInvoice: function(checkOutItems, coHeaderId, checkoutMode){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.closedInvoiceAction }', checkOutItems, coHeaderId, checkoutMode);
	           	},
	           	
	           	FinaliseOrder: function(checkOutItems, coHeaderId, checkoutMode){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.closedOrderAction }', checkOutItems, coHeaderId, checkoutMode);
	           	},
	           	
	           	InvoiceDetails: function(InvoiceHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getInvoiceHistoryWrapperList}', InvoiceHeaderId);
	           	},
	           	
	           	createSpecialOrder: function(partId, coli, voHeaderId, coHeaderId, itemsPageSortAttrsJSON, customersPageSortAttrsJSON, stocksPageSortAttrsJSON){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addVOHeaderToCOLI}', partId, coli, voHeaderId, coHeaderId, itemsPageSortAttrsJSON, customersPageSortAttrsJSON, stocksPageSortAttrsJSON);
	           	},
	           	
	           	createSpecialOrderServiceOrder: function(partId, coli, voHeaderId, coHeaderId, itemsPageSortAttrsJSON, customersPageSortAttrsJSON, stocksPageSortAttrsJSON){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addVOHeaderToCOLIServiceOrder}', partId, coli, voHeaderId, coHeaderId, itemsPageSortAttrsJSON, customersPageSortAttrsJSON, stocksPageSortAttrsJSON);
	           	},
	           	
	           	updateCOKHLineItems: function(coKHItems, CoHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateCOKHLineItems}', coKHItems, CoHeaderId);
	           	},
	           	
	           	updateCOKHLineItemsRecalculation: function(coKHItems, CoHeaderId, CoKHLineItem){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateCOKHLineItemsRecalculation}', coKHItems, CoHeaderId, CoKHLineItem);
	           	},
	           	
	           	getGridTotal: function(coHeaderId, gridId, gridName, isAustralianMarket){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getGridTotal}', coHeaderId, gridId, gridName, isAustralianMarket);
	           	},
	           	
	           	createSOHeader: function(CoHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.createSOHeader}', CoHeaderId);
	           	},
	           	
	           	removeMerchandiseSection: function(coHeaderId, removeMerchSection){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeMerchandiseSection}', coHeaderId, removeMerchSection);
	           	},	           	
	           	refreshCOPricingAndTax: function(CoHeaderId, customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.refreshCOPricingAndTax}', CoHeaderId, customerId);
	           	},	           	
	           	getCheckoutSalesTax: function(coInvoiceId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCheckoutSalesTax}', coInvoiceId);
	           	},	           	
	           	deleteCustomerOrder: function(coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.deleteCustomerOrder}', coHeaderId);
	           	},
	           	setCOStatusAsQuote: function(coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.setCOStatusAsQuote}', coHeaderId);
	           	},
	           	activateQuoteCO: function(coHeaderId){ 
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.activateQuoteCO}', coHeaderId);
	           	},
	           	deleteQuoteCustomerOrder: function(coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.deleteQuoteCustomerOrder}', coHeaderId);
	           	},
	           	getAlternatePartsList: function(partId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getAlternatePartsList}', partId);
	           	}
            };
        }]);  
        
         Routing_AppJs_PK.factory('DealService', ['$q', function ($q) {
            return {
            	getDealData: function(COHeaderId, gridName){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getDealDetails}', COHeaderId, gridName);
	           	},
	           	
	           	getCOUListByCustomerId: function(COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCOUListByCustomerId}', COHeaderId);
	           	},
	           	
	           	insertOptionAndFeeLineItems: function(partId,COHeaderId, dealId,dealItemId,lineItemJson,isSuppress,isDuplicate){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.insertOptionAndFeeLineItems}', partId, COHeaderId,dealId, dealItemId,lineItemJson, isSuppress,isDuplicate);
	           	},
	           	
	           	insertKitHeaderInDealMerchGrid: function(kitHeaderId,dealId, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.insertKitHeaderInDealMerchGrid}', kitHeaderId, dealId,coHeaderId);
	           	},
	           	
	           	saveTemporaryUnit: function(dealId, DealOwnedUnitJSON){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveTemporaryUnit}', dealId,DealOwnedUnitJSON);
	           	},
	           	
	           	recalculationOfDealKHLineItems: function(dealKHJSON, dealKHLineItemJSON){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.recalculationOfDealKHLineItems}', dealKHJSON, dealKHLineItemJSON);
	           	},
	           	
	           	removeUnitFromDeal: function(dealId, deatItemId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeUnitFromDeal}', dealId, deatItemId);
	           	},
	           	
	           	updateTradeIn: function(dealId, dealTradInJSON){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateTradeIn}', dealId, dealTradInJSON);
	           	},
	           	
	           	moveDealMerchAndServiceLineItems: function(optionFeeRecId, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.moveDealMerchAndServiceLineItems}', optionFeeRecId, coHeaderId);
	           	},
	           	
	           	createDeal: function(COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.createDeal}', COHeaderId);
	           	},
	           	
	           	resolveFulfillment: function(dealId, unresolvedFulfillmentObjJSON, chargeMethod, selectedUnitId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.resolveFulfillment}', dealId, unresolvedFulfillmentObjJSON, chargeMethod, selectedUnitId);
	           	},
	           	
	           	saveOptionFeesLineItem: function(dealId, dealItemId, optionjSONString){
	           		return RemoteActionService($q,  '{!$RemoteAction.CustomerOrderCtrl.saveOptionFeesLineItem}', dealId, dealItemId, optionjSONString);
	           	},
	           	
	           	removeOptionFeesItem: function(dealItemId, optionFeesId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeOptionFeesLineItem}', dealItemId, optionFeesId);
	           	},
	           	
	           	updateDealUnitCostPrice: function(updateDealUnitCostPriceJson, dealId, dealItemId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateDealUnitCostPrice}', updateDealUnitCostPriceJson, dealId, dealItemId);
	           	},
	           	
	           	removeFIProductItems: function(dealItemId, fIProductId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeFAndIProductLineItem}', dealItemId, fIProductId);
	           	},
	           	
	           	saveFAndIProductLineItems: function(dealId, fAndIProductJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveDealFAndIProduct}', dealId, fAndIProductJson);
	           	},
	           	removeDeal: function(dealId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeDeal}', dealId);
	           	},
	           	updateStampDuty: function(dealItemId, stampDutyTotal){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateStampDuty}', dealItemId, stampDutyTotal);
	           	},
	           	toggleRideawayPricingEnabled: function(dealItemId, totalEnforceRideawayPrice, IsRideawayPricingEnabled){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.toggleRideawayPricingEnabled}', dealItemId, totalEnforceRideawayPrice, IsRideawayPricingEnabled);
	           	},
	           	updateRideawayPricing: function(dealItemId, unitJsonString){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateRideawayPricing}', dealItemId, unitJsonString);
	           	}
	          };
        }]); 
        
        Routing_AppJs_PK.factory('SOHeaderService', ['$q', function ($q) {
            return {
            	getSOMasterData: function(COHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getSOMasterData}', COHeaderId);
	           	},
	           	
	           	deleteServiceOrder: function(COHeaderId, soHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.deleteServiceOrder}', COHeaderId, soHeaderId);
	           	},
	           	
	           	saveDealInfoDetails: function(dealId, dealInfoJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveDealInfoDetails}', null, dealId, dealInfoJson);
	           	},
	           	
	           	saveScheduleDate: function(soHeaderId, scheduledDate){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveScheduleDate}', soHeaderId, scheduledDate);
	           	},
	           	
	           	updateDealFinanceDetails: function(dealId, DealFinancelInfoJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateDealFinanceDetails}', dealId, DealFinancelInfoJson);
	           	},
	           	
	           	getDealFinanceMasterData: function(dealId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getDealFinanceMasterData}');
	           	},
	           	
	           	getSOHeaderDetails: function(COHeaderId, gridName){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getSOHeaderDetails}', COHeaderId, gridName);
	           	},
	           	
	           	editDeductibleAmount: function(deductibleJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addDeductibleAmount}', deductibleJson);
	           	},
	           	
	           	saveSOSignIn: function(COHeaderId, signInInfo){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveSOSignIn}', COHeaderId, signInInfo);
	           	},
	           	
	           	saveSOReviewInfo: function(COHeaderId, SoReviewInfo){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveSOReviewInfo}', COHeaderId, SoReviewInfo);
	           	},
	           	
	           	saveSOHeaderInfo: function(COHeaderId, SOHeaderInfo){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveSOHeaderInfo}', COHeaderId, SOHeaderInfo);
	           	},
	           	
	           	savePinnedItems: function(pinnedItemJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.savePinItems}', pinnedItemJson);
	           	},
	           	
	           	saveSOName: function(coHeaderId, soName, soId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveSOName}', coHeaderId, soName, soId);
	           	},
	           	
	           	saveSOStatusToComplete: function(soHeaderId, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.changeSOHeaderStatusToComplete}', soHeaderId, coHeaderId);
	           	},
	           	
	           	addLineItems: function(lineItemId, soHeaderId, coHeaderId, customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addLineItems}', lineItemId, soHeaderId, coHeaderId, customerId);
	           	},
	           	
	           	checkDuplicateParts: function(partId, coHeaderId,jSONString ,isSuppress,isDuplicate,soHeaderId,customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.insertCOLineItems }', partId, coHeaderId,jSONString,isSuppress,isDuplicate,soHeaderId,customerId);
	           	},
	           	
	           	saveCOU: function(couJSONString, customerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveCOU}', couJSONString, customerId);
	           	},
	           	
	           	splitSOKHItem: function(lineItemId, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.splitSOKHItem}', lineItemId, coHeaderId);
	           	},
	           	
	           	removeLineItems: function(lineItemId, coHeaderId, soHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeLineItems}', lineItemId, coHeaderId, soHeaderId);
	           	},
	           	
	           	updateSOLineItems: function(lineItemJSON, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateSOLineItems}', lineItemJSON, coHeaderId);
	           	},
	           	
	           	updateSOKHLineItems: function(soKHItemJSON, coHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.updateSOKHLineItems}', soKHItemJSON, coHeaderId);
	           	},
	           	
	           	getVendorOrderByVendorId: function(vendorId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getVendorOrderByVendorId}', vendorId);
	           	},
	           	
	           	moveLineItem: function(sectionFrom, sectionTo, idToMove, coheader){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.moveLineItem}', sectionFrom, sectionTo, idToMove, coheader);
	           	},
	           	
	           	getProviderInformation: function(providerId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getProviderInfo}', providerId);
	           	},
	           	addServiceOrderLineItems: function(partIds, soHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.addServiceOrderLineItems}', partIds, soHeaderId);
	           	}
	          };
        }]); 
        
        Routing_AppJs_PK.factory('WizardService', ['$q', function ($q) {
            return {
            	getWizardInfo: function(SOHeaderId, wizardkey){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getWizardInfo}', SOHeaderId, wizardkey);
	           	},
	           	
	           	saveClaimResponse: function(SOHeaderId, ClaimResponseJson, isSaveExit){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveClaimResponse}', SOHeaderId, ClaimResponseJson, isSaveExit);
	           	},
	           	
	           	sendOnSignInWizard: function(custJsonStr, Notes, soHeaderId, customerName){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.sendOnSignInWizard}', custJsonStr, Notes, soHeaderId, customerName);
	           	},
	           	
	           	changeStatus: function(soHeaderId, newWorkStatus, wizardType){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.changeStatus}', soHeaderId, newWorkStatus, wizardType);
	           	},
	           	
	           	saveWizardDetails: function(soHeaderId, wizardkey, wizardJsonToSave, deleteRecordsJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveWizardDetails}', soHeaderId, wizardkey, wizardJsonToSave, deleteRecordsJson);
	           	},
	           	
	           	saveCustomerApprovalInfo: function(soHeaderId, JSONString){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveCustomerApprovalInfo}', soHeaderId, JSONString);
	           	},
	           	
	           	getCustomerApprovalInfo: function(soHeaderId, sectionkey, approvalCount){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getCustomerApprovalInfo}', soHeaderId, sectionkey, approvalCount);
	           	},
	           	
	           	submitClaimRecords: function(soHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.submitClaimRecords}', soHeaderId);
	           	}
            };
        }]); 
        
        
        Routing_AppJs_PK.factory('FileUploadService', ['$q', function ($q) {
            return {
            	removeAttachment: function(attachmentId, soHeaderId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.removeAttachment}', attachmentId, soHeaderId);
	           	},
	           	
	           	PrintPreviewDetails: function(PrintPreviewId){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.getPrintingInfo}', PrintPreviewId);
	           	}
            };
        }]); 
        
        Routing_AppJs_PK.factory('SOPrintWorkSheetService', ['$q', function ($q) {
            return {
            	getSaveWorkseetSelectionJson: function(COHeaderId, saveWorkseetSelectionJson){
	           		return RemoteActionService($q, '{!$RemoteAction.CustomerOrderCtrl.saveWorkseetSelectionJson}', COHeaderId, saveWorkseetSelectionJson);
	           	}
            };
        }]); 
        
        return Routing_AppJs_PK;
    }); 
</apex:page>